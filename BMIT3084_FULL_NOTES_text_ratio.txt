Switching, Routing, and Wireless Essentials v7.0
Chapter 1 Part 1
Module 15: IP Static Routing
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
Module Objectives
Module Title:
IP Static Routing
Module Objective
Configure IPv4 and IPv6 static routes.
Topic Title
Topic Objective
Static Routes
Describe the command syntax for static routes.
Configure IP Static Routes
Configure IPv4 and IPv6 static routes.
Configure IP Default Static
Routes
Configure IPv4 and IPv6 default static routes.
Configure Floating Static
Routes
Configure a floating static route to provide a backup connection.
Configure Static Host Routes
Configure IPv4 and IPv6 static host routes that direct traffic to a
specific host.
15.1 Static Routes
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
0 Tw 0 -2.782 TD
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
(and
Static Routes
Types of Static Routes
Static routes are commonly implemented on a network. This is true even when there is a
dynamic routing protocol configured.
Static routes can be configured for IPv4 and IPv6. Both protocols support the following
types of static routes:
Standard static route
Default static route
Floating static route
Summary static route
Static routes are configured using the
route
ipv6 route
global configuration
commands.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
Next
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
(and
Static Routes
Next
Hop Options
When configuring a static route, the next hop can be identified by an
IP address
exit
interface, or both
. How the destination is specified creates one of the three following types
of static route:
hop static route
Only the
next
hop IP address
is specified
Directly connected static route
Only the router
exit interface
is specified
Fully specified static route
The
next
hop IP address
exit interface
are
specified
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
0.001 Tc -0.001 Tw 0 -2.692 TD
/TT2 1 Tf
0 Tc 0 Tw (-
add)-8 (ress su)-8 (bnet)]TJ
mask
ad)-8 (dress )]TJ
/TT3 1 Tf
exit
intf
/TT3 1 Tf
EMC
/TT4 1 Tf
/TT0 1 Tf
/TT5 1 Tf
/TT0 1 Tf
/TT0 1 Tf
/TT5 1 Tf
/TT0 1 Tf
(and
Static Routes
IPv4 Static Route Command
IPv4 static routes are configured using the following global configuration command:
ip route
network
address subnet
address
ip-address
Note:
Either the
address
exit
intf,
or the
address
exit
intf
parameters must be
configured.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
0.001 Tc -0.001 Tw 0 -2.692 TD
/TT2 1 Tf
-0.001 Tw (ipv6
0 Tc 0 Tw (-
/TT3 1 Tf
0 Tc 0 Tw (-
a)-8 (ddress )]TJ
/TT3 1 Tf
exit
intf
ipv6
/TT3 1 Tf
/TT3 1 Tf
0 Tc 0 Tw (]
Static Routes
IPv6 Static Route Command
IPv6 static routes are configured using the following global configuration command:
ipv6 route
prefix/prefix
length
ipv6
address
ipv6-address
distance
Most of parameters are identical to the IPv4 version of the command.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
Static Routes
Dual
Stack Topology
The figure shows a dual
stack network topology. Currently, no static routes are configured
for either IPv4 or IPv6.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
sh)-11.3 (ow ip route )-11.3 (| begin)-11.2 ( Gateway )]TJ
EMC
/TT1 1 Tf
[(Gatewa)-11.2 (y of last re)-11.2 (sort is)-11.3 ( not set )]TJ
EMC
EMC
EMC
EMC
172.16)-11.2 (.3.0/24 is d)-11.2 (irectly)-11.3 ( connected, )-11.3 (Gigabit)-11.2 (Ethernet0/0/)-11.2 (0 )]TJ
EMC
172.16)-11.2 (.3.1/32 is d)-11.2 (irectly)-11.3 ( connected, )-11.3 (Gigabit)-11.2 (Ethernet0/0/)-11.2 (0 )]TJ
EMC
EMC
/TT1 1 Tf
[(Type e)-11.2 (scape sequen)-11.2 (ce to a)-11.3 (bort. Sendin)-11.3 (g 5, 10)-11.2 (0)]TJ
byte ICMP )-11.3 (Echos t)-11.3 (o 172.16.2.2)-11.2 (, timeo)-11.3 (ut is 2 seco)-11.3 (nds: )]TJ
EMC
Succes)-11.2 (s rate is 10)-11.2 (0 perce)-11.3 (nt (5/5))]TJ
EMC
0.009 Tw T*
EMC
/TT1 1 Tf
[(Type e)-11.2 (scape sequen)-11.2 (ce to a)-11.3 (bort. Sendin)-11.3 (g 5, 10)-11.2 (0)]TJ
byte ICMP )-11.3 (Echos t)-11.3 (o 192.168.2.)-11.2 (1, time)-11.3 (out is 2 sec)-11.3 (onds: )]TJ
Static Routes
IPv4 Starting Routing Tables
Each router has entries only for directly connected networks and associated local
addresses.
R1 can ping R2, but cannot ping the R3 LAN
show ip route | begin Gateway
Gateway of last resort is not set
172.16.0.0/16 is variably subnetted, 4 subnets, 2 masks
172.16.2.0/24 is directly connected, Serial0/1/0
172.16.2.1/32 is directly connected, Serial0/1/0
172.16.3.0/24 is directly connected, GigabitEthernet0/0/0
172.16.3.1/32 is directly connected, GigabitEthernet0/0/0
ping 172.16.2.2
Type escape sequence to abort. Sending 5, 100
byte ICMP Echos to 172.16.2.2, timeout is 2 seconds:
ping 192.168.2.1
Type escape sequence to abort. Sending 5, 100
byte ICMP Echos to 192.168.2.1, timeout is 2 seconds:
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
show ipv6 route | begin C
via Serial0/1/0, directly connected
L 2001:DB8:ACAD:2::1/128 [0/0]
via Serial0/1/0, receive
via GigabitEthernet0/0/0, directly connected
L 2001:DB8:ACAD:3::1/128 [0/0]
via GigabitEthernet0/0/0, receive
via Null0, receive
ping 2001:db8:acad:2::2
Type escape sequence to abort.
Sending 5, 100
byte ICMP Echos to 2001:DB8:ACAD:2::2, timeout is 2 seconds:
Success rate is 100 percent (5/5), round
trip min/avg/max = 2/2/3 ms)
ping 2001:DB8:cafe:2::1
Type escape sequence to abort.
Sending 5, 100
byte ICMP Echos to 2001:DB8:CAFE:2::1, timeout is 2 seconds:
% No valid route for destination
Success rate is 0 percent (0/1)
Static Routes
IPv6 Starting Routing Tables
Each router has entries only for directly connected networks and associated local addresses.
R1 can ping R2, but cannot ping the R3 LAN.
15.2 Configure IP Static
Routes
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
Configure IP Static Routes
IPv4 Next
Hop Static Route
In a next
hop static route, only the next
hop IP address is specified. The exit interface is
derived from the next hop. For example, three next
hop IPv4 static routes are configured
on R1 using the IP address of the next hop, R2.
ip route 172.16.1.0 255.255.255.0 172.16.2.2
ip route 192.168.1.0 255.255.255.0 172.16.2.2
ip route 192.168.2.0 255.255.255.0 172.16.2.2
The resulting routing table entries on R1:
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
Configure IP Static Routes
IPv6 Next
Hop Static Route
The commands to configure R1 with the IPv6 static routes to the
three remote networks are as follows:
ipv6 unicast
routing
ipv6 route 2001:db8:acad:1::/64
2001:db8:acad:2::2
ipv6 route 2001:db8:cafe:1::/64
2001:db8:acad:2::2
ipv6 route 2001:db8:cafe:2::/64
2001:db8:acad:2::2
The routing table for R1 now has routes to the three remote IPv6
networks.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT2 1 Tf
EMC
EMC
Configure IP Static Routes
IPv4 Directly Connected Static Route
When configuring a static route, another option is to use the exit interface to specify the
next
hop address.
Three directly connected IPv4 static routes are configured on R1 using
the exit interface.
Note
Using a next
hop address is generally recommended.
Directly connected static routes should
only be used with point
point serial interfaces.
route 172.16.1.0 255.255.255.0 s0/1/0
route 192.168.1.0 255.255.255.0 s0/1/0
route 192.168.2.0 255.255.255.0 s0/1/0
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
-0.012 Tw 0 -1.14 TD
Configure IP Static Routes
IPv6 Directly Connected Static Route
In the example, three directly connected IPv6 static routes
are configured on R1 using the exit interface.
Note
: Using a next
hop address is generally
recommended. Directly connected static routes should
only be used with point
point serial interfaces.
ipv6 route 2001:db8:acad:1::/64
ipv6 route 2001:db8:cafe:1::/64
ipv6 route 2001:db8:cafe:2::/64
IPv4 Fully Specified Static Route
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.029 Tw T*
-0.012 Tw T*
EMC
-0.029 Tw T*
-0.02 Tw 0 -1.197 TD
-0.012 Tw 0 -1.197 TD
Configure IP Static Routes
IPv4 Fully Specified Static Route
In a fully specified static route,
both
the exit interface and the next
hop IP
address are specified
. This form of
static route is used when the
exit
interface is a multi
access interface
and it is necessary to explicitly identify
the next hop. The next hop must be
directly connected to the specified exit
interface. Using an exit interface is
optional, however it is necessary to
use a next
hop address.
It is recommended that when the exit
interface is an
Ethernet network
, that
the static route includes a next
hop
address. You can also use a fully
specified static route that includes
both the exit interface and the next
hop address.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
hop I)2 (P)7 (V)7 (6 addr)1 (ess )]TJ
EMC
(uses an
l)2 (ocal)2 ( addr)1 (ess )]TJ
hop addr)1 (ess)]TJ
0 Tc 0 Tw (-
Configure IP Static Routes
IPv6 Fully Specified Static Route
In a fully specified static route,
both the exit interface and the next
hop IPV6 address
are specified.
There is a situation in IPv6 when a fully specified static route
must
be used. If the IPv6 static route
IPv6 link
local address
as the
next
hop address
, use
a fully specified static route
. The
figure shows an example of a fully specified IPv6 static route using an IPv6 link
local address as the
next
hop address.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
(the
(and
Configure IP Static Routes
The reason a fully specified static route must be used is because
IPv6 link
local
addresses
are
not contained in the IPv6 routing table
. Link
local addresses are only
unique on a given link or network. The next
hop link
local address may be a valid address
on multiple networks connected to the router. Therefore, it is necessary that the exit
interface be included.
The following example shows the IPv6 routing table entry for this route. Notice that both
next
hop link
local address
the exit interface
are included.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT0 1 Tf
/TT0 1 Tf
(and
/TT0 1 Tf
EMC
EMC
/TT0 1 Tf
/TT2 1 Tf
EMC
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
/TT0 1 Tf
/TT1 1 Tf
Configure IP Static Routes
Verify a Static Route
Along with
show ip route
show ipv6 route
ping
traceroute
, other useful
commands to verify static routes include the following:
show ip route static
show ip route
network
show running
config | section ip route
Replace
with
ipv6
for the IPv6 versions of the command.
15.3 Configure IP Default
Static Routes
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
defaul)-3.6 (t r)2.2 (oute )]TJ
0.008 Tw 0 -1.203 TD
EMC
0.015 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
-0.007 Tw T*
(to a
0 Tw 0 -1.203 TD
EMC
Configure IP Default Static Routes
Default Static Route
default route
is a static route that
matches all
packets. A single default
route represents
any network
that is not
in the routing table.
Routers commonly use default routes
that are either configured locally or
learned from another router. The default
route is used as the
Gateway of Last
Resort.
Default static routes are commonly used
when connecting an
edge router
service provider network, or a stub router
(a router with only one upstream
The figure shows a typical default static
route scenario.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
-0.002 Tc 0.002 Tw (:
/TT1 1 Tf
and the
/TT1 1 Tf
EMC
/TT1 1 Tf
-0.002 Tc 0.002 Tw 0 -2.782 TD
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
0.001 Tc -0.001 Tw 0 -1.323 TD
/TT3 1 Tf
0.009 Tc -0.009 Tw (ip
intf
-0.002 Tc 0.002 Tw (:
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
0.001 Tc -0.001 Tw T*
/TT3 1 Tf
0 Tc 0 Tw (}
Configure IP Default Static Routes
IPv4 Default Static Route
The command syntax for an IPv4 default static route is similar to any
other IPv4 static route, except that the
network address is
subnet mask is
The 0.0.0.0 0.0.0.0 in the route will match any network address.
Note
: An IPv4 default static route is commonly referred to as a quad
zero route.
The basic command syntax for an IPv4 default static route is as follows:
address | exit
IPv6 Default Static Route
The command syntax for an IPv6 default static route is similar to any
other IPv6 static route, except that the ipv6
prefix/prefix
length is
, which matches all routes.
The basic command syntax for an IPv6 default static route is as follows:
ipv6 route ::/0 {ipv6
address | exit
intf
Configure IP Default Static Routes
Configure a Default Static Route
The example shows an IPv4 default static route configured on R1. With the configuration
shown in the example, any packets not matching more specific route entries are
forwarded to R2 at 172.16.2.2.
ip route 0.0.0.0 0.0.0.0 172.16.2.2
An IPv6 default static route is configured in similar fashion. With this configuration any
packets not matching more specific IPv6 route entries are forwarded to R2 at
2001:db8:acad:2::2
ipv6 route ::/0 2001:db8:acad:2::2
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
Configure IP Default Static Routes
Verify a Default Static Route
The
show ip route static
command output from R1 displays the contents of the static routes in the routing table.
Note the asterisk (
candidate
default route
, which is why it is selected as the
Gateway of Last Resort
Notice that the static default route configuration uses the
/0 mask
for IPv4 default routes. Remember that the IPv4
subnet mask in a routing table determines how many bits must match between the destination IP address of the
packet and the route in the routing table.
A /0 mask indicates that none of the bits are required to match
. As long
as a more specific match does not exist, the default static route matches all packets.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
-0.026 Tw 0 -2.8 TD
Configure IP Default Static Routes
This example shows the
show ipv6 route static
command output to display the contents of the
routing table.
Notice that the static default route configuration uses the
prefix for IPv6 default routes.
Remember that the IPv6 prefix
length in a routing table determines how many bits must match
between the destination IP address of the packet and the route in the routing table. A ::/0 prefix
indicates that none of the bits are required to match. As long as a more specific match does not
exist, the default static route matches all packets.
15.4 Configure Floating
Static Routes
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
(to a
EMC
0 Tw 0 -1.203 TD
(than the
EMC
Configure Floating Static Routes
Floating Static Routes
Another type of static route is a
floating static route
. Floating static routes are static
routes that are used to provide
a backup path
primary static or dynamic route
The floating static route is only used when the primary route is not available.
To accomplish this, the floating static route is configured with a
higher administrative
distance
primary route
. The administrative distance represents the
trustworthiness of a route. If
multiple paths
to the destination exist, the router will
choose the path with the
lowest administrative distance
By default, static routes have an administrative distance of
, making them preferable
to routes learned from dynamic routing protocols.
The administrative distance of a static route can be increased to make the route less
desirable than that of another static route or a route learned through a dynamic
floats
is not used
when the route
with the better administrative distance is active.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
-0.004 Tc 0.004 Tw 0 -7.051 TD
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
-0.01 Tc 0.01 Tw (5
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
Configure Floating Static Routes
Configure IPv4 and IPv6 Floating Static Routes
The commands to configure default and floating IP default routes are as follows:
The
show ip route
and
show ipv6 route
output verifies that the default routes to R2 are installed in
the routing table. Note that the IPv4 floating static route to R3 is not present in the routing table.
ip route 0.0.0.0 0.0.0.0 172.16.2.2
ip route 0.0.0.0 0.0.0.0 10.10.10.2
ipv6 route ::/0 2001:db8:acad:2::2
ipv6 route ::/0 2001:db8:feed:10::2
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
-0.007 Tw T*
EMC
EMC
/GS0 gs
/Im0 Do
EMC
/GS0 gs
/Im1 Do
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
EMC
/TT2 1 Tf
/TT2 1 Tf
EMC
/TT1 1 Tf
/TT2 1 Tf
Configure Floating Static Routes
Test the Floating Static Routes
What would happen if R2 failed? To
simulate this, R2
shuts down
both of its
serial interfaces
R1 automatically generates syslog
messages for the link going down.
the secondary route
being used.
ip route 0.0.0.0 0.0.0.0 172.16.2.2
ip route 0.0.0.0 0.0.0.0 10.10.10.2
ipv6 route ::/0 2001:db8:acad:2::2
ipv6 route ::/0 2001:db8:feed:10::2
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
-0.029 Tw 0 -1.197 TD
EMC
-0.012 Tw 0 -2.393 TD
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
(R1# show
route )-10.6 (static | begin Gateway )]TJ
(Gateway
of last resort is not set
subnetted
Summary static route
Summarization helps to reduce the number of routes in the routing table, minimizing route updates,
reduces memory and CPU utilization, and faster routing table lookups.
Multiple static routes can be summarized into a single static route if the following conditions are met:
The destination networks are in a continuous of networks and can be summarized into a single network
address.
All of the multiple static routes use the same exit interface or next
hop IP address.
Example to calculate
route summarization for the following networks:
route static | begin Gateway
, 3 subnets
S 192.168.1.0 is directly connected, Serial0/2/1
S 192.168.2.0 is directly connected, Serial0/2/1
S 192.168.3.0 is directly connected, Serial0/2/1
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
-0.012 Tw 0 -1.479 TD
EMC
EMC
EMC
EMC
/GS0 gs
/Im0 Do
EMC
/TT0 1 Tf
teps to calculate the networks for route summarization:
2. Find the
subnet mask for summarization
. Start with the far left bit, going to the right, finding all the bits that
match until we reach the unmatching column. This signifies the summary boundary.
3. Count the number of far
left matching bits. In this example, it is 22. This number identifies the subnet mask, in
slash notation, for the summarized route.
Subnet mask is /22 or a 255.255.252.0
in dotted decimal form.
4. To find the
network address for summarization
, copy the matching 22 bits and add all 0 bits to the end to
make 32 bits.
Network address is 192.168.0.0
Summary static route
5. Summary static route is
route 192.168.0.0 255.255.252.0 s0/2/1
15.5 Configure Static Host
Routes
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
Configure Static Host Routes
Host Routes
host route
is an IPv4 address with
bit mask
, or an IPv6 address with a
bit
mask
. The following shows the three ways a host route can be added to the routing table:
installed when an IP address is configured on the router
a static host route
Host route automatically obtained through other methods (discussed in later
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT1 1 Tf
Configure Static Host Routes
Automatically Installed Host Routes
Cisco IOS
automatically
installs a
host route
, also known as
a local host route
, when
interface address
is configured on the router. A host route allows for a more
efficient process for packets that are directed to the router itself, rather than for packet
forwarding.
This is in addition to the connected route, designated with a
in the routing table for
the network address of the interface.
The
local routes
are marked with
in the output of the routing table.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
/GS0 gs
/Im0 Do
EMC
/GS0 gs
/Im1 Do
EMC
EMC
host route
, also
known as
a local
host route
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
(and a
EMC
/GS0 gs
/Im0 Do
EMC
/TT1 1 Tf
/TT2 1 Tf
EMC
/TT1 1 Tf
/TT2 1 Tf
EMC
/TT1 1 Tf
/TT2 1 Tf
(exit
Branch#
Configure Static Host Routes
Static Host Routes
A host route can be a
manually configured
static route to direct traffic to a specific
destination device, such as the
server
shown in the figure. The static route uses a
destination IP address
prefix length for IPv6 host routes.
route 209.165.200.238 255.255.255.255 198.51.100.2
ipv6 route 2001:db8:acad:2::238/128 2001:db8:acad:1::2
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
/TT2 1 Tf
EMC
/TT1 1 Tf
/TT2 1 Tf
EMC
/TT1 1 Tf
/TT2 1 Tf
(exit
Branch#
Configure Static Host Routes
Configure Static Host Routes
The example shows the IPv4 and IPv6 static host route configuration on the Branch router
to access the server.
ip route 209.165.200.238 255.255.255.255 198.51.100.2
ipv6 route 2001:db8:acad:2::238/128 2001:db8:acad:1::2
Configure Static Host Routes
Verify Static Host Routes
A review of both the IPv4 and IPv6 route tables verifies that the routes are active.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
(and
EMC
EMC
/GS0 gs
/Im0 Do
EMC
EMC
EMC
EMC
q 1 0 0 1 542.2979 120.8298 cm
q 1 0 0 1 541.5721 192.6598 cm
EMC
q 1 0 0 1 634.2128 172.9149 cm
q 1 0 0 1 635.3062 196.7489 cm
EMC
Configure Static Host Routes
Configure IPv6 Static Host Route with Link
Local Next
Hop
For IPv6 static routes, the
next
hop address
can be the
link
local address
of the adjacent
router. However, you must specify an
interface type
an interface number
when using
link
local address
as the next hop, as shown in the example.
First, the original IPv6 static host route is
removed
, then a fully specified route configured
with the IPv6 address of the server and the IPv6 link
local address of the ISP router.
interface type and
an interface number
link
local address
15.6 Module Practice and Quiz
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Module Practice and Quiz
Packet Tracer
Configure IPv4 and IPv6 Static and Default
Routes
In this Packet Tracer, you will do the following:
Configure IPv4 Static and floating static default routers
Configure IPv6 static and floating static default routes
ConfigureIPv4 static and floating static routes to internal LANs
Configure IPv6 static and floating static routes to the internal LANS
Configure IPv4 host routes
Configure IPv6 host routes
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(Lab
EMC
EMC
EMC
EMC
EMC
Module Practice and Quiz
Configure IPv4 and IPv6 Static and Default Routes
In this lab, you will complete the following objectives:
Build the Network and Configure Basic Device Settings
Configure and Verify IP and IPv6 Addressing on R1 and R2
Configure and Verify Static and Default Routing for IPv4 on R1 and R2
Configure and Verify Static and Default Routing for IPv6 on R1 and R2
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.029 Tw 0 -1.197 TD
EMC
-0.012 Tw T*
EMC
EMC
EMC
EMC
EMC
EMC
Module Practice and Quiz
What Did I Learn In This Module?
Static routes can be configured for IPv4 and IPv6. Both protocols support the following types of static
routes: standard static route, default static route, floating static route, and summary static route.
When configuring a static route, the next hop can be identified by an IP address, exit interface, or both.
How the destination is specified creates one of the three following types of static route: next
hop, directly
connected, and fully specified.
IPv4 static routes are configured using the following global configuration command:
ip route
network
address subnet
mask
address
exit
intf
[ip=address]
[distance].
IPv6 static routes are configured using the following global configuration command:
ipv6 route
ipv6
prefix/prefix
length
ipv6
address
exit
intf
[ipv6
address]}
[distance].
In a next
hop static route, only the next
hop IP address is specified. The exit interface is derived from the
next hop.
When configuring a static route, another option is to use the exit interface to specify the next
hop address.
Directly connected static routes should only be used with point
point serial interfaces.
In a fully specified static route, both the exit interface and the next
hop IP address are specified. This form
of static route is used when the exit interface is a multi
access interface and it is necessary to explicitly
identify the next hop. The next hop must be directly connected to the specified exit interface.
In a fully specified IPv6 static route, both the exit interface and the next
hop IPv6 address are specified.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
-0.02 Tw 0 -1.197 TD
EMC
EMC
-0.013 Tc 0.013 Tw T*
EMC
-0.012 Tw T*
EMC
-0.029 Tw T*
EMC
EMC
Module Practice and Quiz
A default route is a static route that matches all packets.
Default static routes are commonly used when connecting an edge router to a service provider network,
and a stub router.
The command syntax for an IPv4 default static route is similar to any other IPv4 static route, except that the
network address is 0.0.0.0 and the subnet mask is 0.0.0.0.
The command syntax for an IPv6 default static route is similar to any other IPv6 static route, except that the
ipv6
prefix/prefix
length is ::/0, which matches all routes.
Floating static routes are static routes that are used to provide a backup path to a primary static or dynamic
route in the event of a link failure.
The floating static route is configured with a higher administrative distance than the primary route. By
default, static routes have an administrative distance of 1, making them preferable to routes learned from
dynamic routing protocols.
IP floating static routes are configured by using the
distance
argument to specify an administrative
distance.
A host route is an IPv4 address with a 32
bit mask or an IPv6 address with a 128
bit mask.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.029 Tw 0 -1.197 TD
-0.02 Tw T*
EMC
EMC
EMC
-0.012 Tw T*
Module Practice and Quiz
There are three ways a host route can be added to the routing table: automatically installed when an IP
address is configured on the router, configured as a static host route, or automatically obtained through
other methods not covered in this module.
Cisco IOS automatically installs a host route, also known as a local host route, when an interface address
is configured on the router.
A host route can be a manually configured static route to direct traffic to a specific destination device.
For IPv6 static routes, the next
hop address can be the link
local address of the adjacent router; however,
you must specify an interface type and an interface number when using a link
local address as the next
hop. To do this, the original IPv6 static host route is removed, then a fully specified route is configured with
the IPv6 address of the server and the IPv6 link
local address of the ISP router.
Chapter 1 Part 2
Module 16: Troubleshoot
Static and Default Routes
Switching, Routing and Wireless
Module Objectives
Module Title:
Troubleshoot Static and Default Routes
Module Objective
: Troubleshoot static and default route configurations.
Topic Title
Topic Objective
Packet Processing with Static Routes
Explain how a router processes packets when a static route
is configured.
Troubleshoot IPv4 Static and Default Route
Configuration
Troubleshoot common static and default route configuration
issues.
16.1 Packet Processing with
Static Routes
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
0 Tw T*
EMC
EMC
EMC
EMC
Packet Processing with Static Routes
Static Routes and Packet Forwarding
PC1 addresses a packet to PC3 and sends it to the
default gateway address.
When the packet arrives on the R1 G0/0/0 interface,
decapsulates
the packet and
searches the routing
table
for a matching destination network entry.
If the destination IP address:
Matches
a static route entry
, R1 will use the static route to identify the
next
hop IP address
exit
interface.
Does not match
a specific route to the destination network, then R1 will use the
default static route
Does not match
a route table entry, then R1 will
drop
the packet and
send an ICMP message back
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
Packet Processing with Static Routes
Assuming
matched
a routing table entry, it
encapsulates the packet in a new frame and
forwards
it out of interface
receives the packet on its
interface.
It decapsulates and processes the packet the
same way R1 did.
When R2 finds a
match
in the routing table, it uses
the identified
next
hop IP address
exit interface
and sends the packet out of its
interface S0/1/1
towards R3.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
[(r)2.2 (eques)-3.8 (t out of the )]TJ
EMC
EMC
Packet Processing with Static Routes
receives the packet, decapsulates it, and
searches the routing table for a match.
The
destination IP address
of PC3 matches the
directly connected
G0/0/0 interface
. Therefore, R3
searches the ARP table for the Layer 2 MAC
address of PC3.
ARP entry exists, then R3 sends an ARP
request out of the
G0/0/0 interface
PC3 responds with an ARP reply containing its MAC address.
encapsulates
the packet in a new frame and uses the PC3 MAC address as the
destination MAC address and the G0/0/0 MAC address as the source MAC address.
The frame is forwarded out of
interface G0/0/0
and PC3 receives and processes it
accordingly.
16.2 Troubleshoot IPv4
Static and Default Route
Configuration
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Troubleshoot IPv4 Static and Default Route Configuration
Network Changes
Networks fail for a number of reasons:
interface
can
fail
A service provider
drops
a connection
Links can become
oversaturated
An administrator may enter a
wrong
configuration.
Network administrators are responsible for pinpointing and solving the problem.
To efficiently find and solve these issues, it is advantageous to be intimately familiar with
tools to help isolate routing problems quickly.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
q 1 0 0 1 278.119 338.1442 cm
q 1 0 0 1 62.3749 313.6434 cm
q 1 0 0 1 62.3749 257.2871 cm
q 1 0 0 1 62.3749 199.6863 cm
q 1 0 0 1 62.3749 155.3457 cm
q 1 0 0 1 62.3749 97.7449 cm
q 1 0 0 1 62.8749 338.1442 cm
q 1 0 0 1 685.9871 338.1442 cm
q 1 0 0 1 62.3749 337.6442 cm
q 1 0 0 1 62.3749 53.4044 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT2 1 Tf
(ping
EMC
EMC
/TT2 1 Tf
EMC
/TT0 1 Tf
EMC
-0.012 Tw 0 -1.197 TD
EMC
/TT2 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
EMC
/TT0 1 Tf
EMC
0.001 Tw 0 -1.197 TD
EMC
/TT2 1 Tf
EMC
/TT0 1 Tf
EMC
Troubleshoot IPv4 Static and Default Route Configuration
Common Troubleshooting Commands
Command
Description
Verify Layer 3 connectivity to destination.
Extended pings provide additional options.
traceroute
Verify path to destination network.
It uses ICMP echo reply messages to determine the hops to
the destination.
show ip route
Displays the routing table.
Used to verify route entries for destination IP addresses.
show ip interface brief
Displays the status of device interfaces.
Used to verify the operational status and IP address of an
interface.
show cdp neighbors
Displays a list of directly connected Cisco devices.
Also used to validate Layer 1 and 2 connectivity.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
0.004 Tc -0.004 Tw 0 -1.197 TD
EMC
0.004 Tc -0.004 Tw T*
EMC
(and the
EMC
EMC
ip route 172.16.3.0 255.255.255.0
sho)13.3 (w ip)13.4 ( rout)13.3 (e | b)13.3 (e)13.4 (gin Gat)13.3 (eway)]TJ
EMC
/TT2 1 Tf
[(Gateway)13.3 ( of )13.4 (last )13.3 (resor)13.3 (t)13.4 ( is not)13.3 ( set)]TJ
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Troubleshoot IPv4 Static and Default Route Configuration
Solve a Connectivity Problem
Connectivity from PC1 to PC3 fails.
Extended pings from the R1 G0/0/0 interface to PC3 fail.
successful.
successful.
R2 routing table reveals the problem
incorrect static route
removed.
A new static route solves the problem.
show ip route | begin Gateway
Gateway of last resort is not set
172.16.0.0/16 is variably subnetted, 5 subnets, 2 masks
172.16.1.0/24 is directly connected, GigabitEthernet0/0/0
L        172.16.1.1/32 is directly connected, GigabitEthernet0/0/0
C        172.16.2.0/24 is directly connected, Serial0/l/0
L        172.16.2.2/32 is directly connected, Serial0/l/0
S        172.16.3.0/24 [1/0] via 192.168.1.1
192.168.1.0/24 is variably subnetted, 2 subnets, 2 masks
C        192.168.1.0/24 is directly connected, Serial0/1/1
L        192.168.1.2/32 is directly connected, Serial0/1/1
S     192.168.2.0/24 [1/0] via 192.168.1.1
16.3 Module Practice and Quiz
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.015 Tw 0 -1.203 TD
EMC
EMC
EMC
EMC
EMC
Structured Design
Packet Tracer
Troubleshoot Static and Default Routes
In this activity you will troubleshoot and static and default routes and repair any errors that
you find.
Troubleshoot IPv4 static routes.
Troubleshoot IPv6 static routes.
Configure IPv4 static routes.
Configure IPv4 default routes.
Configure IPv6 static routes.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(Lab
EMC
EMC
EMC
Structured Design
Troubleshoot Static and Default Routes
In this lab, you will complete the following objectives:
Evaluate Network Operation.
Gather information, create an action plan, and implement corrections.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
0.001 Tw 0 -1.197 TD
EMC
EMC
EMC
EMC
Module Practice and Quiz
What did I learn in this module?
A host sends a packet to another host and sends it to the default gateway address.
When the packet arrives on a router interface, it decapsulates the packet and searches the
routing table for a matching destination network entry.
If the destination IP address:
Matches a static route entry, the router will use the static route to identify the next hop IP address or exit
interface.
Does not match a specific route to the destination network, then the router will use the default static
Does not match a route table entry, then the router will drop the packet and send an ICMP message
back to the source.
If the router matched a routing table entry, then the router encapsulates the packet and
forwards it out of the appropriate interface.
The packet is forwarded from router to router until it reaches its destination network.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
EMC
Module Practice and Quiz
When the packet reaches the destination network, that router will search the routing table for
a match.
When the destination IP address matches a directly connected Ethernet interface, the router
searches the ARP table for the Layer 2 MAC address of the destination IP address.
If no ARP entry exists, the router sends an ARP request out of the Ethernet interface
The destination host responds with an ARP reply containing its MAC address.
The router then encapsulates the packet in a new frame. It uses the MAC address of the
destination host as the frame destination MAC address, and the MAC address of the router
Ethernet interface as the source MAC address in the frame.
The frame is forwarded out of the appropriate interface.
processed accordingly.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Module Practice and Quiz
Common IOS troubleshooting commands to troubleshoot IPv4 Static and default routes
include:
ping
traceroute
show ip route
show ip interface brief
show cdp neighbors detail
0 Tc 0 Tw (-
Module 1: Single
Area OSPFv2
Concepts
Enterprise Networking, Security, and Automation v7.0
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (-
poi)2 (nt)10 ( and )-8 (br)1 (oadcast)2 ( )]TJ
EMC
q 1 0 0 1 246.2217 250.5073 cm
q 1 0 0 1 35.0013 225.7073 cm
q 1 0 0 1 35.0013 184.6073 cm
q 1 0 0 1 35.0013 160.3073 cm
q 1 0 0 1 35.5013 250.5073 cm
q 1 0 0 1 657.2985 250.5073 cm
q 1 0 0 1 35.0013 250.0073 cm
q 1 0 0 1 35.0013 136.0073 cm
EMC
/TT1 1 Tf
EMC
EMC
-0.001 Tc 0.001 Tw 0 -1.197 TD
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
Confidential
Module Objectives
Module Title:
Single
Area OSPF Concepts
Module Objective
Explain how single
area OSPF operates in both point
point and broadcast
multiaccess networks.
Topic Title
Topic Objective
OSPF Features and
Characteristics
Describe basic OSPF features and characteristics.
OSPF Packets
Describe the OSPF packet types used in single
area OSPF.
OSPF Operation
Explain how single
area OSPF operates.
1.1 OSPF Features and
Characteristics
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
EMC
EMC
(of a
EMC
Confidential
OSPF Features and Characteristics
Introduction to OSPF
OSPF is a link
state routing protocol that was developed as an alternative for the
over RIP in that it offers faster convergence and scales to much larger network
implementations.
OSPF is a link
state routing protocol that uses the concept of areas. A network
administrator can divide the routing domain into distinct areas that help control routing
update traffic.
A link is an interface on a router, a network segment that connects two routers, or a
stub network such as an Ethernet LAN that is connected to a single router.
Information about the
state
link is known as a
link
state. All link
state information
includes the network prefix, prefix length, and cost.
This module covers basic, single
area OSPF implementations and configurations.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Confidential
OSPF Features and Characteristics
Components of OSPF
All routing protocols share similar components. They all use routing protocol messages
to exchange route information. The messages help build data structures, which are
then processed using a routing algorithm.
Routers running OSPF exchange messages to convey routing information using five
types of packets:
Hello packet
Database description packet
Link
state request packet
Link
state update packet
Link
state acknowledgment packet
These packets are used to discover neighboring routers and also to exchange routing
information to maintain accurate information about the network.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
q 1 0 0 1 108.4454 298.0322 cm
q 1 0 0 1 186.6678 298.0322 cm
q 1 0 0 1 30.1521 275.6322 cm
q 1 0 0 1 30.1521 213.3802 cm
q 1 0 0 1 30.1521 148.2803 cm
q 1 0 0 1 30.6521 298.0322 cm
q 1 0 0 1 682.6265 298.0322 cm
q 1 0 0 1 30.1521 297.5322 cm
q 1 0 0 1 30.1521 74.5992 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
EMC
EMC
EMC
C)6 (an )10 (be v)14 (i)6 (ew)16 (ed us)4 (i)6 (ng)10 ( t)2 (he )]TJ
/TT2 1 Tf
0 Tc 0.02 Tw [(show ip )10 (ospf neighbor )]TJ
/TT0 1 Tf
EMC
0.003 Tc -0.003 Tw T*
EMC
EMC
EMC
EMC
EMC
C)6 (an )10 (be v)14 (i)6 (ew)16 (ed us)4 (i)6 (ng)10 ( t)2 (he )]TJ
/TT2 1 Tf
0 Tc 0.02 Tw [(show ip )10 (ospf database )]TJ
/TT0 1 Tf
EMC
EMC
EMC
EMC
EMC
0 Tc 0 Tw 0 -1.13 TD
Confidential
OSPF Features and Characteristics
OSPF messages are used to create and maintain three OSPF databases, as follows:
Database
Table
Description
Adjacency
Database
Neighbor
Table
List of all neighbor routers to which a router has established bi
directional communication.
This table is unique for each router.
Can be viewed using the
show ip ospf neighbor
command.
Link
state
Database
Topology
Table
Lists information about all other routers in the network.
The database represents the network LSDB.
All routers within an area have identical LSDB.
Can be viewed using the
show ip ospf database
command.
Forwarding
Database
Routing
Table
List of routes generated when an algorithm is run on the link
state database.
Each router's routing table is unique and contains information on how and where to send
packets to other routers.
Can be viewed using the
show ip route
command.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
Confidential
OSPF Features and Characteristics
The router builds the topology table using results of calculations based on the Dijkstra
shortest
to reach a destination.
The SPF algorithm creates an SPF tree by placing each router at the root of the tree
and calculating the shortest path to each node. The SPF tree is then used to calculate
the best routes. OSPF places the best routes into the forwarding database, which is
used to make the routing table.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Confidential
OSPF Features and Characteristics
Link
State Operation
To maintain routing information, OSPF routers complete a generic link
state routing
process to reach a state of convergence. The following are the link
state routing steps
that are completed by a router:
Establish Neighbor Adjacencies
Exchange Link
State Advertisements
Build the Link State Database
Execute the SPF Algorithm
Choose the Best Route
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
Confidential
OSPF Features and Characteristics
Single
Area and Multiarea OSPF
To make OSPF more efficient and scalable, OSPF supports hierarchical routing using
areas. An OSPF area is a group of routers that share the same link
state information in
their LSDBs. OSPF can be implemented in one of two ways, as follows:
Single
Area OSPF
All routers are in one area. Best practice is to use area 0.
Multiarea OSPF
OSPF is implemented using multiple areas, in a hierarchical
The focus of this module is on single
area OSPFv2.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Confidential
OSPF Features and Characteristics
Multiarea OSPF
The hierarchical
topology design options with multiarea OSPF can offer the following
advantages.
Smaller routing tables
Tables are smaller because there are fewer routing table
entries. This is because network addresses can be summarized between areas.
Route summarization is not enabled by default.
Reduced link
state update overhead
Designing multiarea OSPF with smaller
areas minimizes processing and memory requirements.
Reduced frequency of SPF calculations
Multiarea OSPF localize the impact of a
topology change within an area. For instance, it minimizes routing update impact
because LSA flooding stops at the area boundary.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
/TT0 1 Tf
EMC
0.008 Tw T*
EMC
Confidential
OSPF Features and Characteristics
OSPFv3
OSPFv3 is the OSPFv2 equivalent for exchanging IPv6 prefixes. OSPFv3 exchanges
routing information to populate the IPv6 routing table with remote prefixes.
Note
: With the OSPFv3 Address Families feature, OSPFv3 includes support for both
IPv4 and IPv6. OSPF Address Families is beyond the scope of this curriculum.
OSPFv3 has the same functionality as OSPFv2, but uses IPv6 as the network layer
transport, communicating with OSPFv3 peers and advertising IPv6 routes. OSPFv3
also uses the SPF algorithm as the computation engine to determine the best paths
throughout the routing domain.
OSPFv3 has separate processes from its IPv4 counterpart. The processes and
operations are basically the same as in the IPv4 routing protocol, but run
independently.
1.2 OSPF Packets
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Confidential
OSPF Packets
Video
OSPF Packets
This video will cover the following packet types:
Hello
Link
Link
Link
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
q 1 0 0 1 82.304 290.2501 cm
q 1 0 0 1 320.8119 290.2501 cm
q 1 0 0 1 36.8749 260.5493 cm
q 1 0 0 1 36.8749 231.3485 cm
q 1 0 0 1 36.8749 202.1477 cm
q 1 0 0 1 36.8749 172.9469 cm
q 1 0 0 1 36.8749 143.7462 cm
q 1 0 0 1 37.3749 290.2501 cm
q 1 0 0 1 697.2174 290.2501 cm
q 1 0 0 1 36.8749 289.7501 cm
q 1 0 0 1 36.8749 114.5454 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Confidential
OSPF Packets
Types of OSPF Packets
OSPFv2. OSPFv3 has similar packet types.
Type
Packet Name
Description
Hello
Discovers neighbors and builds adjacencies between them
Checks for database synchronization between routers
Link
Requests specific link
state records from router to router
Link
Sends specifically requested link
state records
Link
Acknowledges the other packet types
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
0 Tw T*
0.002 Tc -0.002 Tw 0 -1.203 TD
EMC
Confidential
OSPF Packets
Link
State Updates
LSUs are also used to forward
OSPF routing updates. An LSU
packet can contain 11 different
types of OSPFv2 LSAs. OSPFv3
renamed several of these LSAs
and also contains two additional
LSAs.
LSU and LSA are often used
interchangeably, but the correct
hierarchy is LSU packets contain
LSA messages.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
-0.015 Tw 0 -1.203 TD
EMC
0.008 Tw T*
0 Tw 0 -1.203 TD
EMC
0 Tw 0 -1.203 TD
0.015 Tw 0 -1.203 TD
Confidential
OSPF Packets
Hello Packet
The OSPF Type 1 packet is the
Hello packet. Hello packets are
used to do the following:
Discover OSPF neighbors and
establish neighbor adjacencies.
Advertise parameters on which
two routers must agree to
become neighbors.
Elect the Designated Router
networks like Ethernet. Point
point links do not require DR or
BDR.
1.3 OSPF Operation
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Confidential
OSPF Operation
Video
OSPF Operation
This video will cover the 7 states of OSPF operation:
Down state
Init state
Two
way state
ExStart state
Exchange state
Loading state
Full state
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
q 1 0 0 1 172.2535 343.0434 cm
q 1 0 0 1 39.3578 321.8434 cm
q 1 0 0 1 39.3578 256.7434 cm
q 1 0 0 1 39.3578 191.6434 cm
q 1 0 0 1 39.8578 343.0434 cm
q 1 0 0 1 691.8578 343.0434 cm
q 1 0 0 1 39.3578 342.5434 cm
q 1 0 0 1 39.3578 126.5434 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
EMC
/TT0 1 Tf
EMC
EMC
Confidential
OSPF Operation
OSPF Operational States
State
Description
Down State
No Hello packets received = Down.
Router sends Hello packets.
Transition to Init state.
Init State
Hello packets are received from the neighbor.
They contain the Router ID of the sending router.
Transition to Two
Way state.
Two
Way State
In this state, communication between the two routers is bidirectional.
On multiaccess links, the routers elect a DR and a BDR.
Transition to ExStart state.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
q 1 0 0 1 161.3165 343.0434 cm
q 1 0 0 1 39.3578 321.8434 cm
q 1 0 0 1 39.3578 256.7434 cm
q 1 0 0 1 39.3578 191.6434 cm
q 1 0 0 1 39.3578 126.5434 cm
q 1 0 0 1 39.8578 343.0434 cm
q 1 0 0 1 691.8578 343.0434 cm
q 1 0 0 1 39.3578 342.5434 cm
q 1 0 0 1 39.3578 99.8434 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
-0.002 Tc 0.002 Tw T*
EMC
/TT0 1 Tf
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
Confidential
OSPF Operation
State
Description
ExStart State
On point
point networks, the two routers decide which router will initiate
the DBD packet exchange and decide upon the initial DBD packet
sequence number.
Exchange
State
Routers exchange DBD packets.
If additional router information is required then transition to Loading;
otherwise, transition to the Full state.
Loading State
LSRs and LSUs are used to gain additional route information.
Routes are processed using the SPF algorithm.
Transition to the Full state.
Full State
The link
state database of the router is fully synchronized.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw T*
EMC
EMC
Confidential
OSPF Operation
Establish Neighbor Adjacencies
To determine if there is an OSPF neighbor on the link, the router sends a Hello packet
that contains its router ID out all OSPF
enabled interfaces. The Hello packet is sent to
the reserved All OSPF Routers IPv4 multicast address 224.0.0.5. Only OSPFv2
routers will process these packets.
The OSPF router ID is used by the OSPF process to uniquely identify each router in
the OSPF area. A router ID is a 32
bit number formatted like an IPv4 address and
assigned to uniquely identify a router among OSPF peers.
When a neighboring OSPF
enabled router receives a Hello packet with a router ID
that is not within its neighbor list, the receiving router attempts to establish an
adjacency with the initiating router.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
q 1 0 0 1 61.9896 290.2501 cm
q 1 0 0 1 204.7475 290.2501 cm
q 1 0 0 1 40.5191 253.7493 cm
q 1 0 0 1 40.5191 217.7485 cm
q 1 0 0 1 40.5191 124.1477 cm
q 1 0 0 1 41.0191 290.2501 cm
q 1 0 0 1 693.0191 290.2501 cm
q 1 0 0 1 40.5191 289.7501 cm
q 1 0 0 1 40.5191 88.1469 cm
EMC
EMC
-0.012 Tw T*
EMC
EMC
-0.002 Tw 0 -1.2 TD
EMC
EMC
0 Tc 0 Tw (-
EMC
0.004 Tc -0.002 Tw T*
EMC
0 Tc 0 Tw T*
EMC
Confidential
OSPF Operation
The process routers use to establish adjacency on a multiaccess network:
Down to Init State
When OSPFv2 is enabled on the interface, R1 transitions from Down to Init and starts
sending OSPFv2 Hellos out of the interface in an attempt to discover neighbors.
Init State
ID to the neighbor list and responds with a Hello packet containing its own router ID.
Two
Way State
Way State.
If R1 and R2 are connected with a point
point link, they transition to ExStart
If R1 and R2 are connected over a common Ethernet network, the DR/BDR election
occurs.
Elect the DR & BDR
The DR and BDR election occurs, where the router with the highest router ID or highest
priority is elected as the DR, and second highest is the BDR
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
-0.007 Tw 0 -1.143 TD
EMC
0 Tw T*
EMC
0.008 Tw T*
EMC
EMC
Confidential
OSPF Operation
Synchronizing OSPF Databases
After the Two
Way state, routers transition to database synchronization states. This is a
three step process, as follows:
Decide first router: The router with the highest router ID sends its DBD first.
Exchange DBDs: As many as needed to convey the database. The other router must
acknowledge each DBD with an LSAck packet.
Send an LSR: Each router compares the DBD information with the local LSDB. If the
DBD has more current link information, the router transitions to the loading state.
After all LSRs have been exchanged and satisfied, the routers are considered
Every 30 minutes
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
/TT0 1 Tf
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
-0.007 Tw T*
0.008 Tw T*
EMC
/TT0 1 Tf
Confidential
OSPF Operation
The Need for a DR
Multiaccess networks can create two
challenges for OSPF regarding the flooding of
LSAs, as follows:
Creation of multiple adjacencies
Ethernet networks could potentially
interconnect many OSPF routers over a
common link. Creating adjacencies with
every router would lead to an excessive
number of LSAs exchanged between
routers on the same network.
Extensive flooding of LSAs
Link
state
routers flood their LSAs any time OSPF is
initialized, or when there is a change in the
topology. This flooding can become
excessive.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
0.015 Tw 0 -1.203 TD
0 Tw T*
EMC
0 Tw T*
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
/TT0 1 Tf
Confidential
OSPF Operation
LSA Flooding with a DR
An increase in the number of routers on a multiaccess network also increases the
number of LSAs exchanged between the routers. This flooding of LSAs significantly
impacts the operation of OSPF.
If every router in a multiaccess network had to flood and acknowledge all received
LSAs to all other routers on that same multiaccess network, the network traffic would
become quite chaotic.
On multiaccess networks, OSPF elects a DR to be the collection and distribution point
for LSAs sent and received. A BDR is also elected in case the DR fails. All other
routers become DROTHERs. A DROTHER is a router that is neither the DR nor the
BDR.
Note
: The DR is only used for the dissemination of LSAs. The router will still use the best next
hop router indicated in the routing table for the forwarding of all other packets.
1.4 Module Practice and Quiz
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tc 0 Tw (-
st)2 (at)2 (e )16 (r)1 (out)2 (i)2 (ng pr)1 (ot)2 (ocol)2 ( )8 (t)2 (hat)2 ( w)14 (as )-16 (dev)16 (el)2 (oped )-16 (as an )]TJ
EMC
EMC
-0.018 Tw T*
EMC
EMC
-0.01 Tw T*
EMC
-0.026 Tw T*
0 Tc 0 Tw (-
0 Tc 0 Tw (-
0 Tc 0 Tw (-
EMC
0 Tc 0 Tw (-
EMC
-0.004 Tw T*
Confidential
Module Practice and Quiz
What Did I Learn In This Module?
state routing protocol that was developed as an
OSPF is a link
state routing protocol that uses the concept of areas for scalability.
A link is an interface on a router. A link is also a network segment that connects two routers, or a
stub network such as an Ethernet LAN that is connected to a single router.
All link
state information includes the network prefix, prefix length, and cost.
All routing protocols use routing protocol messages to exchange route information. The messages
help build data structures, which are then processed using a routing algorithm.
Routers running OSPF exchange messages to convey routing information using five types of
packets: the Hello packet, the database description packet, the link
state request packet, the link
state update packet, and the link
state acknowledgment packet.
OSPF messages are used to create and maintain three OSPF databases: the adjacency database
creates the neighbor table, the link
forwarding database creates the routing table.
The router builds the topology table using results of calculations based on the Dijkstra SPF
(shortest
destination. In OSPF, cost is used to determine the best path to the destination.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tc 0 Tw (-
0 Tc 0 Tw (-
EMC
0 Tc 0 Tw (-
EMC
EMC
-0.026 Tw T*
-0.034 Tw T*
EMC
EMC
0 Tc 0 Tw (-
EMC
EMC
Confidential
Module Practice and Quiz
What Did I Learn In This Module?
To maintain routing information, OSPF routers complete a generic link
state routing process to
reach a state of convergence: Establish Neighbor Adjacencies, Exchange Link
State
Advertisements, Build the Link State Database, Execute the SPF Algorithm, Choose the Best Route
With single
area OSPF any number can be used for the area, best practice is to use area 0.
Single
area OSPF is useful in smaller networks with few routers.
With multiarea OSPF, one large routing domain can be divided into smaller areas, to support
processor intensive routing operations, such as recalculating the database, are kept within an area.
OSPFv3 is the OSPFv2 equivalent for exchanging IPv6 prefixes. Recall that in IPv6, the network
address is referred to as the prefix and the subnet mask is called the prefix
length.
OSPF uses the following link
and exchange routing updates: 1 Hello, 2 DBD, 3 LSR, 4 LSU, and 5 LSAck.
LSUs are also used to forward OSPF routing updates, such as link changes.
Hello packets are used to: Discover OSPF neighbors and establish neighbor adjacencies, Advertise
parameters on which two routers must agree to become neighbors, and Elect the Designated
point links do not require DR or BDR.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tc 0 Tw (-
EMC
-0.018 Tw T*
enabl)2 (ed )]TJ
EMC
-0.026 Tw T*
EMC
EMC
EMC
Confidential
Module Practice and Quiz
What Did I Learn In This Module?
Some important fields in the Hello packet are type, router ID, area ID, network mask, hello interval,
router priority, dead interval, DR, BDR and list of neighbors.
The states that OSPF progresses through to do reach convergence are down state, init state, two
way state, ExStart state, Exchange state, loading state, and full state.
When OSPF is enabled on an interface, the router must determine if there is another OSPF
neighbor on the link by sending a Hello packet that contains its router ID out all OSPF
enabled
interfaces.
The Hello packet is sent to the reserved All OSPF Routers IPv4 multicast address 224.0.0.5. Only
OSPFv2 routers will process these packets.
When a neighboring OSPF
enabled router receives a Hello packet with a router ID that is not within
its neighbor list, the receiving router attempts to establish an adjacency with the initiating router.
After the Two
Way state, routers transition to database synchronization states, which is a three step
process:
Multiaccess networks can create two challenges for OSPF regarding the flooding of LSAs: the
creation of multiple adjacencies and extensive flooding of LSAs.
-0.004 Tw 0 -1.2 TD
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.01 Tw T*
EMC
-0.01 Tw T*
-0.018 Tw T*
EMC
Confidential
Module Practice and Quiz
What Did I Learn In This Module?
A dramatic increase in the number of routers also dramatically increases the number of LSAs
exchanged between the routers.
This flooding of LSAs significantly impact the operation of OSPF. If every router in a multiaccess
network had to flood and acknowledge all received LSAs to all other routers on that same
multiaccess network, the network traffic would become quite chaotic. This is why DR and BDR
election is necessary.
On multiaccess networks, OSPF elects a DR to be the collection and distribution point for LSAs
sent and received. A BDR is also elected in case the DR fails.
0 Tc 0 Tw (-
Module 2: Single
Area OSPFv2
Configuration
Enterprise Networking, Security, and Automation v7.0
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (-
poi)2 (nt)10 ( and )-24 (br)1 (oadcast)2 ( m)5 (ul)2 (t)2 (i)2 (access )]TJ
EMC
q 1 0 0 1 272.8889 261.174 cm
q 1 0 0 1 35.0013 236.3739 cm
q 1 0 0 1 35.0013 212.0739 cm
q 1 0 0 1 35.0013 187.774 cm
q 1 0 0 1 35.0013 146.674 cm
q 1 0 0 1 35.0013 105.5739 cm
q 1 0 0 1 35.0013 81.2739 cm
q 1 0 0 1 35.5013 261.174 cm
q 1 0 0 1 657.299 261.174 cm
q 1 0 0 1 35.0013 260.674 cm
q 1 0 0 1 35.0013 56.974 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
Module Objectives
Module Title:
Single
Area OSPFv2 Configuration
Module Objective
Implement single
area OSPFv2 in both point
point and broadcast multiaccess
networks.
Topic Title
Topic Objective
OSPF Router ID
Configure an OSPFv2 router ID.
Point
Point OSPF Networks
Configure single
area OSPFv2 in a point
point network.
Multiaccess OSPF Networks
Configure the OSPF interface priority to influence the
DR/BDR election in a multiaccess network.
Modify Single
Area OSPFv2
Implement modifications to change the operation of single
area OSPFv2.
Default Route Propagation
Configure OSPF to propagate a default route.
Verify Single
Area OSPFv2
Verify a single
area OSPFv2 implementation.
2.1 OSPF Router ID
OSPF Router ID
OSPF Reference Topology
The figure shows the topology
used for configuring OSPFv2 in
this module. The routers in the
topology have a starting
configuration, including
interface addresses. There is
currently no static routing or
dynamic routing configured on
any of the routers. All interfaces
on R1, R2, and R3 (except the
the OSPF backbone area. The
ISP router is used as the
gateway to the internet of the
routing domain.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
/TT0 1 Tf
/TT2 1 Tf
/TT0 1 Tf
/TT2 1 Tf
/TT0 1 Tf
/TT2 1 Tf
/TT0 1 Tf
EMC
EMC
/TT3 1 Tf
/TT4 1 Tf
(ospf
0 Tc 0 Tw (-
/TT4 1 Tf
area
EMC
auto
cost
EMC
0 Tc 0 Tw (-
EMC
dista)-10.7 (nce )]TJ
Define an )11.2 (ad)-10.7 (mini)-10.7 (st)-10.7 (rative dista)-10.7 (nce )]TJ
EMC
exit
EMC
log
0 Tc 0 Tw (-
ch)-10.7 (anges )]TJ
EMC
neigh)-10.7 (bor )]TJ
EMC
netwo)-10.7 (rk )]TJ
EMC
EMC
0 Tc 0 Tw (-
EMC
EMC
0 Tc 0 Tw (-
router
EMC
0 Tc 0 Tw (-
OSPF Router ID
Router Configuration Mode for OSPF
OSPFv2 is enabled using the
router
ospf
process
global configuration mode
command. The
process
value represents a number between 1 and 65,535 and is
selected by the network administrator. The
process
value is locally significant. It is
considered best practice to use the same
process
on all OSPF routers.
router
R1(config
OSPF area parameters
Calculate OSPF interface cost according to bandwidth
default
information
Control distribution of default information
distance
Define an administrative distance
Exit from routing protocol configuration mode
adjacency
changes
Log changes in adjacency state
neighbor
Specify a neighbor router
network
Enable routing on an IP network
Negate a command or set its defaults
passive
interface
Suppress routing updates on an interface
redistribute
Redistribute information from another routing protocol
router
id for this OSPF process
R1(config
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
EMC
0 Tw T*
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
OSPF Router ID
Router IDs
An OSPF router ID is a 32
bit value, represented as an IPv4 address. It is used to
uniquely identify an OSPF router, and all OSPF packets include the router ID of the
originating router.
Every router requires a router ID to participate in an OSPF domain. It can be defined
by an administrator or automatically assigned by the router. The router ID is used by
an OSPF
enabled router to do the following:
Participate in the synchronization of OSPF databases
During the Exchange State, the router
In a multiaccess LAN environment,
the router with the highest router ID is elected the DR. The routing device with the second highest
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
-0.007 Tw T*
/TT1 1 Tf
/TT0 1 Tf
0.008 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
EMC
-0.007 Tw 0 -1.203 TD
EMC
OSPF Router ID
Router ID Order of Precedence
Cisco routers derive the router ID based
on one of three criteria, in the following
preferential order:
The router ID is explicitly configured
using the OSPF
router
rid
router
configuration mode command. This
is the recommended method to
assign a router ID.
The router chooses the highest IPv4
address of any of configured
loopback interfaces.
The router chooses the highest
active IPv4 address of any of its
physical interfaces.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
OSPF Router ID
Configure a Loopback Interface as the Router ID
Instead of relying on physical interface, the router ID can be assigned to a loopback
interface. Typically, the IPv4 address for this type of loopback interface should be
configured using a 32
route. A 32
bit host route would not get advertised as a route to other OSPF routers.
OSPF does not need to be enabled on an interface for that interface to be chosen as the
router ID.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT3 1 Tf
/TT4 1 Tf
/TT4 1 Tf
/TT3 1 Tf
/TT4 1 Tf
(end
EMC
/TT4 1 Tf
0.01 Tc -0.01 Tw (ip
/TT3 1 Tf
OSPF Router ID
Explicitly Configure a Router ID
In our reference topology the router ID for each router is assigned as follows:
R1 uses router ID 1.1.1.1
R2 uses router ID 2.2.2.2
R3 uses router ID 3.3.3.3
Use the
router
rid
router configuration mode command to manually assign a router ID.
In the example, the router ID 1.1.1.1 is assigned to R1. Use the
show
protocols
command to verify the router ID.
router
ospf
R1(config
router
R1(config
*May 23 19:33:42.689: %SYS
CONFIG_I: Configured from console by console
show
protocols | include Router ID
Router ID 1.1.1.1
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
EMC
EMC
/TT1 1 Tf
/TT1 1 Tf
/TT1 1 Tf
EMC
0.002 Tw 0 -1.196 TD
/TT2 1 Tf
(ospf
0 Tc 0 Tw (-
/TT2 1 Tf
(router
/TT1 1 Tf
0.009 Tc -0.009 Tw (ip
EMC
0 Tc 0 Tw (-
/TT2 1 Tf
(end
0 Tc 0 Tw (
process
/TT2 1 Tf
0 Tc (y
0.002 Tw (Nbr
EMC
0.002 Tw (Nbr
EMC
0.002 Tw 0 -1.196 TD
/TT1 1 Tf
OSPF Router ID
Modify a Router ID
After a router selects a router ID, an active OSPF router does not allow the router ID to
be changed until the router is reloaded or the OSPF process is reset.
Clearing the OSPF process is the preferred method to reset the router ID.
show
protocols | include Router ID
Router ID 10.10.1.1
conf t
Enter configuration commands, one per line. End with CNTL/Z.
router
R1(config
% OSPF: Reload or use "clear
ospf
process" command, for this to take effect
R1(config
clear
ospf
Reset ALL OSPF processes? [no]:
*Jun 6 01:09:46.975: %OSPF
ADJCHG: Process 10,
3.3.3.3 on GigabitEthernet0/0/1 from FULL to
DOWN, Neighbor Down: Interface down or detached
*Jun 6 01:09:46.981: %OSPF
ADJCHG: Process 10,
3.3.3.3 on GigabitEthernet0/0/1 from LOADING
to FULL, Loading Done *
show
protocols | include Router ID
Router ID 1.1.1.1
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
2.2 Point
Point OSPF
Networks
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
(the
/TT0 1 Tf
(the
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
/TT3 1 Tf
/TT2 1 Tf
0 Tc 0 Tw (
netw)8.3 (ork)]TJ
0 Tc 0 Tw (-
add)8.3 (ress)]TJ
/TT2 1 Tf
0 Tc 0 Tw (
0 Tc 0 Tw (-
mask
/TT2 1 Tf
0 Tc 0 Tw (
/TT5 1 Tf
/TT0 1 Tf
0 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
/TT5 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
/TT5 1 Tf
/TT0 1 Tf
0.008 Tw 0 -1.203 TD
Point
Point OSPF Networks
The network Command Syntax
You can specify the interfaces that belong to a point
point network by configuring
network
command. You can also configure OSPF directly on the interface with
ip ospf
command.
The basic syntax for the
network
command is as follows:
Router(config
network
network
address
wildcard
area
area
The
network
address wildcard
mask
syntax is used to enable OSPF on interfaces.
Any interfaces on a router that match this part of the command are enabled to send
and receive OSPF packets.
The
area
area
syntax refers to the OSPF area. When configuring single
area
OSPFv2, the
network
command must be configured with the same
area
value on
all routers. Although any area ID can be used, it is good practice to use an area ID
of 0 with single
area OSPFv2. This convention makes it easier if the network is later
altered to support multiarea OSPFv2.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
Point
Point OSPF Networks
The Wildcard Mask
The wildcard mask is typically the inverse of the subnet mask configured on that
interface.
The easiest method for calculating a wildcard mask is to subtract the network subnet
mask from 255.255.255.255, as shown for /24 and /26 subnet masks in the figure.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
-0.007 Tw T*
0.008 Tw 0 -1.203 TD
EMC
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
Point
Point OSPF Networks
Configure OSPF Using the network Command
Within routing configuration mode, there are two ways to identify the interfaces that will
participate in the OSPFv2 routing process.
In the first example, the wildcard mask identifies the interface based on the network
addresses. Any active interface that is configured with an IPv4 address belonging to
that network will participate in the OSPFv2 routing process.
Note
: Some IOS versions allow the subnet mask to be entered instead of the wildcard
mask. The IOS then converts the subnet mask to the wildcard mask format.
router
ospf
R1(config
network 10.10.1.0 0.0.0.255 area 0
R1(config
network 10.1.1.4 0.0.0.3 area 0
R1(config
network 10.1.1.12 0.0.0.3 area 0
R1(config
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
0 Tw T*
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
Point
Point OSPF Networks
As an alternative, OSPFv2 can be enabled by specifying the exact interface IPv4
address using a quad zero wildcard mask. Entering
network 10.1.1.5 0.0.0.0 area
on R1 tells the router to enable interface Gigabit Ethernet 0/0/0 for the routing
process.
The advantage of specifying the interface is that the wildcard mask calculation is not
necessary. Notice that in all cases, the
area
argument specifies area 0.
router
ospf
R1(config
network 10.10.1.1 0.0.0.0 area 0
R1(config
network 10.1.1.5 0.0.0.0 area 0
R1(config
network 10.1.1.14 0.0.0.0 area 0
R1(config
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
/TT2 1 Tf
0 Tc 0 Tw (
0 Tc 0 Tw (-
area
area
/TT1 1 Tf
-0.002 Tc 0.002 Tw (no
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
Point
Point OSPF Networks
Configure OSPF Using the
ospf
Command
To configure OSPF directly on the interface, use the
ospf
interface configuration mode
command. The syntax is as follows:
Router(config
ospf
process
Remove the network commands using the
form of the command. Then go to
each interface and configure the
ip ospf
command
router
ospf
R1(config
no network 10.10.1.1 0.0.0.0 area 0
R1(config
no network 10.1.1.5 0.0.0.0 area 0
R1(config
no network 10.1.1.14 0.0.0.0 area 0
R1(config
interface
GigabitEthernet
R1(config
ospf
10 area 0
R1(config
interface
GigabitEthernet
R1(config
ospf
10 area 0
R1(config
interface Loopback 0
R1(config
ospf
10 area 0
R1(config
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw 0 -1.444 TD
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Point
Point OSPF Networks
Passive Interface
By default, OSPF messages are forwarded out all OSPF
enabled interfaces. However,
these messages only need to be sent out interfaces that are connecting to other OSPF
enabled routers.
Sending out unneeded messages on a LAN affects the network in three ways:
Inefficient Use of Bandwidth
Available bandwidth is consumed transporting
unnecessary messages.
Inefficient Use of Resources
All devices on the LAN must process and eventually
discard the message.
Increased Security Risk
Without additional OSPF security configurations, OSPF
messages can be intercepted with packet sniffing software. Routing updates can be
modified and sent back to the router, corrupting the routing table with false metrics that
misdirect traffic.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
-0.007 Tw T*
0.008 Tw 0 -1.203 TD
0.015 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
Point
Point OSPF Networks
Configure Passive Interfaces
Use the
passive
interface
router configuration
mode command to prevent
the transmission of routing
messages through a router
interface, but still allow that
network to be advertised to
other routers.
The
show
protocols
command is then
used to verify that the
interface is listed as passive.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
/TT1 1 Tf
0 Tc 0 Tw (
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw (ip
0 Tc 0 Tw (
EMC
/TT2 1 Tf
EMC
EMC
EMC
EMC
EMC
0 Tw (ip
EMC
EMC
EMC
Point
Point OSPF Networks
OSPF Point
Point Networks
By default, Cisco routers elect a DR and BDR on Ethernet interfaces, even if there is only
one other device on the link. You can verify this with the
show
ospf
interface
command. The DR/ BDR election process is unnecessary as there can only be
two routers on the point
point network between R1 and R2. Notice in the output that the
router has designated the network type as BROADCAST.
show
ospf
interface
GigabitEthernet
GigabitEthernet0/0/0 is up, line protocol is up
Internet Address 10.1.1.5/30, Area 0, Attached via Interface Enable
Process ID 10, Router ID 1.1.1.1,
Network Type BROADCAST
, Cost: 1
Topology
MTID    Cost    Disabled    Shutdown    Topology Name
0           1        no           no          Base
Enabled by interface config, including secondary
addresses
Transmit Delay is 1 sec, State BDR, Priority 1
Timer intervals configured, Hello 10, Dead 40, Wait 40, Retransmit 5
oob
resync timeout 40
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
EMC
EMC
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw (ip
0 Tc 0 Tw (
EMC
/TT2 1 Tf
EMC
EMC
EMC
Point
Point OSPF Networks
OSPF Point
To change this to a point
point network, use the interface configuration command
ospf
network point
point
on all interfaces where you want to disable the DR/BDR
election process.
interface
GigabitEthernet
R1(config
ospf
network point
point
*Jun 6 00:44:05.208: %OSPF
ADJCHG: Process 10,
Nbr
2.2.2.2 on GigabitEthernet0/0/0 from
FULL to DOWN, Neighbor Down: Interface down or detached
*Jun 6 00:44:05.211: %OSPF
ADJCHG: Process 10,
Nbr
2.2.2.2 on GigabitEthernet0/0/0 from
LOADING to FULL, Loading Done
R1(config
end
show
ospf
interface
GigabitEthernet
GigabitEthernet0/0/0 is up, line protocol is up
Internet Address 10.1.1.5/30, Area 0, Attached via Interface Enable
Process ID 10, Router ID 1.1.1.1,
Network Type POINT_TO_POINT
, Cost: 1
Topology
MTID    Cost    Disabled    Shutdown    Topology Name
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
0.01 Tc -0.01 Tw (ip
/TT1 1 Tf
0 Tc 0 Tw (
EMC
/TT0 1 Tf
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
/TT1 1 Tf
/TT2 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
0.01 Tc -0.01 Tw (ip
/TT1 1 Tf
0 Tc 0 Tw (
Point
Point OSPF Networks
Loopbacks and Point
Point Networks
Use loopbacks to provide additional interfaces for a variety of purposes. By default,
loopback interfaces are advertised as /32 host routes.
To simulate a real LAN, the loopback interface can be configured as a point
point
network
to advertise the full network.
What R2 sees when R1 advertises the loopback interface as
show
route | include 10.10.1
[110/2] via 10.1.1.5, 00:03:05, GigabitEthernet0/0/0
Configuration change at R1:
R1(config
interface Loopback 0
R1(config
ospf
network point
point
Result at R2:
show
route | include 10.10.1
[110/2] via 10.1.1.5, 00:03:05, GigabitEthernet0/0/0
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
Point
Point OSPF Networks
Packet Tracer
Point
Point Single
Area OSPFv2 Configuration
In this Packet Tracer activity, you will do the following:
Explicitly configure router IDs.
Configure the
network
command on R1 using wildcard mask based on the subnet mask.
Configure the
network
command on R2 using a quad
zero wildcard mask.
Configure the
ospf
interface command on R3.
Configure passive interfaces.
Verify OSPF operation using the
show
protocols
and
show
route
commands.
2.3 Multiaccess OSPF
Networks
Multiaccess OSPF Networks
OPSF Network Types
Another type of network that uses OSPF is
the multiaccess OSPF network.
Multiaccess OSPF networks are unique in
that one router controls the distribution of
LSAs.
The router that is elected for this role
should be determined by the network
administrator through proper configuration.
s*u*v,w,x.z6FWhygktqR!k#n$n&p&q(s)t*u+v,x-y.z/{0|1}2~244556]lgqnl8{.qN$o%o'q'r)t)u+w,w-y.y/{0|1}1~33446677
8899EryJ=K:gcgnjR!k:vs5z*u,w,x.y.z/|0|1~2~3355667
n9~&):gacvjgI"l$n$o&qPW/{1}1}2344567788d}.|,z+y(w'u;Y.~&~&~&~&8&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&~&~&~&~&~&*DOSW[_c
gcuC$o%o'q'r)t)u+v9
bkds`p<?DrrwQ=96
m,w,x-y.z/{0|1}2~3345667
`^)gSD5{'r)t+v-x.y0{2}DUo{8<@96
2nS.z.z0|0|2~23355668
`^][}Z{WvUH~;x%o'r(s*v,w-y.z0}1~33567
9Kv48cS2/Gw1}1}23445677
8C~+y(v%s#q n3}nnpnnpttv/+~<g~ a5678
ennpjjl||~ddgffittv^^a}}ddgvvy[[^hhjwwyuuwjjl+(}<hTr b/z899854k=~$r#q!o nl
2c}SrRpPnOlNkKf@X>Uo,w-x/{0|1~24566DjAK7'u%s"p nk
b_][|Yz;g}nnpppreehwwzlln[[^ZZ]wwz@(}>jTrWwZ|^
[[^k(}R>kTsWw[|^
`^][}Z|YyWxVuUtSqRpPmOlMiQnRpQoNiKgIdGaD^C[@X>U000oQo(n68996B%s"p nk
hr&_|VvSrRpOlJfnnpssueehssuccflln(}${?lTrWwZ|^
_][|SIpNjOkIcAY9awnnpssueehjjl^^awwzkknpprqqsddgffi(}I@m
`][|XxUtRpPmMiKgIdGaD^C[@X>UXm00;QoVv[}
`]Z|XxUtRpOmMiKgIdGaD^B[@X>U
000yQoVv[}
`][|XxUtRpPmMiKgIdGaD^C[@X>U1K00QgQoVv[}
b^Z{VvQoNkJfHbD]AY9aw+(}AqTrWwZ|^
`][|XxUtRpOmMiKgIdGaD^B[@X>U]rMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdMdQoVv[}
b^Z{VuQoNjJfGbD]AY9awW+]BrTsWw[|^
`][|XxUtRpPmMiKgIdGaD^C[@X>UQoVv[}
b^Z{VuQoNjJfHbD]AY9aw7+CsTrWwZ|^
`]Z|XxUtRpOmMiKgIdGaD^B[@X>UQoVv[}
b^Z{VuQoNjJfGbD]AY9awE+t}TsWw[|^
s)t*u+w,w.y.z/{4?KVaO)n)o)n)n)n)o)n)n)n)o f
889986Su j"l[s5z+w,w.y.z/{0|1~2~3345667
,{+y)w(v%tfO,s2tEzS|]}cyjz}mxxour{~{qq
,s+r,s+r,s+r,s+r,s+r,s+r,s+r,s+r#kUuTsRpQn1v#m$n&p&qPW0|1}2~24455678
,z+y)w(v%sf$n$o&q'r(s)t+v+wG45677889M8*x'v&t$r#q!omO5z/u/vI_y/u/v/u/v/u/v/u/v/u/v/u/v/u/v/u/v$kWwUuTsRpPn$n%o&q'r)t)t+v+w:45677889My8*x'u&t$r#q omO&p'r(s*u*v,w,x.z.z0|0|2~8
gD3y4y3y3y3y4y3y3y3y4y3yIf4y3y3y3y4y3y3y3y4y3y3y3y4y3y3yT?}3y3y3y4y3y3y3y4y3y3y3y&mYzWxUuTsRpQn&p'r(s*u*u,w,x.y.z0|0|1~7
gDX)t*u+v,x-y.z/{0|1}2~24Hh9C}{+y(w'u%s$r!p nmk
n8}7|8}7|8}7|8}7|8}7|8}7|8}7|8}Iutuvwxyz{|}~y}tslbR>7|8}&n[|YzWwUuTsRpPnX(t*u+v,x-x.z/{0|0}2~23Hh9Cr{+y)w'u%s$r"p nmk
a+v,w-y.y/{0|1}1~33446677
`^]I~.y.z/{0|1~2~3355667
`^][}Z{XyWwUuTsRqPm8avjEwCnVr|bruxbKKKKKKKKKKKKKKKK*s
`^][}Z{XyWwUuTsRqOm8avRp&i668
jH[|Z{YzWwVvTsSrQoPnOl@W8av]QPQPQPSjPQPQPQPQPQPQPQPQPQPQPQPQPQPQP9~
[|Z{YzWwVvTsSrQoPnOl@W8avQoUt#j699865=
2b|RpPnOlNjNjBZ@W8avTVWVVVWVVVWVVVWVVVWVVVWVVVWVVVWVVVWVVVWVVVWA
2b|RpPnOlNjNjBZ?W8avRpUtXy d,v441;]O$r"q n mkj
`^][}Z{Xy6l%VpLiNlKgD]BZ@W8av11111111111111111111111111111111111111111111
`^][}Z{Xy6l%VpMiNlKgD]BZ@W8avQoUtXy[}_f&r)w+z)w(v&t$s"p!oml
`_][}Z{YyWwVuTsSqQo&[v_3c}NkOmMjHcF`D]BZ@W8av#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y
b_]~YzWwTsQoNkMiJeHcF`D]BZ@W8av#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y
`^pQoUtXy[}_
b_]YzWwTsRoNkMiJeHcF`D]BZ@W8av#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y
b`nRpUtXy[}
lx:
2QoUtXy[}_
cjx:(~&,u%^zUtXy[}_
b_]~YzWwTsQoNkMiJeHcGr{{~wwyqqsnnp5K9MW
&oore`_R5ttv8s
ffillokkn@@@oor^^aa]^vqyy|ddgpprggj
wwzvvy@@@oor^^aaac^^aXX[aad[[^jjm
mmp]]`xx{W:BHNTZ`flrxr_N@~4u*o#i
b_O{{~ddgttvddgwwz]]`vvyggj
jjliiluuwwwz~~iil@@@y`ooraadyy{
jjl}}XX[wwz]]`bbebbe
b_O{v}{{~ccf
yy{ffi^^avvy@@@L(~&.@@@:~&~&~&@@@y-&&+X@@@LH%&O5@@@b&&g@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&oor^^a@@@&&oorffittv@@@&&oor^^aaadyy|ddgpprggj
nnpiilhhkttwiiljjlssu@@@&&oor^^aaac^^aXX[aad[[^jjm
mmp]]`xx{@@@&&ooraadyy{
yy{ffi^^avvy@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@&&@@@rUxmbXMB9~/x/y;GR^iuc+r#m$n%p&q(s(s*u+v,x-x.z/z0|0}2~244556o[%n:v#n$o&q'r(s)t+v+w-x-y/z/{0}1}234455778899g~0u:vqb)u*u,w,x.y.z/{0|1~2~3355667
99:L[t?10~ur&o#m$n%pxuC.z0|0}2~23455667
du~/},z+y)w(vdX$n%o&q'r)t)t+vTs?
889My|+y*x(v&u$r#q!o6}H%p'r(r)t*u+w,w-y.z/{=67
i#m(s)t*u+v,x-y.z/{0|1}2~2T99Cs{+y)w(v%t$r"p!omk
bll+v+w-x-y/{/{1}1}234466778DkT5]F*x'v&t$r#q!omkj
`^)gS.z.z0|0|2~2~3355668
`^][}Z{XyWwUuTsSqHa<g~]}5667
e9w*l*kZy&]zSrRqQnOmNjLi@X>U=iTrWw
_^][}Z{S=f{NkMiNkKeB[@X>U>jTsWw[|^f's,z-{[7(v&t%s#q!oml
`^][|Z{XxWwUuTsRqRqSqTrVuYyWwUtRpPmMiKgIdGaD^C[@X>U@mTrWwZ|^
`]Z|XxUtRpOmMiKgIdGaD^B[@X>U@oTsWw[|^
`][|XxUtRpPmMiKgIdGaD^C[@X>UApTrWwZ|^
`][|XxUtRpOmMiKgIdGaD^B[@X>UAqTsWw[|^
`][|XxUtRpPmMiKgIdGaD^C[@X>UBrTrWwZ|^
`]Z|XxUtRpOmMiKgIdGaD^B[@X>UCsTsWw[|^
`][|XxUtRpPmMiKgIdGaD^C[@X>UwTrWwZ|^
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
0.008 Tw T*
EMC
Multiaccess OSPF Networks
OPSF Designated Router
In multiaccess networks, OSPF elects a DR and BDR. The DR is responsible for
collecting and distributing LSAs sent and received. The DR uses the multicast IPv4
address 224.0.0.5 which is meant for all OSPF routers.
A BDR is also elected in case the DR fails. The BDR listens passively and maintains a
relationship with all the routers. If the DR stops producing Hello packets, the BDR
promotes itself and assumes the role of DR.
OSPF packets to the DR and BDR. Only the DR and BDR listen for 224.0.0.6.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.015 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
Multiaccess OSPF Networks
OPSF Multiaccess Reference Topology
In the multiaccess topology shown
in the figure, there are three routers
interconnected over a common
Ethernet multiaccess network,
Because the routers are connected
over a common multiaccess
network, OSPF has automatically
elected a DR and BDR. R3 has
been elected as the DR because its
router ID is 3.3.3.3, which is the
highest in this network. R2 is the
BDR because it has the second
highest router ID in the network.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (
/TT0 1 Tf
EMC
EMC
EMC
-0.029 Tw 0 -1.197 TD
EMC
0 Tc 0 Tw (-
EMC
EMC
/TT2 1 Tf
ospf
0 Tc 0 Tw (
EMC
/TT2 1 Tf
EMC
0 Tc -0.002 Tw 0 -1.196 TD
EMC
0 Tc -0.002 Tw 0 -1.196 TD
EMC
0 Tc -0.002 Tw 0 -1.196 TD
EMC
0 Tc -0.002 Tw T*
EMC
0 Tc -0.002 Tw T*
EMC
0 Tc -0.002 Tw T*
EMC
0 Tc -0.002 Tw T*
EMC
0 Tc -0.002 Tw T*
EMC
0 Tc -0.002 Tw T*
EMC
0 Tc -0.002 Tw T*
EMC
0.002 Tw 0 -1.196 TD
Multiaccess OSPF Networks
Verify OSPF Router Roles
To verify the roles of the OSPFv2 router, use the
show
ospf
interface
command.
The output generated by R1 confirms that the following:
The DR is R3 with router ID 3.3.3.3 at IPv4 address 192.168.1.3, while the BDR is R2 with router ID
R1 has two adjacencies: one with the BDR and one with the DR. (Lines 20
show
interface
GigabitEthernet
GigabitEthernet0/0/0 is up, line protocol is up
Internet Address 192.168.1.1/24, Area 0, Attached via Interface Enable
Process ID 10, Router ID 1.1.1.1, Network Type BROADCAST, Cost: 1
Transmit Delay is 1 sec,
State DROTHER, Priority 1
Neighbor Count is 2, Adjacent neighbor count is 2
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
-0.029 Tw 0 -1.197 TD
EMC
0.001 Tw T*
0 Tc 0 Tw (-
EMC
EMC
/TT1 1 Tf
ospf
0 Tc 0 Tw (
EMC
/TT1 1 Tf
EMC
0 Tc -0.002 Tw 0 -1.196 TD
EMC
0 Tc -0.002 Tw 0 -1.196 TD
EMC
0 Tc -0.002 Tw 0 -1.196 TD
EMC
0 Tc -0.002 Tw T*
EMC
0 Tc -0.002 Tw 0 -1.196 TD
EMC
0 Tc -0.002 Tw 0 -1.196 TD
EMC
0 Tc -0.002 Tw T*
EMC
0 Tc -0.002 Tw T*
EMC
0 Tc -0.002 Tw T*
EMC
0 Tc -0.002 Tw T*
EMC
0 Tc -0.002 Tw 0 -1.196 TD
EMC
0.002 Tw 0 -1.196 TD
Multiaccess OSPF Networks
The output generated by R2 confirms that:
The DR is R3 with router ID 3.3.3.3 at IPv4 address 192.168.1.3, while the BDR is R2 with router ID
show
interface
GigabitEthernet
GigabitEthernet0/0/0 is up, line protocol is up
Internet Address 192.168.1.2/24, Area 0, Attached via Interface Enable
Process ID 10, Router ID 2.2.2.2, Network Type BROADCAST, Cost: 1
Transmit Delay is 1 sec,
State BDR, Priority 1
Neighbor Count is 2, Adjacent neighbor count is 2
Adjacent with neighbor 1.1.1.1
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
-0.02 Tw 0 -1.197 TD
EMC
0.001 Tw T*
0 Tc 0 Tw (-
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
0.01 Tc -0.01 Tw (ip
0 Tc 0 Tw (
EMC
/TT1 1 Tf
EMC
EMC
EMC
EMC
0 Tw T*
0.01 Tc -0.01 Tw [(S)10 (ta)10 (te D)10 (R,)10 ( Pr)10 (io)10 (ri)10 (t)10 (y 1 )]TJ
EMC
0 Tc 0 Tw T*
EMC
EMC
EMC
0 Tw T*
EMC
EMC
EMC
EMC
Multiaccess OSPF Networks
The output generated by R3 confirms that:
The DR is R3 with router ID 3.3.3.3 at IPv4 address 192.168.1.3, while the BDR is R2 with router ID 2.2.2.2
show
ospf
interface
GigabitEthernet
GigabitEthernet0/0/0 is up, line protocol is up
Internet Address 192.168.1.3/24, Area 0, Attached via Interface Enable
Process ID 10, Router ID 2.2.2.2, Network Type BROADCAST, Cost: 1
Transmit Delay is 1 sec,
State DR, Priority 1
Neighbor Count is 2, Adjacent neighbor count is 2
Adjacent with neighbor 1.1.1.1
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (
/TT0 1 Tf
EMC
/TT0 1 Tf
0 Tc 0 Tw (
0.001 Tw 0 -1.197 TD
EMC
/TT0 1 Tf
0 Tc 0 Tw (
EMC
/TT0 1 Tf
0 Tc 0 Tw (
EMC
/TT0 1 Tf
0 Tc 0 Tw (
EMC
-0.007 Tw 0 -1.203 TD
Multiaccess OSPF Networks
Verify DR/BDR Adjacencies
To verify the OSPFv2 adjacencies, use the
show
ospf
neighbor
command. The state
of neighbors in multiaccess networks can be as follows:
FULL/DROTHER
This is a DR or BDR router that is fully adjacent with a non
DR or BDR router.
These two neighbors can exchange Hello packets, updates, queries, replies, and
acknowledgments.
FULL/DR
The router is fully adjacent with the indicated DR neighbor. These two neighbors can
exchange Hello packets, updates, queries, replies, and acknowledgments.
FULL/BDR
The router is fully adjacent with the indicated BDR neighbor. These two neighbors
can exchange Hello packets, updates, queries, replies, and acknowledgments.
WAY/DROTHER
The non
DR or BDR router has a neighbor relationship with another non
or BDR router. These two neighbors exchange Hello packets.
The normal state for an OSPF router is usually FULL. If a router is stuck in another state,
it is an indication that there are problems in forming adjacencies. The only exception to
this is the 2
WAY state, which is normal in a multiaccess broadcast network.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
0.01 Tc -0.01 Tw (ip
0 Tc 0 Tw (
EMC
/TT1 1 Tf
(Pri
EMC
EMC
Multiaccess OSPF Networks
The output generated by R2 confirms that R2 has adjacencies with the following routers:
R1 with router ID 1.1.1.1 is in a Full state and R1 is neither the DR nor BDR.
R3 with router ID 3.3.3.3 is in a Full state and the role of R3 is DR.
show
ospf
neighbor
Neighbor ID
State
Dead Time
Address
Interface
FULL/DROTHER
192.168.1.1    GigabitEthernet0/0/0
FULL/DR
GigabitEthernet0/0/0 R2#
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
0 Tw T*
EMC
Multiaccess OSPF Networks
Default DR/BDR Election Process
The OSPF DR and BDR election is based on the following criteria, in sequential order:
The routers in the network elect the router with the highest interface priority as the
DR. The router with the second highest interface priority is becomes the BDR.
The priority can be configured to be any number between 0
If the interface priority value is set to 0, that interface cannot be elected as DR nor BDR.
The default priority of multiaccess broadcast interfaces is 1.
If the interface priorities are equal, then the router with the highest router ID is elected
the DR. The router with the second highest router ID is the BDR.
The election process takes place when the first router with an OSPF
enabled interface
is active on the network. If all of the routers on the network have not finished booting,
it is possible that a router with a lower router ID becomes the DR.
The addition of a new router does not initiate a new election process.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
Multiaccess OSPF Networks
DR Failure and Recovery
After the DR is elected, it remains the DR until one of the following events occurs:
The DR fails.
The OSPF process on the DR fails or is stopped.
The multiaccess interface on the DR fails or is shutdown.
If the DR fails, the BDR is automatically promoted to DR. This is the case even if another
DROTHER with a higher priority or router ID is added to the network after the initial
DR/BDR election. However, after a BDR is promoted to DR, a new BDR election occurs
and the DROTHER with the highest priority or router ID is elected as the new BDR.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(The
EMC
-0.007 Tw 0 -1.203 TD
EMC
0 Tw T*
-0.007 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
0 Tw (ip
0 Tc 0 Tw (
/TT0 1 Tf
/TT0 1 Tf
EMC
EMC
Multiaccess OSPF Networks
ospf
priority Command
If the interface priorities are equal on all routers, the router with the highest router ID
is elected the DR.
Instead of relying on the router ID, it is better to control the election by setting
interface priorities. This also allows a router to be the DR in one network and a
DROTHER in another.
To set the priority of an interface, use the command
ospf
priority
value
, where
value is 0 to 255.
A value of 0 does not become a DR or a BDR.
A value of 1 to 255 on the interface makes it more likely that the router becomes the DR or the
BDR.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
/TT1 1 Tf
EMC
EMC
clear
ospf
process
/TT2 1 Tf
Multiaccess OSPF Networks
Configure OSPF Priority
The example shows the commands being used to change the R1 G0/0/0 interface priority
from 1 to 255 and then reset the OSPF process.
interface
GigabitEthernet
R1(config
ospf
priority 255
R1(config
Reset ALL OSPF processes? [no]:
R1# *Jun 5 03:47:41.563: %OSPF
ADJCHG: Process 10,
Nbr
2.2.2.2 on GigabitEthernet0/0/0
from FULL to DOWN, Neighbor Down: Interface down or detached
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
EMC
Multiaccess OSPF Networks
Packet Tracer
Determine the DR and BDR
In this activity, you will complete the following:
Examine DR and BDR roles and watch the roles change when there is a change in
the network.
Modify the priority to control the roles and force a new election.
Verify routers are filling the desired roles
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
2.4 Modify Single
Area
OSPFv2
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
0 Tc 0 Tw (
EMC
/TT1 1 Tf
/TT0 1 Tf
Modify Single
Area OSPFv2
Cisco OSPF Cost Metric
Routing protocols use a metric to determine the best path of a packet across a
network. OSPF uses cost as a metric. A lower cost indicates a better path.
The Cisco cost of an interface is inversely proportional to the bandwidth of the
interface. Therefore, a higher bandwidth indicates a lower cost. The formula used to
calculate the OSPF cost is:
Cost = reference bandwidth / interface bandwidth
The default reference bandwidth is 10
Cost = 100,000,000 bps / interface bandwidth in bps
Because the OSPF cost value must be an integer,
FastEthernet
, Gigabit Ethernet, and
10 GigE interfaces share the same cost. To correct this situation, you can:
Adjust the reference bandwidth with the
auto
cost reference
bandwidth
command on each
OSPF router.
Manually set the OSPF cost value with the
ospf
cost
command on necessary interfaces.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
Modify Single
Area OSPFv2
Refer to the table for a breakdown of the cost calculation
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
Modify Single
Area OSPFv2
Adjust the Reference Bandwidth
The cost value must be an integer. If something less than an integer is calculated,
OSPF rounds up to the nearest integer. Therefore, the OSPF cost assigned to a
Gigabit Ethernet interface with the default reference bandwidth of 100,000,000 bps
would equal 1, because the nearest integer for 0.1 is 0 instead of 1.
Cost = 100,000,000 bps / 1,000,000,000 = 1
For this reason, all interfaces faster than Fast Ethernet will have the same cost value
of 1 as a Fast Ethernet interface.
To assist OSPF in making the correct path determination, the reference bandwidth
must be changed to a higher value to accommodate networks with links faster than
100 Mbps.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
0 Tc 0 Tw (
/TT0 1 Tf
EMC
EMC
-0.012 Tw 0 -1.137 TD
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
/TT1 1 Tf
0 Tc 0 Tw (-
EMC
/TT0 1 Tf
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
/TT1 1 Tf
0 Tc 0 Tw (
/TT2 1 Tf
/TT0 1 Tf
Modify Single
Area OSPFv2
Changing the reference bandwidth does not actually affect the bandwidth capacity on
the link; rather, it simply affects the calculation used to determine the metric.
To adjust the reference bandwidth, use the
auto
cost reference
bandwidth
Mbps
router configuration command.
This command must be configured on every router in the OSPF domain.
Notice in the command that the value is expressed in Mbps; therefore, to adjust the costs for
Gigabit Ethernet, use the command
auto
cost reference
bandwidth 1000.
For 10 Gigabit
Ethernet, use the command
auto
cost reference
bandwidth 10000.
To return to the default reference bandwidth, use the
auto
cost reference
bandwidth 100
command.
Another option is to change the cost on one specific interface using the
ospf
cost
cost
command.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.008 Tw T*
0.015 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
0 Tc 0 Tw (
Modify Single
Area OSPFv2
Whichever method is used, it is important to apply the configuration to all routers in the
OSPF routing domain.
The table shows the OSPF cost if the reference bandwidth is adjusted to
accommodate 10 Gigabit Ethernet links. The reference bandwidth should be adjusted
anytime there are links faster than
FastEthernet
Use the
show
ospf
interface
command to verify the current OSPFv2 cost assigned
to the interface.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
0.008 Tw T*
0 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
Modify Single
Area OSPFv2
OSPF Accumulates Cost
The cost of an OSPF route is
the accumulated value from
one router to the destination
network.
Assuming the
auto
cost
reference
bandwidth 10000
command has been
configured on all three
routers, the cost of the links
between each router is now
10. The loopback interfaces
have a default cost of 1.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw T*
EMC
0.008 Tw T*
-0.007 Tw T*
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
-0.002 Tc 0.002 Tw T*
Modify Single
Area OSPFv2
You can calculate the cost for
each router to reach each
network.
For example, the total cost for
R1 to reach the 10.10.2.0/24
network is 11. This is because
the link to R2 cost = 10 and
the loopback default cost = 1.
You can verify this with the
show
route
command.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
0.01 Tc -0.01 Tw (ip
/TT1 1 Tf
EMC
/TT2 1 Tf
0.01 Tc -0.01 Tw (ip
/TT1 1 Tf
EMC
0.01 Tc -0.01 Tw [(me)10 (tr)10 (ic)10 ( 11)]TJ
EMC
EMC
EMC
EMC
EMC
Modify Single
Area OSPFv2
Verifying the accumulated cost for the path to the 10.10.2.0/24 network:
show
route | include 10.10.2.0
] via 10.1.1.6, 01:05:02, GigabitEthernet0/0/0
show
route 10.10.2.0
Routing entry for 10.10.2.0/24
Known via "
ospf
10", distance 110,
metric 11
, type intra area
Last update from 10.1.1.6 on GigabitEthernet0/0/0, 01:05:13 ago
Routing Descriptor Blocks:
* 10.1.1.6, from 2.2.2.2, 01:05:13 ago, via GigabitEthernet0/0/0
Route metric is 11
, traffic share count is 1
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (
/TT0 1 Tf
/TT4 1 Tf
/TT3 1 Tf
/TT4 1 Tf
0.01 Tc -0.01 Tw (ip
/TT3 1 Tf
/TT4 1 Tf
/TT3 1 Tf
/TT4 1 Tf
co)10 (st)10 ( 10)]TJ
/TT3 1 Tf
/TT4 1 Tf
(end
Modify Single
Area OSPFv2
Manually Set OSPF Cost Value
Reasons to manually set the cost value include:
The Administrator may want to influence path selection within OSPF, causing different paths to be
selected than what normally would given default costs and cost accumulation.
Connections to equipment from other vendors who use a different formula to calculate OSPF cost.
To change the cost value reported by the local OSPF router to other OSPF routers, use
the interface configuration command
ip ospf cost
value
interface g0/0/1
R1(config
ospf
cost 30
R1(config
interface lo0
R1(config
ospf
cost 10
R1(config
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
0.01 Tc -0.01 Tw (ip
ro)10 (ute)10 ( )]TJ
0 Tc 0 Tw [(o)-10 (spf)]TJ
/TT1 1 Tf
EMC
EMC
EMC
0.01 Tc -0.01 Tw (50
EMC
0.01 Tc -0.01 Tw (40
EMC
Modify Single
Area OSPFv2
Test Failover to Backup Route
What happens if the link between R1 and R2 goes down? You can simulate that by
shutting down the Gigabit Ethernet 0/0/0 interface and verifying the routing table is
updated to use R3 as the next
hop router. Notice that R1 can now reach the 10.1.1.4/30
network through R3 with a cost value of 50.
show
route
ospf
| begin 10
10.0.0.0/8 is variably
subnetted
, 8 subnets, 3 masks
] via 10.1.1.13, 00:00:14, GigabitEthernet0/0/1
] via 10.1.1.13, 00:00:14, GigabitEthernet0/0/1
] via 10.1.1.13, 00:00:14, GigabitEthernet0/0/1
] via 10.1.1.13, 00:00:14, GigabitEthernet0/0/1
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
0.008 Tw T*
0 Tw 0 -1.203 TD
-0.015 Tw 0 -1.203 TD
Modify Single
Area OSPFv2
Hello Packet Intervals
OSPFv2 Hello packets are transmitted to multicast address 224.0.0.5 (all OSPF
point networks.
Note
: Hello packets are not sent on interfaces set to passive by the
passive
interface
command.
The Dead interval is the period that the router waits to receive a Hello packet before
declaring the neighbor down. If the Dead interval expires before the routers receive a
Hello packet, OSPF removes that neighbor from its link
router floods the LSDB with information about the down neighbor out all OSPF
enabled interfaces. Cisco uses a default of 4 times the Hello interval. This is 40
seconds on multiaccess and point
point networks.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw (ip
0 Tc 0 Tw (
EMC
/TT2 1 Tf
EMC
EMC
EMC
EMC
EMC
0 Tw (ip
EMC
EMC
EMC
Modify Single
Area OSPFv2
Verify Hello and Dead Intervals
The OSPF Hello and Dead intervals are configurable on a per
interface basis.
The OSPF intervals must match or a neighbor adjacency does not occur.
To verify the currently configured OSPFv2 interface intervals, use the
show
ospf
interface
command. The Gigabit Ethernet 0/0/0 Hello and Dead intervals are set to the
default 10 seconds and 40 seconds respectively.
show
ospf
interface g0/0/0
GigabitEthernet0/0/0 is up, line protocol is up
Internet Address 10.1.1.5/30, Area 0, Attached via Interface Enable
Process ID 10, Router ID 1.1.1.1, Network Type POINT_TO_POINT, Cost: 10
Topology
MTID
Cost
Disabled
Shutdown
Topology Name
Base
Enabled by interface config, including secondary
addresses
Transmit Delay is 1 sec, State POINT_TO_POINT
Timer intervals configured, Hello 10, Dead 40
, Wait 40, Retransmit 5
oob
resync timeout 40
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw (ip
0 Tc 0 Tw (
EMC
/TT2 1 Tf
(Pri
EMC
EMC
EMC
Modify Single
Area OSPFv2
Use the
show ip ospf neighbor
command to see the Dead Time counting down from 40
seconds. By default, this value is refreshed every 10 seconds when R1 receives a Hello
from the neighbor.
show
ospf
neighbor
Neighbor ID
State
Dead Time
Address
Interface
FULL/
GigabitEthernet0/0/1
FULL/
GigabitEthernet0/0/0
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
0.008 Tw T*
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
0 Tc 0 Tw (
0 Tc 0 Tw (-
int)-8 (erval)]TJ
/TT2 1 Tf
0 Tc 0 Tw (
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
0 Tc 0 Tw (
dead
inte)-8 (rval)]TJ
/TT2 1 Tf
0 Tc 0 Tw (
EMC
/TT0 1 Tf
/TT1 1 Tf
0 Tc 0 Tw (
/TT0 1 Tf
and
0 Tc 0 Tw (
/TT0 1 Tf
Modify Single
Area OSPFv2
Modify OSPFv2 Intervals
It may be desirable to change the OSPF timers so that routers detect network failures
in less time. Doing this increases traffic, but sometimes the need for quick
convergence is more important than the extra traffic it creates.
Note
: The default Hello and Dead intervals are based on best practices and should only be altered in
rare situations.
OSPFv2 Hello and Dead intervals can be modified manually using the following
interface configuration mode commands:
Router(config
ospf
hello
interval
seconds
Router(config
ospf
interval
seconds
Use the
ospf
hello
interval
ospf
dead
interval
commands
to reset the intervals to their default.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
0 Tc 0 Tw (
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
in)10 (ter)10 (v)10 (al)10 ( 20)]TJ
/TT2 1 Tf
EMC
EMC
/TT3 1 Tf
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw (ip
0 Tc 0 Tw (
/TT2 1 Tf
(Pri
EMC
EMC
Modify Single
Area OSPFv2
In the example, the Hello interval for the link between R1 and R2 is changed to 5
seconds. The Cisco IOS automatically modifies the Dead interval to four times the
Hello interval. However, you can document the new Dead interval in the configuration
by manually setting it to 20 seconds, as shown.
When the Dead Timer on R1 expires, R1 and R2 lose adjacency. R1 and R2 must be
configured with the same Hello interval. Use the
show
ospf
neighbor
command
on R1 to verify the neighbor adjacencies.
interface g0/0/0
R1(config
ospf
hello
interval 5
R1(config
ospf
dead
interval 20
R1(config
*Jun 7 04:56:07.571: %OSPF
ADJCHG: Process 10,
Nbr
2.2.2.2 on GigabitEthernet0/0/0
from FULL to DOWN, Neighbor Down: Dead timer expired
R1(config
end
show
ospf
neighbor
Neighbor ID
State
Dead Time
Address
Interface
FULL/
GigabitEthernet0/0/1
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Modify Single
Area OSPFv2
Packet Tracer
Modify Single
Area OSPFv2
In this Packet Tracer activity, you will complete the following:
Adjust the reference bandwidth to account for gigabit and faster speeds
Modify the OSPF cost value
Modify the OSPF Hello timers
Verify the modifications are accurately reflected in the routers.
2.5 Default Route
Propagation
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT0 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
0 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT2 1 Tf
/TT0 1 Tf
EMC
EMC
/TT3 1 Tf
/TT4 1 Tf
/TT3 1 Tf
0 Tc 0 Tw (-
/TT4 1 Tf
/TT3 1 Tf
0 Tc 0 Tw (-
/TT4 1 Tf
/TT3 1 Tf
/TT4 1 Tf
/TT3 1 Tf
EMC
/TT4 1 Tf
(ospf
0 Tc 0 Tw (-
/TT4 1 Tf
0 Tc 0 Tw (-
/TT3 1 Tf
0 Tc 0 Tw (-
/TT4 1 Tf
(end
Default Route Propagation
Propagate a Default Static Route in OSPFv2
To propagate a default route, the edge router must be configured with the following:
A default static route using the
route 0.0.0.0 0.0.0.0
next
hop
address
exit
intf
] command.
The
default
information originate
router configuration command. This instructs R2 to be the
source of the default route information and propagate the default static route in OSPF updates.
In the example, R2 is configured with a loopback to simulate a connection to the internet.
A default route is configured and propagated to all other OSPF routers in the routing
domain.
Note
: When configuring static routes, best practice is to use the next
hop IP address. However, when simulating a
connection to the internet, there is no next
hop IP address. Therefore, we use the
exit
intf
argument.
interface lo1
R2(config
address 64.100.0.1 255.255.255.252
R2(config
exit
route 0.0.0.0 0.0.0.0 loopback 1
%Default route without gateway, if not a point
point interface, may impact performance
router
R2(config
default
information originate
R2(config
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
0.008 Tw 0 -1.203 TD
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw (ip
EMC
/TT2 1 Tf
EMC
EMC
EMC
EMC
EMC
/TT3 1 Tf
0.01 Tc -0.01 Tw (ip
Default Route Propagation
Verify the Propagated Default Route
You can verify the default route settings on R2 using the
show
route
command.
You can also verify that R1 and R3 received a default route.
Notice that the route source on R1 is
, signifying that it was learned using
OSPFv2. The asterisk identifies this as a good candidate for the default route. The E2
designation identifies that it is an external route. The meaning of E1 and E2 is beyond
the scope of this module.
show
route | begin Gateway
Gateway of last resort is 0.0.0.0 to network 0.0.0.0
0.0.0.0/0 is directly connected, Loopback1
10.0.0.0/8 is variably
subnetted
, 9 subnets, 3 masks
show
route | begin Gateway
Gateway of last resort is 10.1.1.6 to network 0.0.0.0
O*E2  0.0.0.0/0 [110/1] via 10.1.1.6, 00:11:08, GigabitEthernet0/0/0
10.0.0.0/8 is variably
subnetted
, 9 subnets, 3 masks
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
P)-2.2 (r)2.2 (opagate a Defaul)-3.6 (t )7.8 (Route)]TJ
EMC
Default Route Propagation
Packet Tracer
Propagate a Default Route in OSPFv2
In this Packet Tracer activity, you will complete the following:
Propagate a Default Route
Part 2: Verify Connectivity
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
2.6 Verify Single
Area
OSPFv2
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
0 Tw 0 -1.203 TD
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Verify Single
Area OSPFv2
Verify OSPF Neighbors
After configuring single
area OSPFv2, you will need to verify your configurations. The
following two commands are particularly useful for verifying routing:
show
interface brief
This verifies that the desired interfaces are active with correct IP
addressing.
show
route
This verifies that the routing table contains all the expected routes.
Additional commands for determining that OSPF is operating as expected include the
following:
show
ospf
neighbor
show
protocols
show
ospf
show
ospf
interface
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (
/TT0 1 Tf
0 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw (ip
0 Tc 0 Tw (
EMC
/TT2 1 Tf
(Pri
EMC
EMC
EMC
Verify Single
Area OSPFv2
Use the
show
ospf
neighbor
command to verify that the router has formed an
adjacency with its neighboring routers. If the router ID of the neighboring router is not
displayed, or if it does not show as being in a state of FULL, the two routers have not
formed an OSPFv2 adjacency.
Note
: A non
DR or BDR router that has a neighbor relationship with another non
DR or BDR router
will display a two
way adjacency instead of full.
The following command output displays the neighbor table of R1.
show
ospf
neighbor
Neighbor ID
State
Dead Time
Address
Interface
FULL/
GigabitEthernet0/0/1
FULL/
GigabitEthernet0/0/0
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Verify Single
Area OSPFv2
Two routers may not form an OSPFv2 adjacency if the following occurs:
The subnet masks do not match, causing the routers to be on separate networks.
The OSPFv2 Hello or Dead Timers do not match.
The OSPFv2 Network Types do not match.
There is a missing or incorrect OSPFv2 network command.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tw 0 -1.203 TD
0.008 Tw T*
-0.015 Tw T*
0.008 Tw T*
0.015 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
0.002 Tc -0.002 Tw 0 -1.203 TD
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw (ip
/TT2 1 Tf
EMC
0.01 Tw 0 -1.2 TD
EMC
0 Tw T*
0.01 Tc -0.01 Tw [(os)10 (pf)]TJ
EMC
EMC
EMC
0 Tc 0 Tw T*
Nu)10 (m)10 (be)10 (r of)10 ( ar)9.9 (eas)10 ( in)10 ( th)10 (is)10 ( )-10 (r)10 (o)10 (ut)10 (er i)10 (s 1)10 (. 1 no)10 (r)10 (ma)10 (l )-10 (0)10 ( st)10 (u)10 (b 0 )]TJ
0 Tc 0 Tw [(n)-10 (ssa)]TJ
EMC
0 Tw T*
EMC
EMC
0 Tw T*
EMC
EMC
EMC
EMC
0 Tw T*
EMC
EMC
EMC
Verify Single
Area OSPFv2
Verify OSPF Protocol Settings
The
show ip protocols
command is a quick way to
verify vital OSPF
configuration information, as
shown in the command
output. This includes the
OSPFv2 process ID, the
router ID, interfaces
explicitly configured to
advertise OSPF routes, the
neighbors the router is
receiving updates from, and
the default administrative
distance, which is 110 for
OSPF.
show
protocols
*** IP Routing is NSF aware ***
Routing Protocol is "
ospf
Outgoing update filter list for all interfaces is not set
Incoming update filter list for all interfaces is not set
Router ID 1.1.1.1
Number of areas in this router is 1. 1 normal 0 stub 0
nssa
Maximum path: 4
Routing for Networks:
Loopback0
GigabitEthernet0/0/1
GigabitEthernet0/0/0
Routing Information Sources:
Gateway
Distance
Last Update
Distance: (default is
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
-0.007 Tw T*
0.008 Tw T*
0 Tw 0 -1.203 TD
0.008 Tw T*
0 Tw T*
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw (ip
0 Tc 0 Tw (
EMC
EMC
0 Tw 0 -1.2 TD
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Verify Single
Area OSPFv2
Verify OSPF Process Information
The
show ip ospf
command can also be
used to examine the
OSPFv2 process ID
and router ID, as
shown in the
command output.
This command
displays the OSPFv2
area information and
the last time the SPF
algorithm was
executed.
show
ospf
Routing Process "
ospf
10" with ID 1.1.1.1
Start time: 00:01:47.390, Time elapsed: 00:12:32.320
Cisco NSF helper support enabled
Reference bandwidth unit is 10000
mbps
Number of interfaces in this area is 3
Area has no authentication
SPF algorithm last executed 00:11:31.231 ago
SPF algorithm executed 4 times
Area ranges are
Number of LSA 3. Checksum Sum 0x00E77E
Number of opaque link LSA 0. Checksum Sum 0x000000
Number of
DCbitless
LSA 0 Number of indication LSA 0
Number of
DoNotAge
LSA 0 Flood list length 0
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (
/TT0 1 Tf
0 Tw 0 -1.203 TD
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw (ip
0 Tc 0 Tw (
EMC
/TT2 1 Tf
EMC
EMC
EMC
EMC
0 Tw 0 -2.4 TD
EMC
EMC
EMC
Verify Single
Area OSPFv2
Verify OSPF Interface Settings
The
show
ospf
interface
command provides a detailed list for every OSPFv2
enabled
interface. Specify an interface to display the settings of just that interface. This command
shows the process ID, the local router ID, the type of network, OSPF cost, DR and BDR
show
ospf
interface
GigabitEthernet
GigabitEthernet0/0/0 is up, line protocol is up
Internet Address 10.1.1.5/30, Area 0, Attached via Interface Enable
Process ID 10, Router ID 1.1.1.1, Network Type POINT_TO_POINT, Cost: 10
<output omitted>
Neighbor Count is 1, Adjacent neighbor count is 1
Adjacent with neighbor 2.2.2.2
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
EMC
EMC
EMC
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw (ip
0 Tc 0 Tw (
/TT2 1 Tf
EMC
EMC
EMC
EMC
Verify Single
Area OSPFv2
To get a quick summary of OSPFv2
enabled interfaces, use the
show ip ospf interface
brief
command, as shown in the command output. This command is useful for seeing
important information including:
Interfaces are participating in OSPF
Cost of each link
Network state
Number of neighbors on each link
show
ospf
interface brief
Interface
PID
Area
IP Address/Mask
Cost
State
Nbrs
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Verify Single
Area OSPFv2
Packet Tracer
Verify Single
Area OSPFv2
In this Packet Tracer activity, you will complete the following:
Identify and verify the status of OSPF neighbors.
Determine how the routes are being learned in the network.
Explain how the neighbor state is determined.
Examine the settings for the OSPF process ID.
Add a new LAN into an existing OSPF network and verify connectivity.
2.7 Module Practice and Quiz
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
Module Practice and Quiz
Packet Tracer
Single
Area OSPFv2 Configuration
In this Packet Tracer activity, you will complete the following:
Implement single
area OSPFv2 in both point
point and broadcast multiaccess networks.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(Lab
EMC
0.003 Tw T*
EMC
EMC
0 Tc 0 Tw (-
EMC
0 Tc 0 Tw (-
Module Practice and Quiz
Packet Tracer
Single
Area OSPFv2 Configuration
Physical
Mode
Single
Area OSPFv2 Configuration
In this lab and Packet Tracer Physical Mode activity, you will complete the following
objectives:
Build the network and configure basic device settings
Configure and verify single
area OSPFv2 for basic operation
Optimize and verify the single
area OSPFv2 configuration
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.003 Tw 0 -1.2 TD
EMC
0 Tc 0 Tw (-
EMC
EMC
Module Practice and Quiz
Packet Tracer
Multiarea OSPF Configuration
Physical Mode
In this Packet Tracer Physical Mode activity, you will complete the following
objectives:
Part 1: Evaluate Network Operation of Single
Area OSPF.
Part 2: Evaluate Network Operation of Multiarea OSPF.
Part 3: Configure a New Area and Attach to Area 0 Through the Internet.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
0 Tc 0 Tw (-
0 Tc 0 Tw (-
EMC
-0.026 Tw 0 -1.2 TD
/TT1 1 Tf
/TT0 1 Tf
-0.01 Tw T*
EMC
/TT1 1 Tf
/TT0 1 Tf
com)5 (m)5 (and i)2 (s )]TJ
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (-
0 Tc 0 Tw (-
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (
0 Tc 0 Tw (-
/TT1 1 Tf
/TT0 1 Tf
com)5 (m)5 (and can )-8 (send )]TJ
EMC
0 Tc 0 Tw (-
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (-
Module Practice and Quiz
What Did I Learn In This Module?
OSPFv2 is enabled using the
router
ospf
process
global configuration mode command. The
process
id value represents a number between 1 and 65,535 and is selected by the network
administrator.
An OSPF router ID is a 32
bit value, represented as an IPv4 address. The router ID is used by an
OSPF
enabled router to synchronize OSPF databases and participate in the election of the DR and
BDR.
explicitly configured using the OSPF
router
rid
chooses the highest active IPv4 address of any of its physical interfaces.
The basic syntax for the
network
command is
network
network
address wildcard
mask
area
area
. Any interfaces on a router that match the network address in the
network
command can send
and receive OSPF packets.
When configuring single
area OSPFv2, the
network
command must be configured with the same
area
id value on all routers. The wildcard mask is typically the inverse of the subnet mask
configured on that interface, but could also be a quad zero wildcard mask, which would specify the
exact interface.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
pr)1 (ocess)]TJ
0 Tc 0 Tw (-
/TT0 1 Tf
0 Tc 0 Tw (
0 Tc 0 Tw (-
U)6 (se t)2 (he )]TJ
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
-0.026 Tw 0 -1.2 TD
EMC
EMC
-0.018 Tw T*
-0.01 Tw T*
EMC
-0.01 Tw T*
EMC
/TT1 1 Tf
Module Practice and Quiz
To configure OSPF directly on the interface, use the
ospf
interface
configuration mode
command. The syntax is
ospf
process
area
area
Use the
passive
interface router
configuration mode command to stop transmitting routing
messages through a router interface, but still allow that network to be advertised to other routers.
The DR/ BDR election process is unnecessary as there can only be two routers on the point
point network between R1 and R2. Use the interface configuration command
ospf
network
point
point
on all interfaces where you want to disable the DR/BDR election process.
By default, loopback interfaces are advertised as /32 host routes. To simulate a real LAN, the
Loopback 0 interface is configured as a point
point network.
OSPF Network Types
The DR is responsible for collecting and distributing LSAs . The DR uses the multicast IPv4
address 224.0.0.5 which is meant for all OSPF routers. If the DR stops producing Hello packets, the
BDR promotes itself and assumes the role of DR. All other routers become a DROTHER.
to the DR and BDR. Only the DR and BDR listen for 224.0.0.6.
To verify the roles of the OSPFv2 router, use the
show
ospf
interface
command.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
-0.026 Tw T*
EMC
T)7 (he i)2 (nt)2 (er)1 (f)2 (ace )16 (pr)1 (i)2 (or)1 (i)2 (t)2 (y)16 ( can )8 (be conf)2 (i)2 (gur)1 (ed )16 (t)2 (o be any)16 ( )-8 (num)5 (ber)1 ( bet)2 (w)14 (een 0 )]TJ
-0.034 Tw T*
EMC
0 Tc 0 Tw (-
EMC
/TT1 1 Tf
0.002 Tc -0.002 Tw (ip
/TT2 1 Tf
/TT0 1 Tf
-0.01 Tw T*
EMC
EMC
Module Practice and Quiz
To verify the OSPFv2 adjacencies, use the
show
ospf
neighbor
command. The state of
neighbors in multiaccess networks can be: FULL/DROTHER, FULL/DR. FULL/BDR, or 2
WAY/DROTHER.
The OSPF DR and BDR election decision is based on the  router with the highest interface priority
as the DR. The router with the second highest interface priority is elected as the BDR. If the
interface priorities are equal, then the router with the highest router ID is elected the DR. The router
with the second highest router ID is the BDR.
The interface priority can be configured to be any number between 0
255. If the interface priority
value is set to 0, that interface cannot be elected as DR nor BDR. The default priority of multiaccess
broadcast interfaces is 1.
OSPF DR and BDR elections are not pre
emptive. If the DR fails, the BDR is automatically
promoted to DR.
To set the priority of an interface, use the command
ospf
priority
value
, where value is 0 to 255.
If the value is 0, the router will not become a DR or BDR. If the value is 1 to 255, then the router
with the higher priority value will more likely become the DR or BDR on the interface.
OSPF uses cost as a metric. A lower cost indicates a better path than a higher cost.
The formula used to calculate the OSPF cost is: Cost = reference bandwidth / interface bandwidth.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.002 Tc 0 Tw 0 -1.2 TD
/TT1 1 Tf
0 Tc 0 Tw (-
0 Tc 0 Tw (-
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
-0.026 Tw T*
-0.004 Tw T*
/TT1 1 Tf
/TT2 1 Tf
/TT0 1 Tf
0.002 Tc -0.002 Tw (.
0.002 Tc -0.016 Tw T*
EMC
C)6 (i)2 (sco uses )8 (a def)2 (aul)2 (t)2 ( )16 (of)2 ( 4 t)2 (i)2 (m)5 (es t)2 (he )8 (H)6 (el)2 (l)2 (o )-7.9 (i)2 (nt)2.1 (er)1 (v)16 (al)2 ( or)1 ( 40 seconds )16 (on m)5 (ul)2 (t)2 (i)2 (access )16 (and )8 (poi)2 (nt)]TJ
/TT1 1 Tf
/TT0 1 Tf
EMC
-0.034 Tw T*
/TT1 1 Tf
/TT0 1 Tf
(and
/TT0 1 Tf
Module Practice and Quiz
Because the OSPF cost value must be an integer,
FastEthernet
, Gigabit Ethernet, and 10 GigE
interfaces share the same cost. To correct this situation, you can adjust the reference bandwidth
with the
auto
cost reference
bandwidth
command on each OSPF router, or manually set the
OSPF cost value with the
ospf
cost
command.
The cost of an OSPF route is the accumulated value from one router to the destination network.
OSPF cost values can be manipulated to influence the route chosen by OSPF. To change the cost
value report by the local OSPF router to other OSPF routers, use the interface configuration
command
ospf
cost
value
If the Dead interval expires before the routers receive a Hello packet, OSPF removes that neighbor
from its link
neighbor out all OSPF
enabled interfaces.
Cisco uses a default of 4 times the Hello interval or 40 seconds on multiaccess and point
point
networks. To verify the OSPFv2 interface intervals, use the
show
ospf
interface
command.
OSPFv2 Hello and Dead intervals can be modified manually using the following interface
configuration mode commands:
ospf
hello
interval
ospf
dead
interval
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tc 0 Tw (-
-0.026 Tw 0 -1.2 TD
/TT1 1 Tf
/TT0 1 Tf
next
hop
/TT0 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT0 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
U)6 (se t)2 (he )]TJ
/TT1 1 Tf
Module Practice and Quiz
In OSPF terminology, the router located between an OSPF routing domain and a non
OSPF
network is called the ASBR. To propagate a default route, the ASBR must be configured with a
default static route using the
route 0.0.0.0 0.0.0.0
next-hop-address
exit
intf
] command, and
the
default
information originate router
configuration command.
Verify the default route settings on the ASBR using the
show
route
command.
Additional commands for determining that OSPF is operating as expected include:
show
ospf
neighbor
show
protocols
show
ospf
, and
show
ospf
interface
Use the
show
ospf
neighbor
command to verify that the router has formed an adjacency with its
neighboring routers.
Module 4: ACL Concepts
Enterprise Networking, Security, and Automation v7.0
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
Module Objectives
Module Title:
ACL Concepts
Module Objective
Explain how ACLs are used as part of a network security policy.
Topic Title
Topic Objective
Purpose of ACLs
Explain how ACLs filter traffic.
Wildcard Masks in ACLs
Explain how ACLs use wildcard masks.
Guidelines for ACL Creation
Explain how to create ACLs.
Types of IPv4 ACLs
Compare standard and extended IPv4 ACLs.
4.1 Purpose of ACLs
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
Purpose of ACLs
What is an ACL?
An ACL is a series of IOS commands that are used to filter packets based on information
found in the packet header. By default, a router does not have any ACLs configured.
When an ACL is applied to an interface, the router performs the additional task of
evaluating all network packets as they pass through the interface to determine if the
packet can be forwarded.
An ACL uses a sequential list of permit or deny statements, known as access control
Note:
ACEs are also commonly called ACL statements.
When network traffic passes through an interface configured with an ACL, the router
compares the information within the packet against each ACE, in sequential order, to
determine if the packet matches one of the ACEs. This process is called packet
filtering.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.002 Tc 0.002 Tw 0 -1.198 TD
EMC
EMC
EMC
EMC
EMC
EMC
Purpose of ACLs
Several tasks performed by routers require the use of ACLs to identify
traffic:
Limit network traffic to increase network performance
Provide traffic flow control
Provide a basic level of security for network access
Filter traffic based on traffic type
Screen hosts to permit or deny access to network services
Provide priority to certain classes of network traffic
Application of ACL on router
Example
Limit network traffic to increase
network performance
A policy can be enforced using ACL to block video traffic to
reduce network load.
Provide traffic flow control
A policy can be implemented using ACLS to restrict the delivery
of routing updates to only those that come from a known
source.
Provide a basic level of security for
network access
A policy can be enforced using ACLS to limit access to
specified networks such as Human Resources for authorized
users only.
Filter traffic based on traffic type
A policy can be implemented using ACL to filter traffic by type
(email traffic be permitted into a network but Telnet access be
Screen hosts to permit or deny
access to network services
ACL to filter user access to services. Example FTP or HTTP be
limited to user groups
Provide priority to certain classes of
network traffic
Use ACL and QoS services to identify voice traffic and process
it immediately to avoid any interruptions
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.015 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
EMC
0.023 Tw T*
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Purpose of ACLs
Packet Filtering
Packet filtering controls access to a
network by analyzing the incoming and/or
outgoing packets and forwarding them or
discarding them based on given criteria.
Packet filtering can occur at Layer 3 or
Layer 4.
Cisco routers support two types of ACLs:
Standard ACLs
ACLs only filter at Layer 3
using the source IPv4 address only.
Extended ACLs
ACLs filter at Layer 3 using
the source and / or destination IPv4 address.
They can also filter at Layer 4 using TCP, UDP
ports, and optional protocol type information for
finer control.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
0 Tw 0 -1.203 TD
EMC
Purpose of ACLs
ACL Operation
ACLs define the set of rules that give added control for packets that enter inbound
interfaces, packets that relay through the router, and packets that exit outbound
interfaces of the router.
ACLs can be configured to apply to inbound traffic and outbound traffic.
Note
: ACLs do not act on packets that originate from the router itself.
An inbound ACL filters packets before they are routed to the outbound interface. An
inbound ACL is efficient because it saves the overhead of routing lookups if the
packet is discarded.
An outbound ACL filters packets after being routed, regardless of the inbound
interface.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
EMC
-0.029 Tw 0 -1.137 TD
EMC
-0.012 Tw T*
EMC
Purpose of ACLs
When an ACL is applied to an interface, it follows a specific operating procedure. Here
are the operational steps used when traffic has entered a router interface with an inbound
standard IPv4 ACL configured:
The router extracts the source IPv4 address from the packet header.
The router starts at the top of the ACL and compares the source IPv4 address to each ACE in a
sequential order.
When a match is made, the router carries out the instruction, either permitting or denying the
packet, and the remaining ACEs in the ACL, if any, are not analyzed.
If the source IPv4 address does not match any ACEs in the ACL, the packet is discarded because
there is an implicit deny ACE automatically applied to all ACLs.
The last ACE statement of an ACL is always an implicit deny that blocks all traffic. It is
hidden and not displayed in the configuration.
Note
: An ACL must have at least one permit statement otherwise all traffic will be denied due to the
implicit deny ACE statement.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
Purpose of ACLs
Packet Tracer
ACL Demonstration
In this Packet Tracer, you will complete the following objectives:
Part 1: Verify Local Connectivity and Test Access Control List
Part 2: Remove Access Control List and Repeat Test
4.2 Wildcard Masks in ACLs
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Wildcard Masks in ACLs
Wildcard Mask Overview
A wildcard mask is similar to a subnet mask in that it uses the ANDing process to identify
which bits in an IPv4 address to match. Unlike a subnet mask, in which binary 1 is equal
to a match and binary 0 is not a match, in a wildcard mask, the reverse is true.
An IPv4 ACE uses a 32
bit wildcard mask to determine which bits of the address to
examine for a match.
Wildcard masks use the following rules to match binary 1s and 0s:
Wildcard mask bit 0
Match the corresponding bit value in the address
Wildcard mask bit 1
Ignore the corresponding bit value in the address
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
q 1 0 0 1 175.9991 347.875 cm
q 1 0 0 1 334.2215 347.875 cm
q 1 0 0 1 36.875 318.1742 cm
q 1 0 0 1 36.875 288.9734 cm
q 1 0 0 1 36.875 231.0734 cm
q 1 0 0 1 36.875 173.1734 cm
q 1 0 0 1 36.875 115.2734 cm
q 1 0 0 1 37.375 347.875 cm
q 1 0 0 1 689.3751 347.875 cm
q 1 0 0 1 36.875 347.375 cm
q 1 0 0 1 36.875 74.1734 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
0 Tc 0 Tw 0 -1.197 TD
EMC
0 Tc 0 Tw 0 -1.197 TD
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
0 Tc 0 Tw T*
EMC
0 Tc 0 Tw 0 -1.197 TD
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
0 Tc 0 Tw T*
EMC
0 Tc 0 Tw T*
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
0 Tc 0 Tw T*
Wildcard Masks in ACLs
Wildcard Mask
Meaning (0
match, 1
Match all octets.
Match the first three octets
Match the two left most bits of the last octet
Ignore the last 6 bits
Match the first three octets
Match the four left most bits of the last octet
Ignore the last 4 bits of the last octet
Match the first three octets
Ignore the six left most bits of the last octet
Match the last two bits
Match the first three octet
Ignore the last octet
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
0 Tw 0 -1.203 TD
/TT1 1 Tf
(access
EMC
q 1 0 0 1 184.3265 172.8497 cm
q 1 0 0 1 294.549 172.8497 cm
q 1 0 0 1 49.6041 143.1489 cm
q 1 0 0 1 49.6041 113.9481 cm
q 1 0 0 1 49.6041 84.7473 cm
q 1 0 0 1 50.1041 172.8497 cm
q 1 0 0 1 669.8954 172.8497 cm
q 1 0 0 1 49.6041 172.3497 cm
q 1 0 0 1 49.6041 38.8473 cm
EMC
EMC
EMC
/TT0 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
EMC
/TT1 1 Tf
/TT1 1 Tf
EMC
Wildcard Masks in ACLs
Wildcard Mask Types
Wildcard to Match a Host:
Assume ACL 10 needs an ACE that only permits the host with IPv4 address
When the ACE is processed, the wildcard mask will permit only the 192.168.1.1
address. The resulting ACE in ACL 10 would be
list 10 permit 192.168.1.1
Decimal
Binary
IPv4 address
Wildcard Mask
Permitted IPv4
Address
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
(access
Decim)1.8 (al)]TJ
EMC
EMC
/TT0 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
EMC
/TT1 1 Tf
/TT1 1 Tf
EMC
Wildcard Masks in ACLs
Wildcard Mask to Match an IPv4 Subnet
ACL 10 needs an ACE that permits all hosts in the 192.168.1.0/24 network. The
wildcard mask 0.0.0.255 stipulates that the very first three octets must match exactly
but the fourth octet does not.
When processed, the wildcard mask 0.0.0.255 permits all hosts in the 192.168.1.0/24
network. The resulting ACE in ACL 10 would be
list 10 permit 192.168.1.0
Decimal
Binary
IPv4 address
Wildcard Mask
Permitted IPv4
Address
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
access
EMC
q 1 0 0 1 184.3265 202.832 cm
q 1 0 0 1 321.2143 202.832 cm
q 1 0 0 1 49.6041 173.1312 cm
q 1 0 0 1 49.6041 143.9304 cm
q 1 0 0 1 49.6041 114.7296 cm
q 1 0 0 1 50.1041 202.832 cm
q 1 0 0 1 669.8954 202.832 cm
q 1 0 0 1 49.6041 202.332 cm
q 1 0 0 1 49.6041 56.8296 cm
EMC
EMC
EMC
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
EMC
/TT1 1 Tf
/TT1 1 Tf
EMC
Wildcard Masks in ACLs
Wildcard Mask to Match an IPv4 Address Range
ACL 10 needs an ACE that permits all hosts in the 192.168.16.0/24, 192.168.17.0/24,
When processed, the wildcard mask 0.0.15.255 permits all hosts in the
192.168.16.0/24 to 192.168.31.0/24 networks. The resulting ACE in ACL 10 would
list 10 permit 192.168.16.0 0.0.15.255.
Decimal
Binary
IPv4 address
Wildcard Mask
Permitted IPv4
Address
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
/TT1 1 Tf
(access
EMC
/TT0 1 Tf
0.008 Tw T*
0 Tw 0 -1.203 TD
access
EMC
/TT0 1 Tf
0 Tw T*
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
access
Wildcard Masks in ACLs
Wildcard Mask Calculation
Calculating wildcard masks can be challenging. One shortcut method is to
subtract the subnet mask from 255.255.255.255. Some examples:
Assume you wanted an ACE in ACL 10 to permit access to all users in the
192.168.3.0/24 network. To calculate the wildcard mask, subtract the subnet mask
The ACE would be
list 10 permit 192.168.3.0 0.0.0.255.
Assume you wanted an ACE in ACL 10 to permit network access for the 14 users in
255.255.255.255. This produces the wildcard mask 0.0.0.15. The ACE would
list 10 permit 192.168.3.32 0.0.0.15.
Assume you needed an ACE in ACL 10 to permit only networks 192.168.10.0 and
192.168.11.0. These two networks could be summarized as 192.168.10.0/23 which is
a subnet mask of 255.255.254.0. Subtract 255.255.254.0 subnet mask from
255.255.255.255. This produces the wildcard mask 0.0.1.255. The ACE would
list 10 permit 192.168.10.0 0.0.1.255.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Wildcard Masks in ACLs
Wildcard Mask Keywords
The Cisco IOS provides two keywords to identify the most common uses of wildcard
masking. The two keywords are:
host
This keyword substitutes for the 0.0.0.0 mask. This mask states that all IPv4
address bits must match to filter just one host address.
any
This keyword substitutes for the 255.255.255.255 mask. This mask says to
ignore the entire IPv4 address or to accept any addresses.
4.3 Guidelines for ACL
Creation
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Guidelines for ACL Creation
Limited Number of ACLs per Interface
There is a limit on the number of ACLs that can be applied on a router interface. For
example, a dual
applied, as shown in the figure.
Specifically, a router interface can have:
One outbound IPv4 ACL.
One inbound IPv4 ACL.
One inbound IPv6 ACL.
One outbound IPv6 ACL.
Note
: ACLs do not have to be configured in both
directions. The number of ACLs and their direction
applied to the interface will depend on the security
policy of the organization.
Guidelines for ACL Creation
ACL Best Practices
Using ACLs requires attention to detail and great care. Mistakes can be costly in terms of
downtime, troubleshooting efforts, and poor network service. Basic planning is required
before configuring an ACL.
Guideline
Benefit
Base ACLs on the organizational security
policies.
This will ensure you implement organizational
security guidelines.
Write out what you want the ACL to do.
This will help you avoid inadvertently creating
potential access problems.
Use a text editor to create, edit, and save all of
your ACLs.
This will help you create a library of reusable
ACLs.
Document the ACLs using
the
remark
command.
purpose of an ACE.
Test the ACLs on a development network
before implementing them on a production
network.
This will help you avoid costly errors.
4.4 Types of IPv4 ACLs
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Types of IPv4 ACLs
Standard and Extended ACLs
There are two types of IPv4 ACLs:
Standard ACLs
These permit or deny packets based only on the source IPv4
address.
Extended ACLs
These permit or deny packets based on the source IPv4 address
and destination IPv4 address, protocol type, source and destination TCP or UDP ports
and more.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
199, or)2.2 ( 2000)]TJ
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw [(ac)10 (ces)10 (s)]TJ
EMC
/TT2 1 Tf
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
/TT3 1 Tf
Types of IPv4 ACLs
Numbered and Named ACLs
Numbered ACLs
ACLs numbered 1
1999 are standard ACLs, while ACLs numbered 100
2699 are extended ACLs.
access
list ?
99> IP standard access list
199> IP extended access list
1199> Extended 48
bit MAC address access list
299> Protocol type
code access list
bit MAC address access list
rate
limit Simple rate
limit specific access list
template Enable IP template acls
access
list
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
access
list
EMC
0 Tw 0 -1.203 TD
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
lis)8.3 (t e)8.3 (xtended)8.3 ( FTP)]TJ
FI)8.3 (LTER )]TJ
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
/TT2 1 Tf
0 Tc 0 Tw (-
Types of IPv4 ACLs
Named ACLs
Named ACLs are the preferred method to use when configuring ACLs. Specifically,
standard and extended ACLs can be named to provide information about the purpose
of the ACL. For example, naming an extended ACL FTP
FILTER is far better than
having a numbered ACL 100.
The
global configuration command is used to create a named ACL, as
shown in the following example.
ip access
list extended FTP
FILTER
R1(config
ext
permit tcp 192.168.10.0 0.0.0.255 any eq ftp
R1(config
ext
permit tcp 192.168.10.0 0.0.0.255 any eq ftp
data
R1(config
ext
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
0.008 Tw T*
0 Tw 0 -1.203 TD
EMC
Types of IPv4 ACLs
Where to Place ACLs
Every ACL should be placed where it
has the greatest impact on efficiency.
Extended ACLs should be located as
close as possible to the source of the
traffic to be filtered.
Standard ACLs should be located as
close to the destination as possible.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
q 1 0 0 1 319.1102 307.8105 cm
q 1 0 0 1 33.5 278.1097 cm
q 1 0 0 1 33.5 220.2097 cm
q 1 0 0 1 33.5 179.1097 cm
q 1 0 0 1 34 307.8105 cm
q 1 0 0 1 686 307.8105 cm
q 1 0 0 1 33.5 307.3105 cm
q 1 0 0 1 33.5 70.8097 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
0 Tc 0 Tw T*
Types of IPv4 ACLs
Factors Influencing ACL Placement
Explanation
The extent of organizational control
Placement of the ACL can depend on whether or not the
organization has control of both the source and
destination networks.
Bandwidth of the networks involved
It may be desirable to filter unwanted traffic at the source
to prevent transmission of bandwidth
consuming traffic.
Ease of configuration
It may be easier to implement an ACL at the destination,
but traffic will use bandwidth unnecessarily.
An extended ACL could be used on each router where
the traffic originated. This would save bandwidth by
filtering the traffic at the source, but it would require
creating extended ACLs on multiple routers.
Types of IPv4 ACLs
Standard ACL Placement Example
In the figure, the administrator
wants to prevent traffic originating in
the 192.168.10.0/24 network from
reaching the 192.168.30.0/24
network.
Following the basic placement
guidelines, the administrator would
place a standard ACL on router R3.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
-0.029 Tw 0 -1.197 TD
-0.02 Tw T*
-0.012 Tw T*
EMC
/TT0 1 Tf
Types of IPv4 ACLs
There are two possible interfaces on R3 to
apply the standard ACL:
R3 S0/1/1 interface
The
standard ACL can be applied inbound on the
R3 S0/1/1 interface to deny traffic from .10
network. However, it would also filter .10
traffic to the 192.168.31.0/24 (.31 in this
ACL should not be applied to this interface.
R3 G0/0 interface
The
standard ACL can be applied outbound on
the R3 G0/0/0 interface. This will not affect
other networks that are reachable by R3.
Packets from .10 network will still be able to
reach the .31 network. This is the best
interface to place the standard ACL to meet
the traffic requirements.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.015 Tw T*
0.008 Tw 0 -1.203 TD
-0.007 Tw T*
EMC
Types of IPv4 ACLs
Extended ACL Placement Example
Extended ACLs should be located as close
to the source as possible.
However, the organization can only place
ACLs on devices that they control.
Therefore, the extended ACL placement
must be determined in the context of
where organizational control extends.
In the figure, for example, Company A
wants to deny Telnet and FTP traffic to
from their 192.168.11.0/24 network, while
permitting all other traffic.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.012 Tw T*
EMC
-0.029 Tw 0 -1.197 TD
EMC
-0.012 Tw 0 -1.41 TD
-0.02 Tw 0 -1.197 TD
EMC
/TT0 1 Tf
-0.022 Tw 0 -1.2 TD
-0.004 Tw T*
EMC
/TT0 1 Tf
Types of IPv4 ACLs
An extended ACL on R3 would accomplish the task,
but the administrator does not control R3. In addition,
this solution allows unwanted traffic to cross the entire
network, only to be blocked at the destination.
The solution is to place an extended ACL on R1 that
specifies both source and destination addresses.
There are two possible interfaces on R1 to apply the
extended ACL:
The extended ACL can be
applied outbound on the S0/1/0 interface. This solution will
process all packets leaving R1 including packets from
The extended ACL can be
applied inbound on the G0/0/1 and only packets from the
192.168.11.0/24 network are subject to ACL processing on
R1. Because the filter is to be limited to only those packets
leaving the 192.168.11.0/24 network, applying the extended
ACL to G0/1 is the best solution.
4.5 Module Practice and Quiz
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.029 Tw 0 -1.197 TD
EMC
EMC
-0.012 Tw T*
EMC
EMC
EMC
EMC
EMC
EMC
-0.012 Tw T*
Module Practice and Quiz
What Did I Learn In This Module?
An ACL is a series of IOS commands that are used to filter packets based on information found in the
packet header.
A router does not have any ACLs configured by default.
When an ACL is applied to an interface, the router performs the additional task of evaluating all network
packets as they pass through the interface to determine if the packet can be forwarded.
An ACL uses a sequential list of permit or deny statements, known as ACEs.
Cisco routers support two types of ACLs: standard ACLs and extended ACLs.
An inbound ACL filters packets before they are routed to the outbound interface. If the packet is permitted
by the ACL, it is then processed for routing.
An outbound ACL filters packets after being routed, regardless of the inbound interface.
An IPv4 ACE uses a 32
bit wildcard mask to determine which bits of the address to examine for a match.
A wildcard mask is similar to a subnet mask in that it uses the ANDing process to identify which bits in an
IPv4 address to match. However, they differ in the way they match binary 1s and 0s.
Wildcard mask bit
matches the corresponding bit value in the address.
Wildcard mask bit 1
ignores the corresponding bit
value in the address.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.001 Tw 0 -1.197 TD
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
EMC
EMC
-0.029 Tw T*
EMC
0 Tc 0 Tw (-
EMC
EMC
-0.004 Tc 0.004 Tw T*
EMC
Module Practice and Quiz
A shortcut to calculating a wildcard mask is to subtract the subnet mask from 255.255.255.255.
Working with decimal representations of binary wildcard mask bits can be simplified by using the Cisco IOS
keywords
host
and
any
to identify the most common uses of wildcard masking.
There is a limit on the number of ACLs that can be applied on a router interface.
ACLs do not have to be configured in both directions. The number of ACLs and their direction applied to
the interface will depend on the security policy of the organization.
Standard ACLs permit or deny packets based only on the source IPv4 address.
Extended ACLs permit or deny packets based on the source IPv4 address and destination IPv4 address,
protocol type, source and destination TCP or UDP ports and more.
ACLs numbered 1
1999, are standard ACLs. ACLs numbered 100
2699, are
extended ACLs.
Named ACLs is the preferred method to use when configuring ACLs.
Specifically, standard and extended ACLs can be named to provide information about the purpose of the
ACL.
Every ACL should be placed where it has the greatest impact on efficiency.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
-0.012 Tw T*
-0.003 Tw T*
EMC
Module Practice and Quiz
Extended ACLs should be located as close as possible to the source of the traffic to be filtered. This way,
undesirable traffic is denied close to the source network without crossing the network infrastructure.
Standard ACLs should be located as close to the destination as possible. If a standard ACL was placed at
the source of the traffic, the "permit" or "deny" will occur based on the given source address no matter
where the traffic is destined.
Placement of the ACL may depend on the extent of organizational control, bandwidth of the networks, and
ease of configuration.
Module 5: ACLs for IPv4
Configuration
Enterprise Networking, Security,
Module Objectives
Module Title:
ACLs for IPv4 Configuration
Module Objective
: Implement IPv4 ACLs to filter traffic and secure administrative access.
Topic Title
Topic Objective
Configure Standard IPv4 ACLs
Configure standard IPv4 ACLs to filter traffic to meet
networking requirements.
Modify IPv4 ACLs
Use sequence numbers to edit existing standard IPv4
ACLs.
Secure VTY Ports with a Standard IPv4 ACL
Configure a standard ACL to secure VTY access.
Configure Extended IPv4 ACLs
Configure extended IPv4 ACLs to filter traffic
according to networking requirements.
5.1 Configure Standard IPv4
ACLs
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Configure Standard IPv4 ACLs
Create an ACL
suggested that you:
Use a text editor and write out the specifics of the policy to be implemented.
Add the IOS configuration commands to accomplish those tasks.
Include remarks to document the ACL.
Copy and paste the commands onto the device.
Always thoroughly test an ACL to ensure that it correctly applies the desired policy.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
0 Tw (access
list
EMC
/GS0 gs
/Im0 Do
EMC
q 1 0 0 1 234.1697 247.3025 cm
q 1 0 0 1 41.4256 226.4017 cm
q 1 0 0 1 41.4256 206.001 cm
q 1 0 0 1 41.4256 185.6002 cm
q 1 0 0 1 41.4256 165.1994 cm
q 1 0 0 1 41.4256 144.7987 cm
q 1 0 0 1 41.4256 124.3979 cm
q 1 0 0 1 41.4256 103.9971 cm
q 1 0 0 1 41.9256 247.3026 cm
q 1 0 0 1 674.8922 247.3027 cm
q 1 0 0 1 41.4256 246.8027 cm
q 1 0 0 1 41.4256 83.5964 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT2 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
(deny
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT2 1 Tf
EMC
/TT0 1 Tf
EMC
/TT2 1 Tf
EMC
/TT0 1 Tf
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
EMC
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
0.008 Tw [(n)5 (o)5 ( acce)10 (ss)]TJ
/TT2 1 Tf
Configure Standard IPv4 ACLs
Numbered Standard IPv4 ACL Syntax
To create a numbered standard ACL, use the
command.
Parameter
Description
access
list
number
Number range is 1 to 99 or 1300 to 1999
Denies access if the condition is matched
permit
Permits access if the condition is matched
remark
text
source
Identifies the source network or host address to filter
source
wildcard
bit wildcard mask that is applied to the source
log
Note: Use the
no access
list
access
list
number
global configuration command to remove a numbered standard ACL.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
0 Tw 0 -1.203 TD
Configure Standard IPv4 ACLs
Named Standard IPv4 ACL Syntax
To create a named standard ACL, use the
ip access
list standard
command.
ACL names are alphanumeric, case sensitive, and must be unique.
Capitalizing ACL names is not required but makes them stand out when viewing the
running
config output.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
Configure Standard IPv4 ACLs
Apply a Standard IPv4 ACL
After a standard IPv4 ACL is configured, it must be linked to an interface or feature.
The
ip access
group
command is used to bind a numbered or named standard IPv4
ACL to an interface.
To remove an ACL from an interface, first enter the
no ip access
group
interface
configuration command.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0.015 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
(the
0.008 Tw T*
0 Tw 0 -1.203 TD
Configure Standard IPv4 ACLs
Numbered Standard ACL Example
The example ACL
permits traffic
from host
and all hosts on
network out
interface serial
0/1/0 on router
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
Configure Standard IPv4 ACLs
Use the
show running
config
command to review the ACL in the configuration.
Use the
show ip interface
command to verify the ACL is applied to the interface.
Configure Standard IPv4 ACLs
Named Standard ACL Example
The example ACL permits traffic
from host 192.168.10.10 and all
hosts on the 192.168.20.0/24
network out interface serial 0/1/0 on
router R1.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
list
0 Tw 0 -1.203 TD
EMC
Configure Standard IPv4 ACLs
Use the
show access
command to review the ACL
in the configuration.
Use the
show ip interface
command to verify the ACL is
applied to the interface.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
Configure Standard IPv4 ACLs
Packet Tracer
Configure Numbered Standard IPv4 ACLs
In this Packet Tracer, you will complete the following objectives:
Plan an ACL Implementation.
Configure, Apply, and Verify a Standard ACL.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
Configure Standard IPv4 ACLs
Packet Tracer
Configure Named Standard IPv4 ACLs
In this Packet Tracer, you will complete the following objectives:
Configure and Apply a Named Standard ACL.
Verify the ACL Implementation.
5.2 Modify IPv4 ACLs
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
0.008 Tw 0 -1.391 TD
EMC
EMC
Modify IPv4 ACLs
Two Methods to Modify an ACL
After an ACL is configured, it may need to be modified. ACLs with multiple ACEs can be
complex to configure. Sometimes the configured ACE does not yield the expected
behaviors.
There are two methods to use when modifying an ACL:
Use a text editor.
Use sequence numbers.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
EMC
EMC
EMC
EMC
Modify IPv4 ACLs
Text Editor Method
ACLs with multiple ACEs should be created in a text editor. This allows you to plan the
required ACEs, create the ACL, and then paste it into the router interface. It also
simplifies the tasks to edit and fix an ACL.
To correct an error in an ACL:
Copy the ACL from the running configuration and paste it into the text editor.
Make the necessary edits or changes.
Remove the previously configured ACL on the router.
Copy and paste the edited ACL back to the router.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
Modify IPv4 ACLs
Sequence Number Method
An ACL ACE can be deleted or added using
the ACL sequence numbers.
Use the
ip access
list standard
command to edit an ACL.
Statements cannot be overwritten using
an existing sequence number. The
current statement must be deleted first
with the
command. Then the
correct ACE can be added using
sequence number.
Modify IPv4 ACLs
Modify a Named ACL Example
Named ACLs can also use sequence numbers to delete and add ACEs. In the example
an ACE is added to deny hosts 192.168.10.11.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
-0.02 Tw 0 -1.197 TD
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
Modify IPv4 ACLs
ACL Statistics
The
show access
lists
command in the example shows statistics for each statement that
has been matched.
The deny ACE has been matched 20 times and the permit ACE has been matched 64 times.
Note that the implied deny any statement does not display any statistics. To track how many implicit
denied packets have been matched, you must manually configure the
deny any
command.
Use the
clear access
list counters
command to clear the ACL statistics.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
Modify IPv4 ACLs
Packet Tracer
Configure and Modify Standard IPv4 ACLs
In this Packet Tracer, you will complete the following objectives:
Configure Devices and Verify Connectivity.
Configure and Verify Standard Numbered and Named ACLs.
Modify a Standard ACL.
5.3 Secure VTY Ports with a
Standard IPv4 ACL
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
EMC
EMC
Secure VTY Ports with a Standard IPv4 ACL
The access
class Command
A standard ACL can secure remote administrative access to a device using the vty lines
by implementing the following two steps:
Create an ACL to identify which administrative hosts should be allowed remote access.
Apply the ACL to incoming traffic on the vty lines.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
(class
EMC
Secure VTY Ports with a Standard IPv4 ACL
Secure VTY Access Example
This example demonstrates how to configure an ACL to filter vty traffic.
First, a local database entry for a user
ADMIN
and password
is configured.
The vty lines on R1 are configured to use the local database for authentication, permit
SSH traffic, and use the ADMIN
HOST ACL to restrict traffic.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
-0.007 Tw 0 -2.782 TD
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
Secure VTY Ports with a Standard IPv4 ACL
Verify the VTY Port is Secured
After an ACL to restrict access to the vty lines is configured, it is important to verify it
works as expected.
To verify the ACL statistics, issue the
show access
lists
command.
The match in the permit line of the output is a result of a successful SSH connection by
host with IP address 192.168.10.10.
The match in the deny statement is due to the failed attempt to create a SSH
connection from a device on another network.
5.4 Configure Extended IPv4
ACLs
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.012 Tw 0 -1.2 TD
0.003 Tw T*
EMC
0.005 Tw 0 -2.847 TD
EMC
/TT0 1 Tf
/TT1 1 Tf
(access
list
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
/TT0 1 Tf
/TT1 1 Tf
/TT2 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
Configure Extended IPv4 ACLs
Extended ACLs
Extended ACLs provide a greater degree of control. They can filter on source
number.
Extended ACLs can be created as:
Numbered Extended ACL
Created using the
access
list
number
global
configuration command.
Named Extended ACL
Created using the
ip access
list extended
access
list
name
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
/TT1 1 Tf
Configure Extended IPv4 ACLs
Protocols and Ports
Extended ACLs
can filter on
internet
protocols and
ports. Use the
to get help
when entering
a complex
ACE.  The four
highlighted
protocols are
the most
popular
options.
Protocol Options
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
-0.015 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
-0.015 Tw T*
-0.007 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
(output.
Configure Extended IPv4 ACLs
Selecting a
protocol
influences port
options. Many
TCP port
options are
available, as
shown in the
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw 0 -2.782 TD
(the
/TT0 1 Tf
/TT1 1 Tf
Configure Extended IPv4 ACLs
Protocols and Port Numbers Configuration Examples
Extended ACLs can filter on different port number and port name options.
This example configures an extended ACL 100 to filter HTTP traffic. The first ACE uses
www
port name. The second ACE uses the port number
. Both ACEs achieve
exactly the same result.
Configuring the port number is required when there is not a specific protocol name listed
example.
Configure Extended IPv4 ACLs
Apply a Numbered Extended IPv4 ACL
In this example, the ACL permits both HTTP and HTTPS traffic from the 192.168.10.0
network to go to any destination.
Extended ACLs can be applied in various locations. However, they are commonly applied
close to the source. Here ACL 110 is applied inbound on the R1 G0/0/0 interface.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
Configure Extended IPv4 ACLs
TCP Established Extended ACL
TCP can also perform basic stateful firewall services using the TCP
established
keyword.
The
established
keyword enables inside traffic to exit the inside private network and
permits the returning reply traffic to enter the inside private network.
TCP traffic generated by an outside host and attempting to communicate with an
inside host is denied.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
Configure Extended IPv4 ACLs
ACL 120 is configured to only permit returning web traffic to the inside hosts. The ACL
is then applied outbound on the R1 G0/0/0 interface.
The
show access
lists
command shows that inside hosts are accessing the secure
web resources from the internet.
Note
indicating that the packet belongs to an existing connection.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
FTP
Configure Extended IPv4 ACLs
Named Extended IPv4 ACL Syntax
Naming an ACL makes it easier to understand its function. To create a named extended
ACL, use the
ip access
list extended
configuration command.
In the example, a named extended ACL called NO
ACCESS is created and the
prompt changed to named extended ACL configuration mode. ACE statements are
entered in the named extended ACL sub configuration mode.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Configure Extended IPv4 ACLs
Named Extended IPv4 ACL Example
The topology below is used to demonstrate configuring and applying two named extended
IPv4 ACLs to an interface:
SURFING
This will permit inside HTTP and HTTPS traffic to exit to the internet.
BROWSING
This will only permit returning web traffic to the inside hosts while all other traffic
exiting the R1 G0/0/0 interface is implicitly denied.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.001 Tc -0.02 Tw T*
-0.029 Tw 0 -1.197 TD
-0.012 Tw 0 -1.197 TD
-0.02 Tw T*
0 Tc -0.021 Tw T*
EMC
Configure Extended IPv4 ACLs
The SURFING ACL permits
HTTP and HTTPS traffic
from inside users to exit the
G0/0/1 interface connected
to the internet. Web traffic
returning from the internet is
permitted back into the
inside private network by the
BROWSING ACL.
The SURFING ACL is
applied inbound and the
BROWSING ACL is applied
outbound on the R1 G0/0/0
interface.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
Configure Extended IPv4 ACLs
The show access
lists
command is used to verify the ACL statistics. Notice that the
established counters in the BROWSING ACL have increased.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
0 Tw 0 -2.782 TD
EMC
Configure Extended IPv4 ACLs
Edit Extended ACLs
An extended ACL can be edited using a text editor when many changes are required. Or,
if the edit applies to one or two ACEs, then sequence numbers can be used.
Example:
The ACE sequence number 10 in the SURFING ACL has an incorrect source IP
networks address.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
-0.002 Tc 0.002 Tw (no
/TT0 1 Tf
EMC
/TT1 1 Tf
Configure Extended IPv4 ACLs
To correct this error the original statement is removed with the
sequence_#
command and the corrected statement is added replacing the original statement.
The
show access
lists
command output verifies the configuration change.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Configure Extended IPv4 ACLs
Another Extended IPv4 ACL Example
Two named extended ACLs will be created:
PERMIT
This will only permit PC1 TCP access to the internet and deny all other hosts in the
private network.
REPLY
This will only permit specified returning TCP traffic to PC1 implicitly deny all other
traffic.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
0.008 Tw 0 -1.203 TD
0 Tw T*
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
0.002 Tc -0.002 Tw 0 -1.203 TD
0 Tc 0 Tw (-
Configure Extended IPv4 ACLs
The
PERMIT
ACL
TCP access to the FTP, SSH,
Telnet, DNS , HTTP, and
HTTPS traffic.
The
REPLY
ACL will
permit return traffic to PC1.
The
PERMIT
ACL is
applied inbound and the
REPLY
ACL applied
outbound on the R1 G0/0/0
interface.
Configure Extended IPv4 ACLs
Verify Extended ACLs
The
show ip interface
command is used
to verify the ACL on the interface and the
direction in which it was applied.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
Configure Extended IPv4 ACLs
The
show access
lists
command can be used to confirm that the ACLs work as
expected. The command displays statistic counters that increase whenever an ACE is
matched.
Note
: Traffic must be generated to verify the operation of the ACL.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
Configure Extended IPv4 ACLs
The
show running
config
command can be used to validate what was configured. The
command also displays configured remarks.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
Configure Extended IPv4 ACLs
Packet Tracer
Configure Extended IPv4 ACLs
Scenario
In this Packet Tracer, you will complete the following objectives:
Configure, Apply, and Verify an Extended Numbered IPv4 ACL.
Configure, Apply, and Verify an Extended Named IPv4 ACL.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
Configure Extended IPv4 ACLs
Packet Tracer
Configure Extended IPv4 ACLs
Scenario
In this Packet Tracer, you will complete the following objectives:
Configure a Named Extended IPv4 ACL.
Apply and Verify the Extended IPv4 ACL.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
0 Tw 0 -1.081 TD
(Quiz
5.5 Module Practice and
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Module Practice and Quiz
Packet Tracer
IPv4 ACL Implementation Challenge
In this Packet Tracer, you will complete the following objectives:
Configure a router with standard named ACLs
Configure a router with extended named ACLs
Configure a router with extended ACLs to meet specific communication requirements
Configure an ACL to control access to network device terminal lines
Configure the appropriate router interfaces with ACLs in the appropriate direction
Verify the operation of the configured ACLs
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(Lab
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Module Practice and Quiz
Packet Tracer
Configure and Verify Extended IPv4 ACLs
Physical Mode
Configure and Verify Extended IPv4 ACLs
In this Packet Tracer Physical Mode activity, you will complete the following objectives:
Build the Network and Configure Basic Device Settings
Configure VLANs on the Switches
Configure Trunking
Configure Routing
Configure Remote Access
Verify Connectivity
Configure and Verify Extended Access Control Lists
In this Lab, you will complete the following objectives:
Build the Network and Configure Basic Device Settings
Configure and Verify Extended IPv4 ACLs
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
/TT1 1 Tf
list
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT2 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
/TT1 1 Tf
list
/TT2 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
/TT1 1 Tf
0.015 Tw [(ip)1.9 ( access)]TJ
/TT0 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
-0.003 Tc 0.011 Tw (} {
out
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
list
Module Practice and Quiz
What did I learn in this module?
To create a numbered standard ACL, use the use the
ip access
list standard
access
list
name
global configuration command.
Use the
no access
access
list
number
global configuration command to remove a
numbered standard ACL.
Use the
show ip interface
command to verify if an interface has an ACL applied to it.
To create a named standard ACL, use the
ip access
list standard
access
list
name
global
configuration command.
Use the
no ip access
standard
access
list
name
global configuration command to
remove a named standard IPv4 ACL.
To bind a numbered or named standard IPv4 ACL to an interface, use the
ip access
group
access
list
number
access
list
name
} global configuration command.
To remove an ACL from an interface, first enter the
no ip access
group
interface
configuration command.
To remove the ACL from the router, use the
no access
global configuration command.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
(access
list
0 Tc 0 Tw (-
/TT0 1 Tf
/TT0 1 Tf
/TT0 1 Tf
/TT2 1 Tf
/TT0 1 Tf
-0.003 Tc 0.003 Tw (}
/TT0 1 Tf
oper)2.2 (ator)]TJ
/TT0 1 Tf
/TT0 1 Tf
/TT0 1 Tf
oper)2.2 (ator)]TJ
/TT0 1 Tf
/TT0 1 Tf
/TT0 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
EMC
Module Practice and Quiz
What did I learn in this module?
Extended ACLs can filter on source address, destination address, protocol (i.e., IP, TCP,
access
list
number
deny
permit
remark
text
protocol
source source
wildcard
operator
port
destination
destination
wildcard
operator
port
established
log
] global configuration
command.
ALCs can also perform basic stateful firewall services using the TCP
established
keyword.
The
show ip interface
command is used to verify the ACL on the interface and the direction
in which it was applied.
To modify an ACL, use a text editor or use sequence numbers.
An ACL ACE can also be deleted or added using the ACL sequence numbers.
Sequence numbers are automatically assigned when an ACE is entered.
Module 3: Network Security
Concepts
Enterprise Networking, Security, and Automation v7.0
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
Module Objectives
Module Title:
Network Security Concepts
Module Objective
Explain how vulnerabilities, threats, and exploits can be mitigated to enhance
network security.
Topic Title
Topic Objective
Current State of Cybersecurity:
Describe the current state of cybersecurity and vectors of data loss.
Threat Actors
Describe tools used by threat actors to exploit networks.
Malware
Describe malware types.
Common Network Attacks
Describe common network attacks.
IP Vulnerabilities and Threats
Explain how IP vulnerabilities are exploited by threat actors.
TCP and UDP Vulnerabilities
Explain how TCP and UDP vulnerabilities are exploited by threat actors.
IP Services
Explain how IP services are exploited by threat actors.
Network Security Best Practices
Describe best practices for protecting a network.
Cryptography
Describe common cryptographic processes used to protect data in transit.
3.1 Current State of
Cybersecurity
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
-0.02 Tw T*
EMC
q 1 0 0 1 166.5397 257.739 cm
q 1 0 0 1 49.5869 235.339 cm
q 1 0 0 1 49.5869 199.039 cm
q 1 0 0 1 49.5869 177.1389 cm
q 1 0 0 1 49.5869 155.239 cm
q 1 0 0 1 49.5869 133.339 cm
q 1 0 0 1 49.5869 97.039 cm
q 1 0 0 1 50.0869 257.739 cm
q 1 0 0 1 657.1263 257.739 cm
q 1 0 0 1 49.5869 257.239 cm
q 1 0 0 1 49.5869 46.3389 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
-0.022 Tw 0 -1.2 TD
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
Current State of Cybersecurity
Current State of Affairs
Cyber criminals now have the expertise and tools necessary to take down critical infrastructure and
systems. Their tools and techniques continue to evolve.
Maintaining a secure network ensures the safety of network users and protects commercial
interests. All users should be aware of security terms in the table.
Security Terms
Description
Assets
An asset is anything of value to the organization. It includes people, equipment, resources,
and data.
Vulnerability
A vulnerability is a weakness in a system, or its design, that could be exploited by a threat.
Threat
Exploit
An exploit is a mechanism that takes advantage of a vulnerability.
Mitigation
Mitigation is the counter
measure that reduces the likelihood or severity of a potential
threat or risk. Network security involves multiple mitigation techniques.
Risk
Risk is the likelihood of a threat to exploit the vulnerability of an asset, with the aim of
negatively affecting an organization. Risk is measured using the probability of the
occurrence of an event and its consequences.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.012 Tw 0 -1.197 TD
EMC
Current State of Cybersecurity
Vectors of Network Attacks
An attack vector is a path by which a threat actor can gain access to a server, host, or network.
Attack vectors originate from inside or outside the corporate network, as shown in the figure.
Internal threats have the potential to cause greater damage than external threats because internal
users have direct access to the building and its infrastructure devices.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Current State of Cybersecurity
Data Loss
Data loss or data exfiltration is when data is intentionally or unintentionally lost, stolen, or
leaked to the outside world. The data loss can result in:
Brand damage and loss of reputation
Loss of competitive advantage
Loss of customers
Loss of revenue
Litigation/legal action resulting in fines and civil penalties
Significant cost and effort to notify affected parties and recover from the breach
tactical measures.
Current State of Cybersecurity
Data Loss Vectors
Description
Email/Social
Networking
Intercepted email or IM messages could be captured and reveal confidential information.
Unencrypted Devices
If the data is not stored using an encryption algorithm, then the thief can retrieve valuable
confidential data.
Cloud Storage
Devices
Sensitive data can be lost if access to the cloud is compromised due to weak security
settings.
Removable Media
One risk is that an employee could perform an unauthorized transfer of data to a USB drive.
Another risk is that a USB drive containing valuable corporate data could be lost.
Hard Copy
Confidential data should be shredded when no longer required.
Improper Access
Control
Passwords or weak passwords which have been compromised can provide a threat actor
with easy access to corporate data.
3.2 Threat Actors
Threat Actors
The Hacker
Hacker is a common term used to describe a threat actor
Hacker Type
Description
White Hat Hackers
These are ethical hackers who use their programming skills for good, ethical, and
legal purposes. Security vulnerabilities are reported to developers for them to fix
before the vulnerabilities can be exploited.
Gray Hat Hackers
These are individuals who commit crimes and do arguably unethical things, but not
for personal gain or to cause damage. Gray hat hackers may disclose a vulnerability
to the affected organization after having compromised their network.
Black Hat Hackers
These are unethical criminals who compromise computer and network security for
personal gain, or for malicious reasons, such as attacking networks.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
q 1 0 0 1 148.3828 304.1479 cm
q 1 0 0 1 36.875 274.4471 cm
q 1 0 0 1 36.875 238.1471 cm
q 1 0 0 1 36.875 201.8471 cm
q 1 0 0 1 36.875 165.5471 cm
q 1 0 0 1 36.875 129.2471 cm
q 1 0 0 1 37.375 304.1479 cm
q 1 0 0 1 657.1249 304.1479 cm
q 1 0 0 1 36.875 303.6479 cm
q 1 0 0 1 36.875 64.1471 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
0.004 Tc -0.004 Tw T*
EMC
/TT0 1 Tf
-0.012 Tw T*
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
-0.032 Tw T*
-0.012 Tw T*
0 Tc 0 Tw (-
Threat Actors
The Evolution of Hackers
The table displays modern hacking terms and a brief description of each.
Hacking Term
Description
Script Kiddies
These are teenagers or inexperienced hackers running existing scripts, tools, and exploits, to
cause harm, but typically not for profit.
Vulnerability
Broker
These are usually gray hat hackers who attempt to discover exploits and report them to
vendors, sometimes for prizes or rewards.
Hacktivists
These are gray hat hackers who publicly protest organizations or governments by posting
articles, videos, leaking sensitive information, and performing network attacks.
Cyber criminals
These are black hat hackers who are either self
employed or working for large cybercrime
organizations.
State
Sponsored
These are either white hat or black hat hackers who steal government secrets, gather
intelligence, and sabotage networks. Their targets are foreign governments, terrorist groups,
and corporations. Most countries in the world participate to some degree in state
sponsored
hacking
3.3 Threat Actor Tools
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
Threat Actor Tools
Video
Threat Actor Tools
This video will cover the following:
Explain the penetration testing tools
Explain attack types
Threat Actor Tools
Introduction to Attack Tools
To exploit a vulnerability, a threat actor must have a technique or tool.
Over the years, attack tools have become more sophisticated, and
highly automated. These new tools require less technical knowledge to
implement.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.012 Tw 0 -1.197 TD
0.001 Tw T*
EMC
q 1 0 0 1 154.871 290.25 cm
q 1 0 0 1 49.625 255.85 cm
q 1 0 0 1 49.625 195.55 cm
q 1 0 0 1 49.625 148.45 cm
q 1 0 0 1 49.625 104.387 cm
q 1 0 0 1 49.625 70.487 cm
q 1 0 0 1 50.125 290.25 cm
q 1 0 0 1 669.8749 290.25 cm
q 1 0 0 1 49.625 289.75 cm
q 1 0 0 1 49.625 26.424 cm
EMC
/TT1 1 Tf
-0.004 Tw 0 -1.196 TD
EMC
EMC
/TT0 1 Tf
EMC
-0.015 Tw T*
0.007 Tw 0 -1.196 TD
-0.026 Tw 0 -1.196 TD
EMC
-0.002 Tc 0.002 Tw T*
EMC
-0.026 Tw T*
EMC
EMC
-0.015 Tw T*
EMC
0.002 Tw T*
EMC
0.007 Tw 0 -1.196 TD
EMC
EMC
0.007 Tw 0 -1.196 TD
Threat Actor Tools
Evolution of Security Tools
The table highlights categories of common penetration testing tools. Notice how some tools are used
by white hats and black hats. Keep in mind that the list is not exhaustive as new tools are always being
developed.
Penetration
Testing Tool
Description
Password Crackers
Password cracking tools are often referred to as password recovery tools and can be used to crack or
recover a password. Password crackers repeatedly make guesses in order to crack the password.
Examples of password cracking tools include John the Ripper, Ophcrack, L0phtCrack, THC Hydra,
Rainbow Crack, and Medusa.
Wireless Hacking
Tools
Wireless hacking tools are used to intentionally hack into a wireless network to detect security
vulnerabilities. Examples of wireless hacking tools include Aircrack
ng, Kismet, InSSIDer, KisMAC,
Firesheep, and ViStumbler.
Network Scanning
and Hacking Tools
Network scanning tools are used to probe network devices, servers, and hosts for open TCP or UDP
ports. Examples of scanning tools include Nmap, SuperScan, Angry IP Scanner, and NetScanTools.
Packet Crafting
Tools
Examples include
Hping
Scapy
Socat
, Yersinia,
Netcat
Nping
, and Nemesis.
Packet Sniffers
These tools are used to capture and analyze packets within traditional Ethernet LANs or WLANs. Tools
include Wireshark,
Tcpdump
, Ettercap,
Dsniff
EtherApe
, Paros, Fiddler,
Ratproxy
, and
SSLstrip
Threat Actor Tools
Penetration Testing
Tool
Description
Rootkit Detectors
This is a directory and file integrity checker used by white hats to detect installed root kits. Example tools include
AIDE, Netfilter, and PF: OpenBSD Packet Filter.
Fuzzers to Search
Vulnerabilities
include Skipfish, Wapiti, and W3af.
Forensic Tools
These tools are used by white hat hackers to sniff out any trace of evidence existing in a computer. Example of
tools include Sleuth Kit, Helix, Maltego, and Encase.
Debuggers
These tools are used by black hats to reverse engineer binary files when writing exploits. They are also used by
white hats when analyzing malware. Debugging tools include GDB, WinDbg, IDA Pro, and Immunity Debugger.
Hacking Operating
Systems
These are specially designed operating systems preloaded with tools optimized for hacking. Examples of specially
designed hacking operating systems include Kali Linux, BackBox Linux.
Encryption Tools
Encryption tools use algorithm schemes to encode the data to prevent unauthorized access to the encrypted data.
Examples of these tools include VeraCrypt, CipherShed, OpenSSH, OpenSSL, Tor, OpenVPN, and Stunnel.
Vulnerability
Exploitation Tools
These tools identify whether a remote host is vulnerable to a security attack. Examples of vulnerability exploitation
tools include Metasploit, Core Impact, Sqlmap, Social Engineer Toolkit, and Netsparker.
Vulnerability
Scanners
These tools scan a network or system to identify open ports. They can also be used to scan for known
vulnerabilities and scan VMs, BYOD devices, and client databases. Examples of tools include Nipper, Core Impact,
Nessus, SAINT, and OpenVAS
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
q 1 0 0 1 167.1645 342.9653 cm
q 1 0 0 1 30.1783 319.5164 cm
q 1 0 0 1 30.1783 288.0164 cm
q 1 0 0 1 30.1783 256.5164 cm
q 1 0 0 1 30.1783 225.0164 cm
q 1 0 0 1 30.1783 181.5164 cm
q 1 0 0 1 30.1783 138.0164 cm
q 1 0 0 1 30.1783 106.5164 cm
q 1 0 0 1 30.1783 75.0164 cm
q 1 0 0 1 30.6783 342.9653 cm
q 1 0 0 1 666.1566 342.9653 cm
q 1 0 0 1 30.1783 342.4653 cm
q 1 0 0 1 30.1783 43.5164 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
0.002 Tw 0 -1.205 TD
EMC
EMC
EMC
EMC
0.002 Tw 0 -1.205 TD
EMC
0 Tc 0 Tw (-
EMC
0.001 Tw 0 -1.205 TD
EMC
EMC
-0.011 Tw 0 -1.205 TD
EMC
(Man
0 Tc 0 Tw (-
EMC
-0.011 Tw T*
EMC
0 Tc 0 Tw (-
Threat Actor Tools
Attack Types
Attack Type
Description
Eavesdropping Attack
snooping.
Data Modification Attack
If threat actors have captured enterprise traffic, they can alter the data in the packet without the knowledge of
the sender or receiver.
IP Address Spoofing Attack
A threat actor constructs an IP packet that appears to originate from a valid address inside the corporate
intranet.
Password
Based Attacks
If threat actors discover a valid user account, the threat actors have the same rights as the real user. Threat
actors could use that valid account to obtain lists of other users, network information, change server and
network configurations, and modify, reroute, or delete data.
Denial of Service Attack
A DoS attack prevents normal use of a computer or network by valid users. A DoS attack can flood a computer
or the entire network with traffic until a shutdown occurs because of the overload. A DoS attack can also block
traffic, which results in a loss of access to network resources by authorized users.
the
Middle Attack
This attack occurs when threat actors have positioned themselves between a source and destination. They can
now actively monitor, capture, and control the communication transparently.
Compromised
Key Attack
If a threat actor obtains a secret key, that key is referred to as a compromised key. A compromised key can be
used to gain access to a secured communication without the sender or receiver being aware of the attack.
Sniffer Attack
A sniffer is an application or device that can read, monitor, and capture network data exchanges and read
network packets. If the packets are not encrypted, a sniffer provides a full view of the data inside the packet
3.4 Malware
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
Malware
Overview of Malware
Now that you know about the tools that hacker use, this topic introduces you to
different types of malware that hackers use to gain access to end devices.
End devices are particularly prone to malware attacks. It is important to know about
malware because threat actors rely on users to install malware to help exploit the
security gaps.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw T*
EMC
EMC
EMC
EMC
EMC
EMC
Malware
Viruses and Trojan Horses
The first and most common type of computer malware is a virus. Viruses require
human action to propagate and infect other computers.
The virus hides by attaching itself to computer code, software, or documents on the
computer. When opened, the virus executes and infects the computer.
Viruses can:
Alter, corrupt, delete files, or erase entire drives.
Cause computer booting issues, and corrupt applications.
Capture and send sensitive information to threat actors.
Access and use email accounts to spread.
Lay dormant until summoned by the threat actor.
Malware
Modern viruses are developed for specific intent such as those listed in the table.
Types of Viruses
Description
Boot sector virus
Virus attacks the boot sector, file partition table, or file system.
Firmware viruses
Virus attacks the device firmware.
Macro virus
Virus uses the MS Office macro feature maliciously.
Program viruses
Virus inserts itself in another executable program.
Script viruses
Virus attacks the OS interpreter which is used to execute scripts.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.012 Tw 0 -1.197 TD
EMC
q 1 0 0 1 175.3041 273.4696 cm
q 1 0 0 1 36.875 249.6566 cm
q 1 0 0 1 36.875 226.3436 cm
q 1 0 0 1 36.875 203.0306 cm
q 1 0 0 1 36.875 179.7176 cm
q 1 0 0 1 36.875 145.8176 cm
q 1 0 0 1 36.875 122.5046 cm
q 1 0 0 1 36.875 99.1917 cm
q 1 0 0 1 36.875 75.8787 cm
q 1 0 0 1 37.375 273.4696 cm
q 1 0 0 1 673.6702 273.4696 cm
q 1 0 0 1 36.875 272.9696 cm
q 1 0 0 1 36.875 41.9787 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
EMC
Malware
Threat actors use Trojan horses to compromise hosts. A Trojan horse is a program that looks useful
but also carries malicious code. Trojan horses are often provided with free online programs such as
computer games. There are several types of Trojan horses as described in the table.
Type of Trojan Horse
Description
Remote
access
Trojan horse enables unauthorized remote access.
Data
sending
Trojan horse provides the threat actor with sensitive data, such as passwords.
Destructive
Trojan horse corrupts or deletes files.
Proxy
Trojan horse will use the victim's computer as the source device to launch attacks and perform other
illegal activities.
FTP
Trojan horse enables unauthorized file transfer services on end devices.
Security software disabler
Trojan horse stops antivirus programs or firewalls from functioning.
Trojan horse slows or halts network activity.
Keylogger
Trojan horse actively attempts to steal confidential information, such as credit card numbers, by
recording key strokes entered into a web form.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
q 1 0 0 1 107.061 347.875 cm
q 1 0 0 1 33.5 326.3337 cm
q 1 0 0 1 33.5 269.0463 cm
q 1 0 0 1 33.5 213.5463 cm
q 1 0 0 1 33.5 134.0463 cm
q 1 0 0 1 33.5 87.1368 cm
q 1 0 0 1 34 347.875 cm
q 1 0 0 1 686 347.875 cm
q 1 0 0 1 33.5 347.375 cm
q 1 0 0 1 33.5 31.6368 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
EMC
0 Tc 0 Tw (-
EMC
0 Tc 0 Tw 0 -1.205 TD
0 Tc 0 Tw (-
EMC
EMC
EMC
0 Tc 0 Tw T*
0 Tc 0 Tw (-
EMC
EMC
EMC
EMC
EMC
0 Tc 0 Tw T*
EMC
0 Tc 0 Tw T*
0 Tc 0 Tw (-
EMC
EMC
EMC
0 Tc 0 Tw (.
EMC
EMC
0 Tc 0 Tw 0 -1.205 TD
EMC
Malware
Other Types of Malware
Malware
Description
Adware
Adware is usually distributed by downloading online software.
Adware can display unsolicited advertising using pop
up web browser windows, new toolbars, or unexpectedly redirect a
webpage to a different website.
Pop
up windows may be difficult to control as new windows can pop
up faster than the user can close them.
Ransomware
Ransomware typically denies a user access to their files by encrypting the files and then displaying a message demanding a
ransom for the decryption key.
Users without up
date backups must pay the ransom to decrypt their files.
Payment is usually made using wire transfer or crypto currencies such as Bitcoin.
Rootkit
Rootkits are used by threat actors to gain administrator account
level access to a computer.
They are very difficult to detect because they can alter firewall, antivirus protection, system files, and even OS commands t
conceal their presence.
They can provide a backdoor to threat actors giving them access to the PC, and allowing them to upload files, and install new
software to be used in a DDoS attack.
Special rootkit removal tools must be used to remove them, or a complete OS re
install may be required.
Spyware
Spyware can be a low threat, gathering browsing data, or it can be a high threat capturing personal and financial information
Worm
A worm is a self
replicating program that propagates automatically without user actions by exploiting vulnerabilities in legitim
ate
software.
It uses the network to search for other victims with the same vulnerability.
The intent of a worm is usually to slow or disrupt network operations
3.5 Common Network
Attacks
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
0 Tw 0 -1.203 TD
EMC
EMC
EMC
EMC
Common Network Attacks
Overview of Common Network Attacks
When malware is delivered and installed, the payload can be used to cause a variety
of network related attacks.
To mitigate attacks, it is useful to understand the types of attacks. By categorizing
network attacks, it is possible to address types of attacks rather than individual
attacks.
Networks are susceptible to the following types of attacks:
Reconnaissance Attacks
Access Attacks
DoS Attacks
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Common Network Attacks
Video
Common Network Attacks
This video will explain the following techniques used in a reconnaissance attack:
Perform an information query on a target
Initiate a ping sweep of the target network
Initiate a port scan of active ip addresses
Run vulnerability scanners
Run exploitation tools
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
Common Network Attacks
Reconnaissance Attacks
Reconnaissance is information gathering.
mapping of systems, services, or vulnerabilities. Recon attacks precede access
attacks or DoS attacks.
Common Network Attacks
Some of the techniques used by malicious threat actors to conduct reconnaissance attacks are
described in the table.
Technique
Description
Perform an
information query of a
target
The threat actor is looking for initial information about a target. Various tools can be
used, including the Google search, organizations website, whois, and more.
Initiate a ping sweep
of the target network
now initiate a ping sweep to determine which IP addresses are active.
Initiate a port scan of
active IP addresses
This is used to determine which ports or services are available. Examples of port
scanners include Nmap, SuperScan, Angry IP Scanner, and NetScanTools.
Run vulnerability
scanners
This is to query the identified ports to determine the type and version of the application
and operating system that is running on the host. Examples of tools include Nipper,
Core Impact, Nessus, SAINT, and Open VAS.
Run exploitation tools
The threat actor now attempts to discover vulnerable services that can be exploited. A
variety of vulnerability exploitation tools exist including Metasploit, Core Impact, Sqlmap,
Social Engineer Toolkit, and Netsparker.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
the
EMC
Common Network Attacks
Video
Access and Social Engineering Attacks
This video will cover the following:
Techniques used in
access attacks
(password attacks, spoofing attacks, trust
exploitations, port redirections, man
Techniques used in
social engineering attacks
(pretesting, phishing, spear phishing,
spam, something for something, baiting, impersonation, tailgating, shoulder surfing,
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.012 Tw 0 -1.197 TD
-0.02 Tw T*
EMC
-0.029 Tw T*
EMC
/TT0 1 Tf
-0.029 Tw T*
EMC
/TT0 1 Tf
-0.012 Tw T*
EMC
EMC
EMC
EMC
EMC
Common Network Attacks
Access Attacks
Access attacks exploit known vulnerabilities in authentication services, FTP services, and web
services. The purpose of these types of attacks is to gain entry to web accounts, confidential
databases, and other sensitive information.
Threat actors use access attacks on network devices and computers to retrieve data, gain access,
or to escalate access privileges to administrator status.
Password Attacks:
In a password attack, the threat actor attempts to discover critical system
passwords using various methods. Password attacks are very common and can be launched using
a variety of password cracking tools.
Spoofing Attacks:
In spoofing attacks, the threat actor device attempts to pose as another device
by falsifying data. Common spoofing attacks include IP spoofing, MAC spoofing, and DHCP
spoofing. These spoofing attacks will be discussed in more detail later in this module
Other Access attacks include:
Trust exploitations
Port redirections
Man
the
middle attacks
Buffer overflow attacks
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
EMC
Common Network Attacks
Social Engineering Attacks
Social engineering is an access attack that attempts to manipulate individuals into
performing actions or divulging confidential information. Some social engineering
techniques are performed in
person while others may use the telephone or internet.
Common Network Attacks
Social Engineering Attack
Description
Pretexting
A threat actor pretends to need personal or financial data to confirm the identity of the recipient.
Phishing
A threat actor sends fraudulent email which is disguised as being from a legitimate, trusted source to trick the
recipient into installing malware on their device, or to share personal or financial information.
Spear phishing
A threat actor creates a targeted phishing attack tailored for a specific individual or organization.
Spam
Also known as junk mail, this is unsolicited email which often contains harmful links, malware, or deceptive
content.
Something for Something
exchange for something such as a gift.
Baiting
A threat actor leaves a malware infected flash drive in a public location. A victim finds the drive and
unsuspectingly inserts it into their laptop, unintentionally installing malware.
Impersonation
This type of attack is where a threat actor pretends to be someone they are not to gain the trust of a victim.
Tailgating
This is where a threat actor quickly follows an authorized person into a secure location to gain access to a secure
area.
Shoulder surfing
information.
Dumpster diving
This is where a threat actor rummages through trash bins to discover confidential documents
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.029 Tw 0 -1.197 TD
-0.02 Tw T*
0.001 Tw 0 -1.197 TD
EMC
-0.012 Tw T*
-0.003 Tw T*
EMC
Common Network Attacks
designed to help white hat hackers and
other network security professionals create
social engineering attacks to test their own
networks.
Enterprises must educate their users about
the risks of social engineering, and develop
strategies to validate identities over the
phone, via email, or in person.
The figure shows recommended practices
that should be followed by all users.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(Lab
Common Network Attacks
Social Engineering
In this lab, you will research examples of social engineering and identify
ways to recognize and prevent it.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
Common Network Attacks
Video
Denial of Service Attacks
This video will cover the following:
Techniques used in Denial
Service attacks (overwhelming
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
0.015 Tw T*
EMC
Common Network Attacks
DoS and DDoS Attacks
to users, devices, or applications. There are two major types of DoS attacks:
Overwhelming Quantity of Traffic
The threat actor sends an enormous quantity of
data at a rate that the network, host, or application cannot handle. This causes
transmission and response times to slow down. It can also crash a device or service.
Maliciously Formatted Packets
The threat actor sends a maliciously formatted
packet to a host or application and the receiver is unable to handle it. This causes the
receiving device to run very slowly or crash.
DoS attacks are a major risk because they interrupt communication and cause
significant loss of time and money. These attacks are relatively simple to conduct,
even by an unskilled threat actor.
multiple, coordinated sources.
3.6 IP Vulnerabilities and
Threats
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
the
EMC
IP Vulnerabilities and Threats
Video
Common IP and ICMP Attacks
This video will cover the following:
Techniques used in IP attacks (ICMP attacks, amplification and reflection attacks,
address spoofing attacks, man
Techniques used in ICMP attacks (ICMP echo request and echo reply, ICMP
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.029 Tw 0 -1.197 TD
-0.012 Tw T*
EMC
EMC
q 1 0 0 1 197.3815 263.645 cm
q 1 0 0 1 49.1512 239.1174 cm
q 1 0 0 1 49.1512 197.3989 cm
q 1 0 0 1 49.1512 164.6989 cm
q 1 0 0 1 49.1512 131.9989 cm
q 1 0 0 1 49.1512 86.6989 cm
q 1 0 0 1 49.6512 263.645 cm
q 1 0 0 1 682.6256 263.645 cm
q 1 0 0 1 49.1512 263.145 cm
q 1 0 0 1 49.1512 56.8308 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
0.001 Tc -0.017 Tw 0 -1.193 TD
EMC
/TT0 1 Tf
-0.029 Tw T*
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
/TT1 1 Tf
IP Vulnerabilities and Threats
IPv4 and IPv6
IP does not validate whether the source IP address contained in a packet actually came from that
source. For this reason, threat actors can send packets using a spoofed source IP address.
Security analysts must understand the different fields in both the IPv4 and IPv6 headers.
Some of the more common IP related attacks are shown in the table
IP Attack Techniques
Description
ICMP attacks
and hosts on a protected network, to generate DoS flood attacks, and to alter host routing tables.
Amplification and
reflection attacks
Threat actors attempt to prevent legitimate users from accessing information or services using DoS
and DDoS attacks.
Address spoofing attacks
Threat actors spoof the source IP address in an IP packet to perform blind spoofing or non
blind
spoofing.
Man
the
middle attack
Threat actors position themselves between a source and destination to transparently monitor, capture,
and control the communication. They could eavesdrop by inspecting captured packets, or alter
packets and forward them to their original destination.
Session hijacking
Threat actors gain access to the physical network, and then use an MITM attack to hijack a session
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
0.008 Tw T*
/TT0 1 Tf
EMC
IP Vulnerabilities and Threats
ICMP Attacks
Threat actors use ICMP for reconnaissance and scanning attacks. They can launch
information
gathering attacks to map out a network topology, discover which hosts are
determine the state of a firewall. Threat actors also use
ICMP for DoS attacks
Note
types of attacks.
edge to avoid ICMP probing from the internet. In the case of large networks, security
and generate alerts to the security analysts.
IP Vulnerabilities and Threats
Common ICMP messages of interest to threat actors are listed in the table.
ICMP Messages used by Hackers
Description
ICMP echo request and echo reply
This is used to perform host verification and DoS attacks.
ICMP unreachable
This is used to perform network reconnaissance and scanning attacks.
ICMP mask reply
This is used to map an internal IP network.
ICMP redirects
This is used to lure a target host into sending all traffic through a
compromised device and create a MITM attack.
ICMP router discovery
This is used to inject bogus route entries into the routing table of a target
host.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
IP Vulnerabilities and Threats
Video
Amplification, Reflection, and Spoofing Attacks
This video will explain the amplification, reflection, and spoofing attack.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.029 Tw 0 -1.197 TD
-0.003 Tw 0 -1.197 TD
0 Tc -0.03 Tw 0 -1.197 TD
EMC
/TT0 1 Tf
bas)4 (ed )]TJ
-0.002 Tc -0.016 Tw 0 -1.14 TD
0.004 Tc -0.012 Tw T*
EMC
IP Vulnerabilities and Threats
Amplification and Reflection Attacks
Threat actors often use amplification
and reflection techniques to create
DoS attacks. The example in the figure
illustrates a
Smurf attack
is used to
overwhelm a target host.
Note
: Newer forms of amplification and
reflection attacks such as DNS
based
reflection and amplification attacks and
attacks are now being used.
Threat actors also use resource
exhaustion attacks to either to crash a
target host or to consume the
resources of a network.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.012 Tw 0 -1.197 TD
EMC
EMC
Non
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
/TT0 1 Tf
EMC
IP Vulnerabilities and Threats
Address Spoofing Attacks
IP address spoofing attacks occur when a threat actor creates packets with false source IP
address information to either hide the identity of the sender, or to pose as another legitimate user.
Spoofing is usually incorporated into another attack such as a Smurf attack.
Spoofing attacks can be non
blind or blind:
blind spoofing
The threat actor can see the traffic that is being sent between the host and
the target. Non
blind spoofing determines the state of a firewall and sequence
number prediction.
It can also hijack an authorized session.
Blind spoofing
The threat actor cannot see the traffic that is being sent between the host and
the target. Blind spoofing is used in DoS attacks.
MAC address spoofing attacks are used when threat actors have access to the internal network.
Threat actors alter the MAC address of their host to match another known MAC address of a target
host.
3.7 TCP and UDP
Vulnerabilities
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.02 Tw 0 -1.197 TD
-0.012 Tw T*
EMC
-0.004 Tc 0.008 Tw T*
EMC
URG
EMC
/TT0 1 Tf
EMC
PSH
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
TCP and UDP Vulnerabilities
TCP Segment Header
TCP segment information appears immediately
after the IP header. The fields of the TCP
segment and the flags for the Control Bits field
are displayed in the figure.
The following are the six control bits of the
TCP segment:
Urgent pointer field significant
ACK
Acknowledgment field significant
Push function
RST
Reset the connection
SYN
Synchronize sequence numbers
FIN
No more data from sender
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
0 Tw 0 -1.203 TD
EMC
/TT0 1 Tf
-0.015 Tw 0 -1.203 TD
EMC
/TT0 1 Tf
TCP and UDP Vulnerabilities
TCP Services
TCP provides these services:
Reliable delivery
TCP incorporates acknowledgments to guarantee delivery. If a
timely acknowledgment is not received, the sender retransmits the data. Requiring
acknowledgments of received data can cause substantial delays. Examples of
application layer protocols that make use of TCP reliability include HTTP, SSL/TLS,
FTP, DNS zone transfers, and others.
Flow control
TCP implements flow control to address this issue. Rather than
acknowledge one segment at a time, multiple segments can be acknowledged with a
single acknowledgment segment.
Stateful communication
TCP stateful communication between two parties occurs
during the TCP three
way handshake.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
TCP and UDP Vulnerabilities
A TCP connection is established in three steps:
The initiating client requests a client
server communication session with the server.
The server acknowledges the client
server communication session and requests a server
client communication session.
The initiating client acknowledges the server
client communication session.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0.001 Tw T*
EMC
-0.009 Tc 0.009 Tw T*
0 Tc 0 Tw (-
-0.02 Tw T*
-0.012 Tw 0 -1.197 TD
EMC
-0.012 Tw 0 -1.197 TD
TCP and UDP Vulnerabilities
TCP Attacks
TCP SYN Flood Attack
The threat actor sends
multiple SYN requests to a
webserver.
The web server replies with
SYN
ACKs for each SYN
request and waits to complete
the three
way handshake.
The threat actor does not
respond to the SYN
ACKs.
A valid user cannot access
the web server because the
web server has too many half
opened TCP connections.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.001 Tw 0 -1.197 TD
EMC
EMC
EMC
-0.02 Tw T*
EMC
TCP and UDP Vulnerabilities
Terminating a TCP session uses the following
four
way exchange process:
When the client has no more data to send in
the stream, it sends a segment with the FIN
flag set.
The server sends an ACK to acknowledge
the receipt of the FIN to terminate the
session from client to server.
The server sends a FIN to the client to
terminate the server
client session.
The client responds with an ACK to
acknowledge the FIN from the server.
A threat actor could do a TCP reset attack and
send a spoofed packet containing a TCP RST to
one or both endpoints.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
TCP and UDP Vulnerabilities
TCP session hijacking is another TCP vulnerability. Although difficult to conduct, a threat
actor takes over an already
authenticated host as it communicates with the target. The
threat actor must spoof the IP address of one host, predict the next sequence number,
and send an ACK to the other host. If successful, the threat actor could send, but not
receive, data from the target device.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
-0.029 Tw T*
EMC
TCP and UDP Vulnerabilities
UDP Segment Header and Operation
UDP is commonly used by DNS, TFTP, NFS, and SNMP. It is also used with real
time applications
such as media streaming or VoIP. UDP is a connectionless transport layer protocol. It has much
lower overhead than TCP because it is not connection
oriented and does not offer the
sophisticated retransmission, sequencing, and flow control mechanisms that provide reliability.
These reliability functions are not provided by the transport layer protocol and must be
implemented elsewhere if required.
The low overhead of UDP makes it very desirable for protocols that make simple request and reply
transactions.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
TCP and UDP Vulnerabilities
UDP Attacks
UDP is not protected by any encryption. You can add encryption to UDP, but it is not available by
default. The lack of encryption means that anyone can see the traffic, change it, and send it on to
its destination.
UDP Flood Attacks:
The threat actor uses a tool like UDP Unicorn or Low Orbit Ion Cannon.
These tools send a flood of UDP packets, often from a spoofed host, to a server on the subnet.
The program will sweep through all the known ports trying to find closed ports. This will cause the
server to reply with an ICMP port unreachable message. Because there are many closed ports on
the server, this creates a lot of traffic on the segment, which uses up most of the bandwidth. The
result is very similar to a DoS attack.
3.8 IP Services
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
EMC
EMC
IP Services
ARP Vulnerabilities
Hosts broadcast an ARP Request to other hosts on the segment to determine the
MAC address of a host with a particular IP address. The host with the matching IP
address in the ARP Request sends an ARP Reply.
sends a gratuitous ARP, other hosts on the subnet store the MAC address and IP
address contained in the gratuitous ARP in their ARP tables.
This feature of ARP also means that any host can claim to be the owner of any IP or
MAC. A threat actor can poison the ARP cache of devices on the local network,
creating an MITM attack to redirect traffic.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
the
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
0.008 Tw T*
EMC
0.015 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
EMC
0 Tc 0 Tw (-
IP Services
ARP Cache Poisoning
ARP cache poisoning can be used to launch various man
middle attacks.
ARP Request for the MAC address of 192.168.10.1.
R1 updates its ARP cache with the IP and MAC addresses of PC
A. R1 sends an
ARP Reply to PC
A, which then updates its ARP cache with the IP and MAC
addresses of R1.
The threat actor sends two spoofed gratuitous ARP Replies using its own MAC
address for the indicated destination IP addresses. PC
A updates its ARP cache with
also updates its ARP cache with the IP address of PC
MAC address.
The ARP poisoning attack can be passive or active. Passive ARP poisoning is where
threat actors steal confidential information. Active ARP poisoning is where threat actors
modify data in transit or inject malicious data.
https://contenthub.netacad.com/ensa
IP Services
ARP Cache Poisoning
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
IP Services
Video
ARP Spoofing
This video will explain an ARP spoofing attack.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
EMC
EMC
EMC
EMC
EMC
EMC
IP Services
DNS Attacks
resource names, such as www.cisco.com, with the required numeric network address,
such as the IPv4 or IPv6 address. It includes the format for queries, responses, and
Securing DNS is often overlooked. However, it is crucial to the operation of a network
and should be secured accordingly.
DNS attacks include the following:
DNS open resolver attacks
DNS stealth attacks
DNS domain shadowing attacks
DNS tunneling attacks
IP Services
DNS Open Resolver Attacks: A DNS open resolver answers queries from clients outside
of its administrative domain. DNS open resolvers are vulnerable to multiple malicious
activities described in the table.
DNS Resolver Vulnerabilities
Description
DNS cache poisoning attacks
resolver to redirect users from legitimate sites to malicious sites. DNS cache
poisoning attacks can all be used to inform the DNS resolver to use a malicious
name server that is providing RR information for malicious activities.
DNS amplification and
reflection attacks
Threat actors use DoS or DDoS attacks on DNS open resolvers to increase the
volume of attacks and to hide the true source of an attack. Threat actors send
DNS messages to the open resolvers using the IP address of a target host. These
attacks are possible because the open resolver will respond to queries from
anyone asking a question.
DNS resource utilization
attacks
A DoS attack that consumes the resources of the DNS open resolvers. This DoS
attack consumes all the available resources to negatively affect the operations of
the DNS open resolver. The impact of this DoS attack may require the DNS open
resolver to be rebooted or services to be stopped and restarted.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
q 1 0 0 1 169.308 290.2501 cm
q 1 0 0 1 49.625 248.6501 cm
q 1 0 0 1 49.625 173.9501 cm
q 1 0 0 1 49.625 116.0501 cm
q 1 0 0 1 50.125 290.2501 cm
q 1 0 0 1 669.8749 290.2501 cm
q 1 0 0 1 49.625 289.7501 cm
q 1 0 0 1 49.625 58.1501 cm
EMC
/TT1 1 Tf
-0.004 Tc 0 -1.197 TD
EMC
EMC
EMC
/TT0 1 Tf
IP Services
DNS Stealth Attacks: To hide their identity, threat actors also use the DNS stealth
techniques described in the table to carry out their attacks.
DNS Stealth
Techniques
Description
Fast Flux
Threat actors use this technique to hide their phishing and malware delivery
sites behind a quickly
changing network of compromised DNS hosts. The DNS
IP addresses are continuously changed within minutes. Botnets often employ
Fast Flux techniques to effectively hide malicious servers from being detected.
Double IP Flux
Threat actors use this technique to rapidly change the hostname to IP address
mappings and to also change the authoritative name server. This increases the
difficulty of identifying the source of the attack.
Domain
Generation
Algorithms
Threat actors use this technique in malware to randomly generate domain
names that can then be used as rendezvous points to their command and
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.021 Tw 0 -1.198 TD
0 Tc 0 Tw (-
IP Services
DNS Domain Shadowing Attacks: Domain shadowing involves the
threat actor gathering domain account credentials in order to silently
create multiple sub
domains to be used during the attacks. These
subdomains typically point to malicious servers without alerting the
actual owner of the parent domain.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.02 Tw 0 -1.197 TD
EMC
EMC
EMC
-0.012 Tw 0 -1.14 TD
EMC
EMC
EMC
-0.012 Tw T*
EMC
-0.002 Tw T*
EMC
IP Services
DNS Tunneling
Threat actors who use DNS tunneling place non
DNS traffic within DNS traffic. This method often
circumvents security solutions when a threat actor wishes to communicate with bots inside a
protected network, or exfiltrate data from the organization. This is how DNS tunneling works for
CnC commands sent to a botnet:
The command data is split into multiple encoded chunks.
Each chunk is placed into a lower level domain name label of the DNS query.
recursive DNS servers.
The process is repeated until all the queries containing the chunks of are sent.
responses for each DNS query, which contain the encapsulated, encoded CnC commands.
The malware on the compromised host recombines the chunks and executes the commands hidden within the
DNS record.
To stop DNS tunneling, the network administrator must use a filter that inspects DNS traffic. Pay
close attention to DNS queries that are longer than average, or those that have a suspicious
domain name..
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(DHCP
EMC
0.008 Tw 0 -1.203 TD
EMC
IP Services
DHCP servers dynamically provide IP
configuration information to clients.
In the figure, a client broadcasts a
DHCP discover message. The DHCP
responds with a unicast offer that
includes addressing information the
client can use. The client broadcasts a
DHCP request to tell the server that
the client accepts the offer. The server
responds with a unicast
acknowledgment accepting the
request.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT0 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
IP Services
DHCP Attacks
DHCP spoofing attack
occurs when a rogue DHCP server is connected to the
network and provides false IP configuration parameters to legitimate clients.
rogue server
can provide a variety of misleading information:
Wrong default gateway
Threat actor provides an invalid gateway, or the IP
address of its host to create a MITM attack. This may go entirely undetected as the
intruder intercepts the data flow through the network.
Wrong DNS server
Threat actor provides an incorrect DNS server address pointing
the user to a malicious website.
Wrong IP address
Threat actor provides an invalid IP address, invalid default
gateway IP address, or both. The threat actor then creates a DoS attack on the
DHCP client.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
EMC
0 Tw T*
EMC
IP Services
Assume a threat actor has successfully connected a
rogue DHCP server
to a switch port
on the same subnet as the target clients. The goal of the rogue server is to provide clients
with
false IP configuration information
The client broadcasts a DHCP Discover request looking for a response from a DHCP
server. Both servers receive the message.
The legitimate and rogue DHCP servers each respond with valid IP configuration
parameters. The client replies to the first offer received
The client received the rogue offer first. It broadcasts a DHCP request accepting the
parameters from the rogue server. The legitimate and rogue server each receive the
request.
Only the rogue server unicasts a reply to the client to acknowledge its request. The
legitimate server stops communicating with the client because the request has already
been acknowledged.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(Lab
EMC
EMC
EMC
EMC
IP Services
Explore DNS Traffic
In this lab, you will complete the following objectives:
Capture DNS Traffic
Explore DNS Query Traffic
Explore DNS Response Traffic
3.9 Network Security Best
Practices
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Network Security Best Practices
Confidentiality, Availability, and Integrity
Network security consists of protecting information and information systems from
unauthorized access, use, disclosure, disruption, modification, or destruction.
Most organizations follow the CIA information security triad:
Confidentiality
Only authorized individuals, entities, or processes can access
sensitive information. It may require using cryptographic encryption algorithms such
as AES to encrypt and decrypt data.
Integrity
Refers to protecting data from unauthorized alteration. It requires the use
of cryptographic hashing algorithms such as SHA.
Availability
Authorized users must have uninterrupted access to important
resources and data. It requires implementing redundant services, gateways, and
links.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
0 Tc 0 Tw (-
EMC
0 Tw 0 -1.203 TD
EMC
EMC
VPN
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Network Security Best Practices
The Defense
Depth Approach
To ensure secure communications across both public and private networks, you must
secure devices including routers, switches, servers, and hosts. Most organizations employ
a defense
depth approach to security. It requires a combination of networking devices
and services working together.
1. Several security devices and services are implemented.
ASA Firewall
IPS
ESA/WSA
AAA Server
2. All network devices including the router and switches are hardened,
which means that they
have been secured to prevent threat actors from gaining access and tampering with the
devices.
3. You must also secure data as it travels across various links.
This may include internal
traffic, but it is more important to protect the data that travels outside of the organization to
branch sites, telecommuter sites, and partner sites.
Network Security Best Practices
Firewalls
A firewall is a system, or group of systems, that enforces an access control policy
between networks.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
0.015 Tw T*
EMC
EMC
EMC
EMC
-0.02 Tw 0 -1.137 TD
-0.029 Tw T*
Network Security Best Practices
IPS
To defend against fast
moving and evolving attacks, you may need cost
effective
detection and prevention systems integrated into the entry and exit points of the
network.
IDS and IPS technologies share several characteristics. IDS and IPS technologies are
both deployed as sensors. An IDS or IPS sensor can be in the form of several
different devices:
A router configured with Cisco IOS IPS software
A device specifically designed to provide dedicated IDS or IPS services
IDS and IPS technologies detect patterns in network traffic using signatures, which is a set of rules
that used to detect malicious activity. IDS and IPS technologies can detect atomic signature
patterns (single
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
-0.029 Tw 0 -1.197 TD
EMC
0.001 Tw T*
EMC
-0.029 Tw T*
EMC
Network Security Best Practices
The figure shows how an IPS handles denied traffic.
The threat actor sends a packet destined for
the target laptop.
The IPS intercepts the traffic and evaluates it
against known threats and the configured
policies.
The IPS sends a log message to the
management console.
The IPS drops the packet.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
0 Tw 0 -1.203 TD
Network Security Best Practices
Content Security Devices
The
is a special device designed to monitor
time feeds from the Cisco Talos. This threat intelligence data is pulled by the Cisco
ESA every three to five minutes.
The
is a mitigation technology for web
based
threats. The Cisco WSA combines advanced malware protection, application visibility
and control, acceptable use policy controls, and reporting.
Cisco WSA provides complete control over how users access the internet. The WSA
can perform blacklisting of URLs, URL
filtering, malware scanning, URL
categorization, web application filtering, and encryption and decryption of web traffic.
Module 6: NAT for IPv4
Enterprise Networking, Security,
Module Objectives
Module Title:
NAT for IPv4
Module Objective
: Configure NAT services on the edge router to provide IPv4 address
scalability.
Topic Title
Topic Objective
NAT Characteristics
Explain the purpose and function of NAT.
Types of NAT
Explain the operation of different types of NAT.
NAT Advantages and Disadvantages
Describe the advantages and disadvantages of NAT.
Static NAT
Configure static NAT using the CLI.
Dynamic NAT
Configure dynamic NAT using the CLI.
PAT
Configure PAT using the CLI.
NAT64
Describe NAT for IPv6.
6.1 NAT Characteristics
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
-0.007 Tw 0 -1.203 TD
EMC
0 Tw T*
0.008 Tw 0 -1.203 TD
EMC
-0.015 Tw T*
EMC
q 1 0 0 1 441.8922 309.4962 cm
q 1 0 0 1 607.2938 309.4962 cm
q 1 0 0 1 374.2268 285.262 cm
q 1 0 0 1 374.2268 257.6419 cm
q 1 0 0 1 374.2267 230.0218 cm
q 1 0 0 1 374.7267 309.4962 cm
q 1 0 0 1 700.9078 309.4962 cm
q 1 0 0 1 374.2267 308.9962 cm
q 1 0 0 1 374.2266 202.4017 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
EMC
EMC
EMC
NAT Characteristics
IPv4 Address Space
Networks are commonly implemented
using private IPv4 addresses, as defined
in RFC 1918.
Private IPv4 addresses cannot be
routed over the internet and are used
within an organization or site to allow
devices to communicate locally.
To allow a device with a private IPv4
address to access devices and
resources outside of the local network,
the private address must first be
translated to a public address.
NAT provides the translation of private
addresses to public addresses.
Class
Activity Type
Activity Name
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.015 Tw 0 -1.203 TD
EMC
EMC
EMC
NAT Characteristics
What is NAT
The primary use of NAT is to conserve
public IPv4 addresses.
NAT allows networks to use private IPv4
addresses internally and translates them
to a public address when needed.
A NAT router typically operates at the
border of a stub network.
When a device inside the stub network
wants to communicate with a device
outside of its network, the packet is
forwarded to the border router which
performs the NAT process, translating
the internal private address of the device
to a public, outside, routable address.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.029 Tw 0 -1.197 TD
EMC
EMC
-0.012 Tw T*
EMC
0.001 Tw T*
EMC
-0.012 Tw T*
EMC
EMC
NAT Characteristics
How NAT Works
PC1 wants to communicate with an outside web server with
public address 209.165.201.1.
PC1 sends a packet addressed to the web server.
R2 receives the packet and reads the source IPv4 address
to determine if it needs translation.
R2 adds mapping of the local to global address to the NAT
table.
R2 sends the packet with the translated source address
toward the destination.
The web server responds with a packet addressed to the
R2 receives the packet with destination address
209.165.200.226. R2 checks the NAT table and finds an
entry for this mapping. R2 uses this information and
forwarded toward PC1.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
NAT Characteristics
NAT Terminology
NAT includes four types of addresses:
Inside local address
Inside global address
Outside local address
Outside global address
NAT terminology is always applied from the perspective of the device with the
translated address:
Inside address
The address of the device which is being translated by NAT.
Outside address
The address of the destination device.
Local address
A local address is any address that appears on the inside portion
of the network.
Global address
A global address is any address that appears on the outside
portion of the network.
NAT Characteristics
Inside local address
The address of the source as seen from inside the network.
This is typically a private IPv4 address. The inside local
address of PC1 is 192.168.10.10.
Inside global addresses
The address of source as seen from the outside network. The
inside global address of PC1 is 209.165.200.226
Outside global address
The address of the destination as seen from the outside
network. The outside global address of the web server is
Outside local address
The address of the destination as seen from the inside
network. PC1 sends traffic to the web server at the IPv4
address 209.165.201.1. While uncommon, this address could
be different than the globally routable address of the
destination.
6.2 Types of NAT
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
0.008 Tw T*
0.015 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
Types of NAT
Static NAT
Static NAT uses a one
one mapping of
local and global addresses configured by
the network administrator that remain
constant.
Static NAT is useful for web servers or
devices that must have a consistent
address that is accessible from the
internet, such as a company web server.
It is also useful for devices that must be
accessible by authorized personnel when
offsite, but not by the general public on
the internet.
Note
: Static NAT requires that enough
public addresses are available to satisfy the
total number of simultaneous user sessions.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
0 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
EMC
Types of NAT
Dynamic NAT
Dynamic NAT uses a pool of public
addresses and assigns them on a first
come, first
served basis.
When an inside device requests access
to an outside network, dynamic NAT
assigns an available public IPv4 address
from the pool.
The other addresses in the pool are still
available for use.
Note
: Dynamic NAT requires that enough
public addresses are available to satisfy the
total number of simultaneous user sessions.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.015 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
-0.015 Tw 0 -1.203 TD
EMC
Types of NAT
Port Address Translation
as NAT overload, maps multiple private
IPv4 addresses to a single public IPv4
address or a few addresses.
With PAT, when the NAT router receives
a packet from the client, it uses the
source port number to uniquely identify
the specific NAT translation.
PAT ensures that devices use a different
TCP port number for each session with
a server on the internet.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
0.015 Tw 0 -1.203 TD
0.008 Tw T*
0 Tw T*
0.008 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
EMC
Types of NAT
Next Available Port
PAT attempts to preserve the original
source port. If the original source port is
already used, PAT assigns the first
available port number starting from the
beginning of the appropriate port group 0
When there are no more ports available
and there is more than one external
address in the address pool, PAT moves
to the next address to try to allocate the
original source port.
The process continues until there are no
more available ports or external IPv4
addresses in the address pool.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
q 1 0 0 1 183.1954 262.8546 cm
q 1 0 0 1 37.1029 238.6204 cm
q 1 0 0 1 37.6029 262.8546 cm
q 1 0 0 1 328.5635 262.8546 cm
q 1 0 0 1 37.1029 262.3546 cm
q 1 0 0 1 37.1029 211.0003 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
EMC
q 1 0 0 1 183.1954 149.211 cm
q 1 0 0 1 37.1029 124.9768 cm
q 1 0 0 1 37.6029 149.211 cm
q 1 0 0 1 328.5635 149.211 cm
q 1 0 0 1 37.1029 148.711 cm
q 1 0 0 1 37.1029 97.3567 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
EMC
q 1 0 0 1 540.6192 338.1443 cm
q 1 0 0 1 394.5266 313.91 cm
q 1 0 0 1 394.5266 268.9084 cm
q 1 0 0 1 394.5266 208.9076 cm
q 1 0 0 1 395.0266 338.1443 cm
q 1 0 0 1 685.9872 338.1443 cm
q 1 0 0 1 394.5265 337.6443 cm
q 1 0 0 1 394.5265 135.7068 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
0 Tc 0 Tw (-
Types of NAT
NAT and PAT Comparison
Summary of the differences between NAT
and PAT.
NAT
Only modifies the IPv4 addresses
PAT
PAT modifies both the IPv4 address and
the port number.
Inside Global Address
Inside Local Address
Inside Global Address
Inside Local Address
NAT
PAT
One
one mapping
between Inside Local and
Inside Global addresses.
One Inside Global address
can be mapped to many
Inside Local addresses.
Uses only IPv4 addresses
in translation process.
Uses IPv4 addresses and
TCP or UDP source port
numbers in translation
process.
A unique Inside Global
address is required for
each inside host
accessing the outside
network.
A single unique Inside
Global address can be
shared by many inside
hosts accessing the
outside network.
Types of NAT
Packets without a Layer 4 Segment
Some packets do not contain a Layer 4 port number, such as ICMPv4
messages. Each of these types of protocols is handled differently by PAT.
For example, ICMPv4 query messages, echo requests, and echo replies
include a Query ID. ICMPv4 uses the Query ID to identify an echo request
with its corresponding echo reply.
Note
: Other ICMPv4 messages do not use the Query ID. These messages and other
protocols that do not use TCP or UDP port numbers vary and are beyond the scope
of this curriculum.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
Types of NAT
Packet Tracer
Investigate NAT Operations
In this Packet Tracer, you will complete the following objectives:
Investigate NAT operation across the intranet
Investigate NAT operation across the internet
Conduct further investigations
6.3 NAT Advantages and
Disadvantages
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
-0.007 Tw T*
EMC
NAT Advantages and Disadvantages
Advantages of NAT
NAT provides many benefits:
NAT conserves the legally registered addressing scheme by allowing the
privatization of intranets.
NAT conserves addresses through application port
level multiplexing.
NAT increases the flexibility of connections to the public network.
NAT provides consistency for internal network addressing schemes.
NAT allows the existing private IPv4 address scheme to remain while allowing for
easy change to a new public addressing scheme.
NAT hides the IPv4 addresses of users and other devices.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
NAT Advantages and Disadvantages
Disadvantages of NAT
NAT does have drawbacks:
NAT increases forwarding delays.
End
end addressing is lost.
End
end IPv4 traceability is lost.
NAT complicates the use of tunneling protocols, such as IPsec.
Services that require the initiation of TCP connections from the outside network, or
stateless protocols, such as those using UDP, can be disrupted.
6.4 Static NAT
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tc 0 Tw (-
EMC
0.005 Tw T*
0.012 Tw T*
EMC
Static NAT
Static NAT Scenario
Static NAT is a one
one mapping
between an inside address and an
outside address.
Static NAT allows external devices
to initiate connections to internal
devices using the statically
assigned public address.
For instance, an internal web server
may be mapped to a specific inside
global address so that it is
accessible from outside networks.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
(and
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
EMC
/TT3 1 Tf
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
Static NAT
Configure Static NAT
There are two basic tasks when configuring static NAT translations:
Step 1
Create a mapping between the inside local address and the inside global
addresses using the
ip nat inside source static
command.
Step 2
The interfaces participating in the translation are configured as inside or
outside relative to NAT with the
ip nat inside
ip nat outside
commands.
ip nat inside source static 192.168.10.254 209.165.201.5
interface serial 0/1/0
R2(config
ip address 192.168.1.2 255.255.255.252
R2(config
ip nat inside
R2(config
exit
interface serial 0/1/1
R2(config
ip address 209.165.200.1 255.255.255.252
R2(config
ip nat outside
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
EMC
Static NAT
Analyze Static NAT
The static NAT translation process between the
client and the web server:
The client sends a packet to the web server.
R2 receives packets from the client on its NAT
outside interface and checks its NAT table.
R2 translates the inside global address of to the
inside local address and forwards the packet
towards the web server.
The web server receives the packet and responds
to the client using its inside local address.
on its NAT inside interface with source address of
translates the source address to the inside global
address.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
EMC
0 Tw T*
EMC
EMC
/TT2 1 Tf
sh)-11.3 (ow ip nat tr)-11.3 (anslati)-11.2 (ons)]TJ
EMC
/TT2 1 Tf
[(Pro  I)-11.2 (nside global)-11.2 (       )-11.3 (Inside local)-11.3 (       )-11.2 (Outside loca)-11.2 (l     O)-11.3 (utside globa)-11.3 (l)]TJ
EMC
0.009 Tw 0 -1.193 TD
EMC
[(Total )-11.2 (number of tr)-11.2 (anslati)-11.3 (ons: 1)]TJ
EMC
EMC
sh)-11.3 (ow ip nat tr)-11.3 (anslati)-11.2 (ons)]TJ
EMC
/TT2 1 Tf
[(Pro  I)-11.2 (nside global)-11.2 (       )-11.3 (Inside local)-11.3 (       )-11.2 ( Outside loc)-11.2 (al     )-11.3 (    Outside )-11.3 (global)]TJ
EMC
EMC
0.009 Tw T*
Static NAT
Verify Static NAT
To verify NAT operation, issue the
show ip nat translations
command.
This command shows active NAT translations.
Because the example is a static NAT configuration, the translation is always present in
the NAT table regardless of any active communications.
If the command is issued during an active session, the output also indicates the
address of the outside device.
show ip nat translations
Pro  Inside global       Inside local       Outside local     Outside global
Total number of translations: 1
show ip nat translations
Pro  Inside global       Inside local        Outside local         Outside global
tcp  209.165.201.5       192.168.10.254      209.165.200.254       209.165.200.254
Total number of translations: 2
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0 Tw 0 -1.203 TD
EMC
Static NAT
Another useful command is
show ip nat statistics.
It displays information about the total number of active translations, NAT
configuration parameters, the number of addresses in the pool, and the number of
addresses that have been allocated.
To verify that the NAT translation is working, it is best to clear statistics from any
past translations using the
clear ip nat statistics
command before testing.
show ip nat statistics
Outside interfaces:
Serial0/1/1
Inside interfaces:
Serial0/1/0
Hits: 4  Misses: 1
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
Static NAT
Packet Tracer
Configure Static NAT
In this Packet Tracer, you will complete the following objectives:
Test Access without NAT
Configure Static NAT
Test Access with NAT
6.5 Dynamic NAT
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.012 Tw 0 -1.2 TD
0.019 Tw T*
EMC
0.019 Tw T*
EMC
0.005 Tw T*
EMC
Static NAT
Dynamic NAT Scenario
Dynamic NAT automatically maps
inside local addresses to inside
global addresses.
Dynamic NAT uses a pool of inside
global addresses.
The pool of inside global addresses
is available to any device on the
inside network on a first
come first
served basis.
If all addresses in the pool are in
use, a device must wait for an
available address before it can
access the outside network.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw [(ac)10 (ces)10 (s)]TJ
EMC
/TT2 1 Tf
/TT3 1 Tf
Static NAT
Configure Dynamic NAT
There are five tasks when configuring dynamic NAT translations:
Step 1
Define the pool of addresses that will be used for translation using the
nat pool
command.
Step 2
are to be translated.
Step 3
Bind the ACL to the pool, using the
ip nat inside source list
command.
ip nat pool NAT
POOL1 209.165.200.226 209.165.200.240 netmask 255.255.255.224
access
list 1 permit 192.168.0.0 0.0.255.255
ip nat inside source list 1 pool NAT
POOL1
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
(access
EMC
/TT2 1 Tf
/TT3 1 Tf
[(ip nat)-11.2 ( inside)-11.3 ( source list)-11.3 ( 1 pool)-11.2 ( NAT)]TJ
POOL1
/TT3 1 Tf
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
int)-11.3 (erface )-11.3 (serial 0/1/1)]TJ
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
Static NAT
There are five tasks when configuring dynamic NAT translations:
Step 4
Identify which interfaces are inside.
Step 5
Identify which interfaces are outside.
ip nat pool NAT
POOL1 209.165.200.226 209.165.200.240 netmask 255.255.255.224
list 1 permit 192.168.0.0 0.0.255.255
ip nat inside source list 1 pool NAT
interface serial 0/1/0
R2(config
ip nat inside
R2(config
interface serial 0/1/1
R2(config
ip nat outside
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
0.008 Tw T*
0 Tw 0 -1.203 TD
EMC
Static NAT
Analyze Dynamic NAT
Inside to Outside
Dynamic NAT translation process:
PC1 and PC2 send packets requesting a
connection to the server.
R2 receives the first packet from PC1,
checks the ALC to determine if the packet
should be translated, selects an available
global address, and creates a translation
entry in the NAT table.
R2 replaces the inside local source address
of PC1, 192.168.10.10, with the translated
inside global address of 209.165.200.226
and forwards the packet. (The same process
occurs for the packet from PC2 using the
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
-0.029 Tw 0 -1.197 TD
-0.012 Tw T*
-0.029 Tw 0 -1.197 TD
EMC
Static NAT
Analyze Dynamic NAT
Outside to Inside
Dynamic NAT translation process:
The server receives the packet from PC1 and
responds using the destination address of
209.165.200.226. The server receives the packet
from PC2, it responds to using the destination
address of 209.165.200.227.
destination address of 209.165.200.226; it
performs a NAT table lookup and translates the
address back to the inside local address and
forwards the packet toward PC1.
destination address of 209.165.200.227; it
performs a NAT table lookup and translates the
address back to the inside local address
192.168.11.10 and forwards the packet toward
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
Static NAT
Analyze Dynamic NAT
Dynamic NAT translation process:
PC1 and PC2 receive the packets and
continue the conversation. The router
performs Steps 2 to 5 for each packet.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
sh)-11.3 (ow ip nat tr)-11.3 (anslati)-11.2 (ons)]TJ
EMC
/TT2 1 Tf
[(Pro In)-11.2 (side global )-11.2 (     In)-11.3 (side local  )-11.3 (     Ou)-11.2 (tside local )-11.2 (     Ou)-11.3 (tside global)]TJ
EMC
0.009 Tw 0 -1.193 TD
EMC
EMC
Static NAT
Verify Dynamic NAT
The output of the
show ip nat translations
command displays all static
translations that have been configured and any dynamic translations that
have been created by traffic.
show ip nat translations
Pro Inside global      Inside local       Outside local      Outside global
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
sh)-11.3 (ow ip nat tr)-11.3 (anslati)-11.2 (on verbose)]TJ
EMC
/TT2 1 Tf
[(Pro In)-11.2 (side global )-11.2 (     In)-11.3 (side local  )-11.3 (     Ou)-11.2 (tside local )-11.2 (     Ou)-11.3 (tside global)]TJ
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Static NAT
Adding the
verbose
keyword displays additional information about each
translation, including how long ago the entry was created and used.
show ip nat translation verbose
Pro Inside global      Inside local       Outside local      Outside global
tcp 209.165.200.228    192.168.10.10
create 00:02:11, use 00:02:11 timeout:86400000, left 23:57:48, Map
flags:
none, use_count: 0, entry
id: 10, lc_entries: 0
tcp 209.165.200.229    192.168.11.10
create 00:02:10, use 00:02:10 timeout:86400000, left 23:57:49, Map
flags:
none, use_count: 0, entry
id: 12, lc_entries: 0
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT3 1 Tf
cl)-11.3 (ear ip nat t)-11.3 (ranslat)-11.2 (ion *)]TJ
EMC
/TT3 1 Tf
sh)-11.3 (ow ip nat tr)-11.3 (anslati)-11.2 (on)]TJ
EMC
q 1 0 0 1 345.7923 176.2585 cm
q 1 0 0 1 55.869 153.5656 cm
q 1 0 0 1 55.869 121.764 cm
q 1 0 0 1 55.869 90.5632 cm
q 1 0 0 1 56.369 176.2585 cm
q 1 0 0 1 634.7687 176.2585 cm
q 1 0 0 1 55.869 175.7585 cm
q 1 0 0 1 55.869 35.3624 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT4 1 Tf
(clear ip nat translation *
EMC
/TT4 1 Tf
(clear ip nat translation inside
global
local
outside
local
ip global
EMC
/TT4 1 Tf
(clear ip nat translation
protocol
inside
global
ip global
port local
ip local
port
outside
local
ip local
port global
ip global
port
Static NAT
By default, translation entries time out after 24 hours, unless the timers have been
reconfigured with the
ip nat translation timeout
timeout
seconds
command in global
configuration mode. To clear dynamic entries before the timeout has expired, use the
clear ip nat translation
privileged EXEC mode command.
clear ip nat translation *
show ip nat translation
Command
Description
Clears all dynamic address translation entries from the
NAT translation table.
outsidelocal-ip global-ip]Clears a simple dynamic translation entry containing an inside
translation or both inside and outside translation.
outsidelocal-ip local-port global-ip global-port]Clears an extended dynamic translation entry.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
show ip nat statistics
Total active translations: 4 (0 static, 4 dynamic; 0 extended)
Peak translations: 4, occurred 00:31:43 ago
Outside interfaces:
Serial0/1/1
Inside interfaces:
Serial0/1/0
Hits: 47  Misses: 0
CEF Translated packets: 47, CEF Punted packets: 0
Expired translations: 5
Dynamic mappings:
Inside Source
[Id: 1] access
list 1 pool NAT
POOL1 refcount 4
pool NAT
POOL1: netmask 255.255.255.224
start 209.165.200.226 end 209.165.200.240
type generic, total addresses 15, allocated 2 (13%), misses 0
(output omitted)
Static NAT
The
show ip nat statistics
command displays information about the total number of
active translations, NAT configuration parameters, the number of addresses in the
pool, and how many of the addresses have been allocated.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
sh)-11.3 (ow running)]TJ
c)-11.3 (onfig |)-11.2 ( include NAT)]TJ
EMC
/TT2 1 Tf
[(ip nat)-11.2 ( pool NAT)]TJ
EMC
[(ip nat)-11.2 ( inside sour)-11.2 (ce list)-11.3 ( 1 pool NAT)]TJ
POOL1
Static NAT
The
show running
config
command and show s the NAT, ACL, interface, or pool
commands with the required values.
show running
config | include NAT
ip nat pool NAT
POOL1 209.165.200.226 209.165.200.240 netmask 255.255.255.224
ip nat inside source list 1 pool NAT
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
Dynamic NAT
Packet Tracer
Configure Dynamic NAT
In this Packet Tracer, you will complete the following objectives:
Configure Dynamic NAT
Verify NAT Implementation
6.6 PAT
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(PAT
EMC
/TT1 1 Tf
/TT0 1 Tf
(to the
/TT0 1 Tf
EMC
0 Tw 0 -1.203 TD
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
[(ip nat)-11.2 ( inside)-11.3 ( source list)-11.3 ( 1 inte)-11.2 (rface serial)-11.2 ( 0/1/0 )]TJ
(overload
/TT3 1 Tf
(access
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
0 Tc 0 Tw (-
Configure PAT to Use a Single IPv4 Address
To configure PAT to use a single IPv4 address, add the keyword
overload
nat inside source
command.
traffic through router R2 to the internet will be translated to IPv4 address
by port numbers in the NAT table because the
overload
keyword is configured.
ip nat inside source list 1 interface serial 0/1/0
list 1 permit 192.168.0.0 0.0.255.255
interface serial0/1/0
R2(config
ip nat inside
R2(config
exit
interface Serial0/1/1
R2(config
ip nat outside
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(PAT
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
/TT0 1 Tf
(to the
/TT0 1 Tf
EMC
0.008 Tw 0 -1.203 TD
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
[(R2(con)-11.2 (fig)# ip nat)-11.2 ( inside)-11.3 ( source list)-11.3 ( 1 pool)-11.2 ( NAT)]TJ
POOL2
o)-11.3 (verload)]TJ
EMC
EMC
0.009 Tw 0 -1.193 TD
0 Tc 0 Tw (-
EMC
0 Tc 0 Tw (-
EMC
0 Tc 0 Tw (-
Configure PAT to Use an Address Pool
An ISP may allocate more than one public IPv4 address to an organization. In this
scenario the organization can configure PAT to use a pool of IPv4 public addresses for
translation.
To configure PAT for a dynamic NAT address pool, simply add the keyword
overload
ip nat inside source
command.
In the example, NAT
POOL2 is bound to an ACL to permit 192.168.0.0/16 to be
translated. These hosts can share an IPv4 address from the pool because PAT is
enabled with the keyword
overload
POOL2 209.165.200.226 209.165.200.240 netmask 255.255.255.224
list 1 permit 192.168.0.0 0.0.255.255
overload
R2(config
R2(config
R2(config
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(PAT
EMC
-0.002 Tc 0.002 Tw 0 -1.203 TD
EMC
-0.015 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
-0.002 Tc 0.002 Tw T*
EMC
Analyze PAT
Server to PC
PC1 and PC2 send packets to Svr1 and
Svr2.
The packet from PC1 reaches R2 first.
R2 modifies the source IPv4 address to
The packet is then forwarded towards
Svr1.
The packet from PC2 arrives at R2. PAT
changes the source IPv4 address of PC2
to the inside global address
209.165.200.225. PC2 has the same
source port number as the translation for
PC1. PAT increments the source port
number until it is a unique value in its
table. In this instance, 1445.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(PAT
EMC
EMC
-0.007 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
0.015 Tw T*
EMC
Analyze PAT
PC to Server
PC1 and PC2 send packets to Svr1
and Svr2.
The packet from PC1 reaches R2 first.
R2 modifies the source IPv4 address to
209.165.200.225 (inside global
towards Svr1.
The packet from PC2 arrives at R2.
PAT changes the source IPv4 address
of PC2 to the inside global address
209.165.200.225. PC2 has the same
source port number as the translation
for PC1. PAT increments the source
port number until it is a unique value in
its table. In this instance, it is 1445.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(PAT
EMC
0 Tw 0 -1.203 TD
EMC
0.008 Tw T*
0 Tw 0 -1.203 TD
0.023 Tw 0 -1.203 TD
EMC
Analyze PAT
Server to PC
The servers use the source port from the
received packet as the destination port,
and the source address as the destination
address for the return traffic.
R2 changes the destination IPv4 address
of the packet from Srv1 from
209.165.200.225 to 192.168.10.10, and
forwards the packet toward PC1.
R2 changes the destination address of
packet from Srv2. from 209.165.200.225 to
192.168.10.11. and modifies the
destinations port back to its original value
of 1444. The packet is then forwarded
toward PC2.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(PAT
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tw T*
0.008 Tw T*
EMC
EMC
/TT2 1 Tf
sh)-11.3 (ow ip nat tr)-11.3 (anslati)-11.2 (ons)]TJ
EMC
/TT2 1 Tf
[(Pro In)-11.2 (side global )-11.2 (       )-11.3 (  Inside loc)-11.3 (al     )-11.2 (    Outside )-11.2 (local  )-11.3 (    Outside )-11.3 (global)]TJ
EMC
0.009 Tw 0 -1.193 TD
(tcp
EMC
(tcp
EMC
Verify PAT
The same commands used to verify static and dynamic NAT are used to verify PAT.
The
show ip nat translations
command displays the translations from two different
hosts to different web servers. Notice that two different inside hosts are allocated the
numbers in the NAT table differentiate the two transactions.
show ip nat translations
Pro Inside global          Inside local         Outside local      Outside global
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(PAT
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tw 0 -1.203 TD
EMC
EMC
/TT2 1 Tf
sh)-11.3 (ow ip nat st)-11.3 (atistic)-11.2 (s )]TJ
EMC
/TT2 1 Tf
[(Total )-11.2 (active trans)-11.2 (lations)-11.3 (: 4 (0 stati)-11.3 (c, 2 dy)-11.2 (namic; 2 ext)-11.2 (ended))]TJ
EMC
[(Peak t)-11.2 (ranslations:)-11.2 ( 2, occ)-11.3 (urred 00:31:)-11.3 (43 ago)]TJ
EMC
EMC
EMC
EMC
EMC
EMC
[(CEF Tr)-11.2 (anslated pac)-11.2 (kets: 4)-11.3 (7, CEF Punte)-11.3 (d packe)-11.2 (ts: 0)]TJ
EMC
[(Expire)-11.2 (d translatio)-11.2 (ns: 0)]TJ
EMC
[(Dynami)-11.2 (c mappings:)]TJ
EMC
0.009 Tw T*
Ins)-11.3 (ide Source)]TJ
EMC
lis)-11.3 (t 1 poo)-11.3 (l NAT)]TJ
POOL2 )-11.2 (refcoun)-11.3 (t 2)]TJ
EMC
(pool NAT
EMC
EMC
[(type g)-11.2 (eneric, tota)-11.3 (l addre)-11.3 (sses 15, all)-11.3 (ocated )-11.2 (1 (6%), miss)-11.3 (es 0)]TJ
EMC
EMC
0.009 Tw 0 -1.17 TD
The
show ip nat statistics
command verifies that NAT
POOL2 has allocated a single
address for both translations. Also shown are the number and type of active translations,
NAT configuration parameters, the number of addresses in the pool, and how many
have been allocated.
show ip nat statistics
Peak translations: 2, occurred 00:31:43 ago
Outside interfaces:
Serial0/1/1
Inside interfaces:
Serial0/1/0
Hits: 4  Misses: 0
CEF Translated packets: 47, CEF Punted packets: 0
Expired translations: 0
Dynamic mappings:
Inside Source
[Id: 3] access
list 1 pool NAT
POOL2 refcount 2
POOL2: netmask 255.255.255.224
start 209.165.200.225 end 209.165.200.240
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Dynamic NAT
Packet Tracer
Configure PAT
In this Packet Tracer, you will complete the following objectives:
Configure Dynamic NAT with Overload
Verify Dynamic NAT with Overload Implementation
Configure PAT using an Interface
Verify PAT Interface Implementation
6.7 NAT64
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
0.008 Tw T*
EMC
0.008 Tw T*
-0.015 Tw 0 -1.203 TD
EMC
NAT64
NAT for IPv6?
IPv6 was developed with the intention of making NAT for IPv4 with translation between
public and private IPv4 addresses unnecessary.
However, IPv6 does include its own IPv6 private address space, unique local
IPv4 but have a different purpose.
ULA addresses are meant for only local communications within a site. ULA
addresses are not meant to provide additional IPv6 address space, nor to provide a
level of security.
IPv6 does provide for protocol translation between IPv4 and IPv6 known as NAT64.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
-0.007 Tw T*
0 Tw T*
0 Tw T*
EMC
NAT64
NAT64
NAT for IPv6 is used in a much different
context than NAT for IPv4.
The varieties of NAT for IPv6 are used
to transparently provide access between
IPv6
only and IPv4
only networks, as
shown. It is not used as a form of private
IPv6 to global IPv6 translation.
NAT for IPv6 should not be used as a
long
term strategy, but as a temporary
mechanism to assist in the migration
from IPv4 to IPv6.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
0 Tw 0 -1.081 TD
(Quiz
6.8 Module Practice and
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
Dynamic NAT
Packet Tracer
Configure NAT for IPv4
In this Packet Tracer, you will complete the following objectives:
Configure Dynamic NAT with PAT
Configure Static NAT
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Dynamic NAT
Packet Tracer
Configure NAT for IPv4
In this Lab, you will complete the following objectives:
Build the Network and Configure Basic Device Settings
Configure and verify NAT for IPv4
Configure and verify PAT for IPv4
Configure and verify Static NAT for IPv4
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
0 Tw T*
EMC
EMC
EMC
EMC
EMC
EMC
Module Practice and Quiz
What did I learn in this module?
There are not enough public IPv4 addresses to assign a unique address to each device
connected to the internet.
The primary use of NAT is to conserve public IPv4 addresses.
In NAT terminology, the inside network is the set of networks that is subject to translation.
The outside network refers to all other networks.
NAT terminology is always applied from the perspective of the device with the translated
address.
Inside address are the address of the device which is being translated by NAT.
Outside address are the address of the destination device.
Local address is any address that appears on the inside portion of the network.
Global address is any address that appears on the outside portion of the network.
Static NAT uses a one
one mapping of local and global addresses.
Dynamic NAT uses a pool of public addresses and assigns them on a first
come, first
served
basis.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
EMC
-0.007 Tw T*
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
-0.015 Tw T*
EMC
EMC
EMC
Module Practice and Quiz
addresses to a single public IPv4 address or a few addresses.
NAT increases forwarding delays because the translation of each IPv4 address within the
packet headers takes time.
NAT complicates the use of tunneling protocols, such as IPsec, because NAT modifies
values in the headers, causing integrity checks to fail.
The
show ip nat translations
command displays all static translations that have been
configured and any dynamic translations that have been created by traffic.
To clear dynamic entries before the timeout has expired, use the
clear ip nat translation
privileged EXEC mode command.
IPv6 was developed with the intention of making NAT for IPv4 with translation between public
and private IPv4 addresses unnecessary.
have a different purpose.
IPv6 does provide for protocol translation between IPv4 and IPv6 known as NAT64.
Switching, Routing and Wireless
Chapter 6
Module 7: DHCPv4
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
q 1 0 0 1 305.6403 269.109 cm
q 1 0 0 1 51.1364 239.4082 cm
q 1 0 0 1 51.1364 198.3082 cm
q 1 0 0 1 51.1364 169.1074 cm
q 1 0 0 1 51.6364 269.109 cm
q 1 0 0 1 646.5261 269.109 cm
q 1 0 0 1 51.1364 268.609 cm
q 1 0 0 1 51.1364 139.9066 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
Module Objectives
Module Title: DHCPv4
Module Objective
Implement DHCPv4 to operate across multiple LANs
Topic Title
Topic Objective
DHCP4 Concepts
Explain how DHCPv4 operates in a small
to medium
sized business network.
Configure a Cisco IOS DHCP4 Server
Configure a router as a DHCPv4 server.
Configure a DHCP4 Client
Configure a router as a DHCPv4 client.
7.1 DHCPv4 Concepts
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
(and
EMC
EMC
0 Tw 0 -1.203 TD
EMC
-0.007 Tw 0 -1.203 TD
0 Tw (to
DHCPv4 Concepts
DHCPv4 Server and Client
IPv4 addresses
other
network configuration information dynamically
. Because desktop clients typically make up
the bulk of network nodes, DHCPv4 is an extremely useful and
timesaving tool
for network
administrators.
A dedicated DHCPv4 server
is scalable and relatively easy to manage. However, in
a small
branch or SOHO
location, a
Cisco router
can be configured to provide
DHCPv4 services
without the need for a dedicated server. Cisco IOS software supports an optional, full
featured DHCPv4 server.
The DHCPv4 server dynamically assigns, or leases, an IPv4 address from a pool of
addresses for
a limited period of time
chosen by the server, or until the
client no longer
needs the address.
Clients lease the information from the server for an administratively defined period.
Administrators configure DHCPv4 servers to set the leases to time out at different intervals.
The lease is typically anywhere from
24 hours
a week or more
. When the lease expires,
the client must ask for another address, although the client is typically reassigned the same
address.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
DHCPv4 Concepts
DHCPv4 Operation
DHCPv4 works in a
client/server mode
. When a client communicates with a DHCPv4
server, the server assigns or leases an IPv4 address to that client.
The client
connects
to the network with that leased IPv4 address until the lease
expires. The client must
contact
the DHCP server
periodically
to extend the lease.
This lease mechanism ensures that clients that move or power off
do not keep
addresses that they no longer need.
When a
lease expires
, the DHCP server
returns
the address to the pool where it can
be reallocated as necessary.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
EMC
0 Tc 0 Tw 0 -1.203 TD
DHCPv4 Concepts
Steps to Obtain a Lease
When the client boots (or
otherwise wants to join a
step
process to obtain a lease:
DHCP
iscover
DHCPDISCOVER
DHCP
ffer (
DHCPOFFER
DHCP
equest
DHCPREQUEST
DHCP
cknowledgment
DHCPACK
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.012 Tw 0 -1.197 TD
EMC
/TT1 1 Tf
0.001 Tw 0 -2.393 TD
0 Tc 0 Tw ()
DHCPv4 Concepts
Steps to
Renew
a Lease
Prior to lease expiration, the client begins a two
step process to renew the lease with the DHCPv4
server, as shown in the figure:
DHCP Request (DHCPREQUEST
Before the lease expires, the client sends a
DHCPREQUEST message directly to the
DHCPv4 server that originally offered the IPv4
address. If a DHCPACK is not received within a
specified amount of time, the client broadcasts
another DHCPREQUEST so that one of the other
DHCPv4 servers can extend the lease.
On receiving the DHCPREQUEST message, the
server verifies the lease information by returning a
DHCPACK.
Note
: These messages (primarily the DHCPOFFER and
to IETF RFC 2131.
7.2 Configure a Cisco IOS
DHCPv4 Server
Configure a Cisco IOS DHCPv4 Server
Cisco IOS DHCPv4 Server
Now you have a basic understanding of how DHCPv4 works and how it can make your
job a bit easier. A Cisco router running Cisco IOS software can be configured to act as a
DHCPv4 server. The Cisco
IOS DHCPv4 server
assigns and manages IPv4 addresses
from specified address pools within the router to DHCPv4 clients.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
/TT2 1 Tf
/TT0 1 Tf
(and
/TT0 1 Tf
and
/TT1 1 Tf
/TT3 1 Tf
0 Tc 0 Tw (-
EMC
/TT0 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT3 1 Tf
(pool
/TT0 1 Tf
/TT1 1 Tf
0 Tc 0 Tw (-
Configure a Cisco IOS DHCPv4 Server
Steps to Configure a Cisco IOS DHCPv4 Server
Use the following steps to configure a Cisco IOS DHCPv4 server:
Step 1
. Exclude IPv4 addresses
. A single address or a range of addresses can be
excluded by specifying the
low
address
high
address
of the range.
Excluded
addresses
should be those addresses that are assigned to
routers
servers
printers
other devices
that have been, or will be, manually configured. You can also enter
the command multiple times. The command is
ip dhcp excluded
address
low
address [high
address]
Step 2
. Define a DHCPv4 pool name
. The
ip dhcp pool
name
command creates
a pool with the
specified name
and puts the router in DHCPv4 configuration mode,
which is identified by the prompt
Router(dhcp
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
(the
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
q 1 0 0 1 303.3576 256.0143 cm
q 1 0 0 1 66.7002 224.8233 cm
q 1 0 0 1 66.7002 194.1324 cm
q 1 0 0 1 66.7002 163.4414 cm
q 1 0 0 1 66.7002 132.7505 cm
q 1 0 0 1 66.7002 102.0595 cm
q 1 0 0 1 66.7002 71.3686 cm
q 1 0 0 1 67.2002 256.0143 cm
q 1 0 0 1 629.5604 256.0143 cm
q 1 0 0 1 66.7002 255.5143 cm
q 1 0 0 1 66.7002 40.6776 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT2 1 Tf
number
/TT0 1 Tf
/TT2 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (]
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
/TT2 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (]
EMC
/TT1 1 Tf
/TT2 1 Tf
/TT0 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (]
EMC
/TT1 1 Tf
/TT2 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT0 1 Tf
/TT0 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
/TT2 1 Tf
/TT0 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (]
Configure a Cisco IOS DHCPv4 Server
Step 3
. Configure the DHCPv4 pool
. The address pool and default gateway router must be
configured. Use the
network
statement to define the range of available addresses. Use
default
router
command
to define the default gateway router.
These commands and
other optional commands are shown in the table.
Task
IOS Command
Define the address pool.
network
network
mask
prefix
length
Define the default router or gateway.
default
router
address [
Define a DNS server.
dns
server
address
Define the domain name.
domain
name
domain
Define the duration of the DHCP lease.
lease
days
hours
minutes
infinite
Define the NetBIOS WINS server.
netbios
name
server
address
Configure a Cisco IOS DHCPv4 Server
Configuration Example
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
0 Tc 0 Tw (-
Configure a Cisco IOS DHCPv4 Server
DHCPv4 Verification
Use the commands in the table to verify that the Cisco IOS DHCPv4 server is operational
Command
Description
show running
config | section dhcp
Displays the DHCPv4 commands configured on the router.
show ip dhcp binding
Displays a list of all IPv4 address to MAC address bindings provided by the
DHCPv4 service.
show ip dhcp server statistics
Displays count information regarding the number of DHCPv4 messages
that have been sent and received
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
0 Tc 0 Tw (-
Configure a Cisco IOS DHCPv4 Server
Verify DHCPv4 is Operational
Verify the DHCPv4 Configuration:
As shown in the example, the
show running
config
| section dhcp
command output displays the DHCPv4 commands configured on R1.
The
| section
parameter displays only the commands associated with DHCPv4
configuration.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
-0.002 Tc 0.002 Tw (:
Configure a Cisco IOS DHCPv4 Server
Verify DHCPv4 Bindings
As shown in the example, the operation of DHCPv4 can be
verified using the
show ip dhcp binding
command. This command displays a list of all
IPv4 address to MAC address bindings that have been provided by the DHCPv4 service.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
-0.002 Tc 0.002 Tw (:
T)2 (he output )]TJ
(of the
Configure a Cisco IOS DHCPv4 Server
Verify DHCPv4 Statistics
The output
show ip dhcp server
statistics
is used to verify that
messages are being received or sent by
the router. This command displays count
information regarding the number of
DHCPv4 messages that have been sent
and received.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
-0.003 Tc 0.003 Tw 0 -1.2 TD
-0.005 Tc 0.005 Tw (:
/TT1 1 Tf
/TT0 1 Tf
-0.018 Tw T*
-0.026 Tw T*
-0.01 Tw T*
-0.026 Tw T*
-0.01 Tw T*
-0.018 Tw T*
Configure a Cisco IOS DHCPv4 Server
Verify DHCPv4 Client Received IPv4
Addressing
The
ipconfig
/all
command, when issued on PC1,
displays the TCP/IP parameters, as
shown in the example. Because PC1
was connected to the network
segment 192.168.10.0/24, it
automatically received a DNS suffix,
IPv4 address, subnet mask, default
gateway, and DNS server address
from that pool. No DHCP
specific
router interface configuration is
required. If a PC is connected to a
network segment that has a DHCPv4
pool available, the PC can obtain an
IPv4 address from the appropriate
pool automatically.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
(the
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
Configure a Cisco IOS DHCPv4 Server
Disable the Cisco IOS DHCPv4 Server
The DHCPv4 service is
enabled by
default.
To disable the service, use
no service dhcp
global
configuration mode command.
Use the
service dhcp
global
configuration mode command to re
enable the DHCPv4 server process,
as shown in the example.
Enabling the service has no effect if
the parameters are not configured.
Note
: Clearing the DHCP bindings
or stopping and restarting the DHCP
service may result in duplicate IP
addresses being temporarily
assigned on the network.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.001 Tw 0 -1.197 TD
EMC
Configure a Cisco IOS DHCPv4 Server
DHCPv4 Relay
In a complex hierarchical network, enterprise servers are usually located centrally. These servers may
provide
DHCP, DNS, TFTP, and FTP services for the network
. Network clients are
not
typically
on the
same subnet as those servers
. In order to locate the servers and receive services, clients often use
broadcast
messages.
In the figure, PC1 is attempting to acquire an IPv4 address from a DHCPv4 server using a broadcast
message. In this scenario, R1 is
not
configured as a DHCPv4 server and
does not
forward the
broadcast
. Because the DHCPv4 server is located on a different network, PC1
cannot
receive an IP
address using DHCP. R1
must
be configured to
relay DHCPv4 messages
to the DHCPv4 server.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
/TT0 1 Tf
EMC
0.008 Tw T*
(to the
Configure a Cisco IOS DHCPv4 Server
Configure R1 with the
ip helper
address
address
interface configuration command.
This will cause R1 to relay DHCPv4 broadcasts to the DHCPv4 server
. As shown in
the example, the interface on R1 receiving the broadcast from PC1 is configured to
relay DHCPv4 address to the DHCPv4 server at 192.168.11.6.
When R1 has been configured as a
DHCPv4 relay agent
, it accepts broadcast
requests for the DHCPv4 service and then forwards those requests as a
unicast
IPv4 address
The network administrator can use the
show ip
interface
command to verify the configuration.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
(the
/TT0 1 Tf
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Configure a Cisco IOS DHCPv4 Server
Other Service Broadcasts Relayed
DHCPv4 is not the only service that the router can be configured to relay. By default,
ip helper
address
command forwards the following
eight UDP services
Port 37: Time
Port 49: TACACS
Port 53: DNS
Port 67: DHCP/BOOTP server
Port 68: DHCP/BOOTP client
Port 69: TFTP
Port 137: NetBIOS name service
Port 138: NetBIOS datagram service
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Configure a Cisco IOS DHCPv4 Server
Packet Tracer
Configure DHCPv4
In this Packet Tracer Activity, you will complete the following objectives:
Part 1: Configure a Router as a DHCP Server
Part 2: Configure DHCP Relay
Part 3: Configure a Router as a DHCP Client
Part 4: Verify DHCP and Connectivity
7.3 Configure a DHCPv4
Client
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.029 Tw 0 -1.197 TD
/TT1 1 Tf
/TT0 1 Tf
EMC
-0.02 Tw T*
0.001 Tw T*
/TT1 1 Tf
Configure a DHCPv4 Client
Cisco Router as a DHCPv4 Client
There are scenarios where you might have access to a DHCP server through your ISP. In these
instances, you can configure a Cisco IOS
router
as a
DHCPv4 client
Sometimes, Cisco routers in a
small office
and
branch sites
have to be
configured as
DHCPv4 clients
in a similar manner to client computers. The method used depends
on the ISP. However, in its simplest configuration, the
Ethernet interface
is used to connect to a
cable or DSL modem
To configure an
Ethernet interface as a DHCP client
, use the
address
dhcp
interface
configuration mode command.
In the figure, assume that an ISP has been configured to provide select customers with IP
addresses from the 209.165.201.0/27 network range after the G0/0/1 interface is configured with
the
address
dhcp
command.
interface g0/0/1
ip address dhcp
no shut
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
-0.029 Tw 0 -1.197 TD
EMC
Configure a DHCPv4 Client
Configuration Example
To configure an
Ethernet interface
as a DHCP client, use the
ip address dhcp
interface configuration
mode command, as shown in the example. This configuration assumes that the ISP has been configured
to provide select customers with IPv4 addressing information.
The
show ip interface g0/0/1
command confirms that the interface is up and that the address was
allocated by a DHCPv4 server.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
-0.01 Tw 0 -1.2 TD
/TT1 1 Tf
DHCP
-0.018 Tw [(and )-8 (act)2 (s as a )]TJ
EMC
Configure a DHCPv4 Client
Home Router as a DHCPv4 Client
Home routers
are typically already set to
receive IPv4 addressing
information automatically from the
ISP
. This is so that customers can easily set up the router and connect to the internet.
For example, the figure shows the default WAN setup page for a Packet Tracer wireless router.
Notice that the internet connection type is set to
Automatic Configuration
This
selection is used when the
router
connected
a DSL or cable modem
and acts as a
DHCPv4
client
, requesting an IPv4 address from the ISP.
Various manufacturers of home routers will have a similar setup.
7.4 Module Practice and Quiz
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
Module Practice and Quiz
Packet Tracer
Implement DHCPv4
In this Packet Tracer, you will complete the following objectives:
Part 1: Configure a Router as a DCHP Server
Part 2: Configure DCHP Relay
Part 3: configure a Router as a DCHP Client
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(Lab
Module Practice and Quiz
Implement DHCPv4
In this lab, you will complete the following objectives:
Part 1: Build the Network and Configure Basic Device Settings
Part 2: Configure and Verify Two DHCPv4 Servers on R1
Part 3: Configure and Verify a DHCP Relay on R2
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
-0.003 Tw T*
-0.02 Tw T*
EMC
-0.02 Tw T*
EMC
-0.001 Tc -0.02 Tw T*
0 Tc 0 Tw (-
-0.004 Tc -0.017 Tw T*
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
0.004 Tc -0.004 Tw (,
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
Module Practice and Quiz
What Did I Learn In This Module?
The DHCPv4 server dynamically assigns, or leases, an IPv4 address to a client from a pool of addresses
for a limited period of time chosen by the server, or until the client no longer needs the address.
The DHCPv4 lease process begins with the client sending message requesting the services of a DHCP
server. If there is a DHCPv4 server that receives the message it will respond with an IPv4 address and
possible other network configuration information.
The client must contact the DHCP server periodically to extend the lease. This lease mechanism ensures
that clients that move or power off do not keep addresses that they no longer need.
step process to obtain a
lease: DHCPDISCOVER, then DHCPOFFER, then DHCPREQUEST, and finally DHCPACK. Prior to lease
expiration, the client begins a two
step process to renew the lease with the DHCPv4 server:
DHCPREQUEST then DHCPACK.
A Cisco router running Cisco IOS software can be configured to act as a DHCPv4 server.
Use the following steps to configure a Cisco IOS DHCPv4 server: exclude IPv4 addresses, define a
DHCPv4 pool name, and configure the DHCPv4 pool.
Verify your configuration using the
show running
config | section dhcp
show ip dhcp binding
, and
show ip dhcp server statistics
commands.
The DHCPv4 service is enabled, by default. To disable the service, use the
no service dhcp
global
configuration mode command.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT2 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
Module Practice and Quiz
Network clients are not typically on the same subnet as enterprise servers providing DHCP, DNS, TFTP, and
FTP services for the network. In order to locate the servers and receive services, clients often use broadcast
messages. The router must be configured to relay DHCPv4 messages to the DHCPv4 server.
The network administrator can configure the router with the
ip helper
address
address
interface configuration
command and use the
show ip interface
command to verify the configuration.
By default, the ip helper
address command forwards the following eight UDP services:
Port 37: Time
Port 49: TACACS
Port 53: DNS
Port 67: DHCP/BOOTP server
Port 68: DHCP/BOOTP client
Port 69: TFTP
Port 137: NetBIOS name service
Port 138: NetBIOS datagram service
To configure an Ethernet interface as a DHCP client, use the
ip address dhcp
interface configuration mode
command.
Home routers are typically already set to receive IPv4 addressing information automatically from the ISP. The
internet connection type is set to Automatic Configuration
DHCP. This selection is used when the router is
connected to a DSL or cable modem and acts as a DHCPv4 client, requesting an IPv4 address from the ISP.
Module 8: VPN and IPsec
Concepts
Enterprise Networking, Security,
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT2 1 Tf
Module Objectives
Module Title:
VPN and IPsec Concepts
Module Objective
: Explain how VPNs and IPsec are used to secure site
site and remote
access connectivity
Topic Title
Topic Objective
VPN Technology
Describe the benefits of VPN technology.
Types of VPNs
Describe different types of VPNs.
IPsec
Explain how the IPsec framework is used to secure
network traffic.
8.1 VPN Technology
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
0.008 Tw 0 -1.203 TD
EMC
VPN Technology
Virtual Private Networks
create end
end private network
connections.
A VPN is virtual in that it carries
information within a private network,
but that information is actually
transported over a public network.
A VPN is private in that the traffic is
encrypted to keep the data confidential
while it is transported across the public
network.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
EMC
q 1 0 0 1 137.2897 251.3513 cm
q 1 0 0 1 33.5135 221.6513 cm
q 1 0 0 1 33.5135 180.8513 cm
q 1 0 0 1 33.5135 151.6512 cm
q 1 0 0 1 33.5135 110.8513 cm
q 1 0 0 1 34.0135 251.3513 cm
q 1 0 0 1 686.0134 251.3513 cm
q 1 0 0 1 33.5135 250.8513 cm
q 1 0 0 1 33.5135 53.2513 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
-0.029 Tw 0 -1.197 TD
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
-0.029 Tw 0 -1.197 TD
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
VPN Technology
VPN Benefits
Modern VPNs now support encryption features, such as Internet Protocol Security
Major benefits of VPNs are shown in the table:
Benefit
Description
Cost Savings
Organizations can use VPNs to reduce their connectivity costs while simultaneously
increasing remote connection bandwidth.
Security
Encryption and authentication protocols protect data from unauthorized access.
Scalability
VPNs allow organizations to use the internet, making it easy to add new users without
adding significant infrastructure.
Compatibility
VPNs can be implemented across a wide variety of WAN link options including
broadband technologies. Remote workers can use these high
speed connections to
gain secure access to corporate networks.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
VPN Technology
Site
Site and Remote Access VPNs
A site
site VPN is terminated on VPN gateways. VPN traffic is only encrypted
between the gateways. Internal hosts have no knowledge that a VPN is being used.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
VPN Technology
Site
A remote
access VPN is dynamically created to establish a secure connection between a
client and a VPN terminating device.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
/TT0 1 Tf
-0.029 Tw 0 -1.197 TD
-0.02 Tw T*
0 Tc -0.021 Tw 0 -1.197 TD
EMC
/TT0 1 Tf
VPN Technology
Enterprise and Service Provider VPNs
VPNs can be managed and
deployed as:
Enterprise VPNs
common solution
for securing enterprise traffic across
the internet. Site
site and remote
access VPNs are created and
managed by the enterprise using
IPsec and SSL VPNs.
Service Provider VPNs
created
and managed by the provider
network. The provider uses
Multiprotocol Label Switching
create secure channels between an
segregating the traffic from other
customer traffic.
8.2 Types of VPNs
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
0 Tc 0 Tw (-
EMC
0 Tw 0 -1.203 TD
EMC
0 Tw T*
EMC
/TT0 1 Tf
0 Tw 0 -1.143 TD
EMC
Clien)2 (t)]TJ
/TT0 1 Tf
Types of VPNs
Remote
Access VPNs
Remote
access VPNs let remote and
mobile users securely connect to the
enterprise.
Remote
access VPNs are typically enabled
dynamically by the user when required and
can be created using either IPsec or SSL.
Clientless VPN connection
The
connection is secured using a web
browser SSL connection.
Client
based VPN connection
VPN
client software such as Cisco AnyConnect
Secure Mobility Client must be installed on
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
EMC
q 1 0 0 1 207.4507 243.9743 cm
q 1 0 0 1 430.3255 243.9743 cm
q 1 0 0 1 40.3257 214.2743 cm
q 1 0 0 1 40.3257 178.2743 cm
q 1 0 0 1 40.3257 142.2743 cm
q 1 0 0 1 40.3257 106.2743 cm
q 1 0 0 1 40.3257 70.2743 cm
q 1 0 0 1 40.8257 243.9743 cm
q 1 0 0 1 692.8256 243.9743 cm
q 1 0 0 1 40.3257 243.4743 cm
q 1 0 0 1 40.3257 34.2743 cm
EMC
/TT1 1 Tf
EMC
EMC
(SSL
EMC
/TT0 1 Tf
0 Tc 0 Tw (
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0 Tc 0 Tw (
EMC
/TT1 1 Tf
/TT0 1 Tf
one
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0 Tc 0 Tw (
256 bi)6 (t)2 (s)]TJ
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
(Low
R)6 (eq)10 (ui)6 (r)7 (es)4 ( w)16 (eb br)7 (ow)16 (s)4 (er)7 ( on a hos)4 (t)]TJ
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (
Types of VPNs
SSL VPNs
SSL uses the public key infrastructure and digital certificates to authenticate peers.
The type of VPN method implemented is based on the access requirements of the
remote access deployments.
Feature
IPsec
Applications supported
Extensive
All IP
based applications
Limited
Only web
based applications and
file sharing
Authentication strength
Strong
Two
way authentication with
shared keys or digital certificates
Moderate
way or two
way
authentication
Encryption strength
Strong
Key lengths 56
256 bits
Moderate to strong
Key lengths 40
bits
Connection complexity
Medium
Requires VPN client
installed on a host
Requires web browser on a host
Connection option
Limited
Only specific devices with
specific configurations can connect
Extensive
Any device with a web browser
can connect
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
Types of VPNs
Site
Site IPsec VPNs
Site
site VPNs connect networks
across an untrusted network such as the
internet.
End hosts send and receive normal
unencrypted TCP/IP traffic through a VPN
gateway.
The VPN gateway encapsulates and
encrypts outbound traffic from a site and
sends the traffic through the VPN tunnel
to the VPN gateway at the target site.
The receiving VPN gateway strips the
headers, decrypts the content, and relays
the packet toward the target host inside
its private network.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
-0.007 Tw T*
EMC
EMC
Types of VPNs
GRE over IPsec
secure site
site VPN tunneling
protocol.
A GRE tunnel can encapsulate various network layer protocols as well as multicast
and broadcast traffic.
GRE does not by default support encryption; and therefore, it does not provide a
secure VPN tunnel.
A GRE packet can be encapsulated into an IPsec packet to forward it securely to
the destination VPN gateway.
Standard IPsec VPNs (non
traffic.
Encapsulating GRE into IPsec allows multicast routing protocol updates to be
secured through a VPN.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Types of VPNs
The terms used to describe the encapsulation of GRE over IPsec tunnel are
passenger protocol, carrier protocol, and transport protocol.
Passenger protocol
This is the original packet that is to be encapsulated by
GRE. It could be an IPv4 or IPv6 packet, a routing update, and more.
Carrier protocol
GRE is the carrier protocol that encapsulates the original
passenger packet.
Transport protocol
This is the protocol that will actually be used to forward the
packet. This could be IPv4 or IPv6.
Types of VPNs
For example, Branch and HQ need to exchange OSPF routing information over an
IPsec VPN. GRE over IPsec is used to support the routing protocol traffic over the
IPsec VPN tunnel.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
EMC
EMC
and
EMC
EMC
0.008 Tw T*
-0.007 Tw 0 -1.143 TD
EMC
-0.007 Tw 0 -1.143 TD
Types of VPNs
Dynamic Multipoint VPNs
Site
site IPsec VPNs and GRE over IPsec are not sufficient when the enterprise
solution for building multiple VPNs in an easy, dynamic, and scalable manner.
DMVPN simplifies the VPN tunnel configuration and provides a flexible option to
connect a central site with branch sites.
It uses a hub
spoke configuration to establish a full mesh topology.
Spoke sites establish secure VPN tunnels with the hub site.
The mGRE tunnel interface allows a single GRE interface to dynamically support
multiple IPsec tunnels.
Spoke sites can also obtain information about each other, and alternatively build
direct tunnels between themselves (spoke
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
0 Tw T*
EMC
0.008 Tw T*
EMC
and
Types of VPNs
IPsec Virtual Tunnel Interface
support multiple sites and remote access.
IPsec VTI configurations are applied to a virtual interface instead of static mapping
the IPsec sessions to a physical interface.
IPsec VTI is capable of sending and receiving both IP unicast and multicast
encrypted traffic. Therefore, routing protocols are automatically supported without
having to configure GRE tunnels.
IPsec VTI can be configured between sites or in a hub
spoke topology.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
-0.007 Tw 0 -1.203 TD
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Types of VPNs
Service Provider MPLS VPNs
Today, service providers use MPLS in their core network. Traffic is forwarded through
the MPLS backbone using labels. Traffic is secure because service provider
MPLS can provide clients with managed VPN solutions; therefore, securing traffic
between client sites is the responsibility of the service provider.
There are two types of MPLS VPN solutions supported by service providers:
Layer 3 MPLS VPN
The service provider participates in customer routing by establishing a
Layer 2 MPLS VPN
The service provider is not involved in the customer routing. Instead,
effectively belong to the same multiaccess network.
8.3 IPsec
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
IPSec
Video
IPsec Concepts
This video will cover the following:
The purpose of IPsec
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.012 Tw T*
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
0 Tc 0 Tw (
EMC
Hellm)1.8 (an)]TJ
/TT0 1 Tf
IPSec
IPsec Technologies
IPsec is an IETF standard that defines how a VPN can be secured across
IP networks. IPsec protects and authenticates IP packets between source
and destination and provides these essential security functions:
Confidentiality
Uses encryption algorithms to prevent cybercriminals from
reading the packet contents. AES and DES are encryption algorithms to provide
data confidentiality.
Integrity
Uses hashing algorithms to ensure that packets have not been altered
between source and destination. MD5 and SHA are two popular algorithms used
to ensure data is not modified.
Origin authentication
authenticate source and destination. RSA is an algorithm used for authentication.
Diffie
Hellman
Used to secure key exchange. Examples are DH14, DH15.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
-0.015 Tw T*
0 Tw 0 -1.203 TD
EMC
IPSec
IPsec is not bound to any specific rules
for secure communications.
IPsec can easily integrate new security
technologies without updating existing
IPsec standards.
The open slots in the IPsec framework
shown in the figure can be filled with any
of the choices that are available for that
IPsec function to create a unique security
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.015 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
EMC
-0.007 Tw 0 -1.203 TD
-0.015 Tw 0 -1.203 TD
0.002 Tc -0.002 Tw 0 -1.203 TD
EMC
-0.015 Tw T*
0 Tw 0 -1.203 TD
EMC
-0.003 Tw 0 -1.137 TD
EMC
IPSec
IPsec Protocol Encapsulation
Choosing the IPsec protocol
encapsulation is the first building block
of the framework.
IPsec encapsulates packets using
Encapsulation Security Protocol
The choice of AH or ESP establishes
which other building blocks are
available.
AH is appropriate only when
confidentiality is not required or permitted.
ESP provides both confidentiality and
authentication.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
0 Tw T*
EMC
0.008 Tw 0 -2.887 TD
0 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
IPSec
Confidentiality
The degree of confidentiality
depends on the encryption
algorithm and the length of the
key used in the encryption
algorithm.
The number of possibilities to try
to hack the key is a function of the
length of the key
the shorter the
key, the easier it is to break.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
EMC
EMC
0 Tw 0 -1.143 TD
EMC
0.008 Tw T*
0 Tw 0 -1.143 TD
IPSec
The encryption algorithms highlighted in
the figure are all symmetric key
cryptosystems:
DES uses a 56
bit key.
3DES uses three independent 56
bit
encryption keys per 64
bit block.
AES offers three different key
lengths: 128 bits, 192 bits, and 256
bits.
SEAL is a stream cipher, which
means it encrypts data continuously
rather than encrypting blocks of data.
SEAL uses a 160
bit key.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
0 Tw T*
EMC
0.008 Tw T*
EMC
EMC
IPSec
Integrity
Data integrity means that the data
has not changed in transit.
A method of proving data integrity is
required.
The Hashed Message Authentication
algorithm that guarantees the integrity
of the message using a hash value.
Message
bit shared
secret key. MD5 is no
longer secure and should be
avoided.
uses a 160
bit secret key and are
more secure.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
Pre
/TT0 1 Tf
EMC
EMC
EMC
EMC
/TT1 1 Tf
-0.002 Tc 0.002 Tw T*
/TT0 1 Tf
EMC
IPSec
Authentication
There are two IPsec peer authentication
methods:
is entered into each peer manually.
Easy to configure manually
Does not scale well
Must be configured on every peer
Rivest, Shamir, and Adleman
authentication uses digital
certificates to authenticate the peers.
Each peer must authenticate its opposite
peer before the tunnel is considered
secure.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
0 Tc 0 Tw (-
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
0.008 Tw 0 -2.887 TD
-0.015 Tw 0 -1.203 TD
EMC
0.001 Tw 0 -1.137 TD
EMC
-0.012 Tw T*
-0.02 Tw 0 -1.137 TD
EMC
IPSec
Secure Key Exchange with Diffie
Hellman
DH provides allows two peers to establish
a shared secret key over an insecure
channel.
Variations of the DH key exchange are
specified as DH groups:
DH groups 1, 2, and 5 should no longer be
used.
DH groups 14, 15, and 16 use larger key
sizes with 2048 bits, 3072 bits, and 4096
bits, respectively
DH groups 19, 20, 21 and 24 with respective
key sizes of 256 bits, 384 bits, 521 bits, and
2048 bits support Elliptical Curve
needed to generate keys.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
IPSec
Video
IPsec Transport and Tunnel Mode
This video will explain the process of the IPv4 packet with ESP in transport
mode and in tunnel mode.
8.4 Module Practice and Quiz
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Module Practice and Quiz
What did I learn in this module?
A VPN is private in that the traffic is encrypted to keep the data confidential while it is
transported across the public network.
Benefits of VPNs are cost savings, security, scalability, and compatibility.
Remote
access VPNs let remote and mobile users securely connect to the enterprise by
creating an encrypted tunnel. Remote access VPNs can be created using either IPsec or
SSL.
Site
site VPNs are used to connect networks across an untrusted network such as the
internet.
In a site
site VPN, end hosts send and receive normal unencrypted TCP/IP traffic through
a VPN terminating device. The VPN terminating device is typically called a VPN gateway.
GRE is a non
secure site
site VPN tunneling protocol.
DMVPN is a Cisco software solution for easily building multiple, dynamic, scalable VPNs.
Like DMVPNs, IPsec VTI simplifies the configuration process required to support multiple
sites and remote access.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
0 Tw T*
EMC
Module Practice and Quiz
IPsec protects and authenticates IP packets between source and destination.
IPsec can protect traffic from Layer 4 through Layer 7.
Using the IPsec framework, IPsec provides confidentiality, integrity, origin authentication, and
Diffie
Hellman.
IPsec encapsulates packets using AH or ESP.
The degree of confidentiality depends on the encryption algorithm and the length of the key
used in the encryption algorithm.
DH provides a way for two peers to establish a shared secret key that only they know, even
though they are communicating over an insecure channel.
Module 7: WAN Concepts
Enterprise Networking, Security,
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
q 1 0 0 1 279.5287 256.4958 cm
q 1 0 0 1 59.8869 238.9258 cm
q 1 0 0 1 59.8869 203.9534 cm
q 1 0 0 1 59.8869 179.0774 cm
q 1 0 0 1 59.8869 144.105 cm
q 1 0 0 1 59.8869 109.1325 cm
q 1 0 0 1 60.3869 256.4958 cm
q 1 0 0 1 659.133 256.4958 cm
q 1 0 0 1 59.8869 255.9958 cm
q 1 0 0 1 59.8869 74.1601 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
Module Objectives
Module Title:
WAN Concepts
Module Objective
: Explain how WAN access technologies can be used to satisfy business
requirements.
Topic Title
Topic Objective
Purpose of WANs
Explain the purpose of a WAN.
WAN Operations
Explain how WANs operate.
Traditional WAN Connectivity
Compare traditional WAN connectivity options.
Modern WAN Connectivity
Compare modern WAN connectivity options.
Internet
Based Connectivity
Compare internet
based connectivity options.
7.1 Purpose of WANs
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
q 1 0 0 1 217.5816 281.3242 cm
q 1 0 0 1 26.3926 260.4235 cm
q 1 0 0 1 26.3926 226.8227 cm
q 1 0 0 1 26.3926 180.0219 cm
q 1 0 0 1 26.3926 133.2211 cm
q 1 0 0 1 26.3926 86.4203 cm
q 1 0 0 1 26.8926 281.3242 cm
q 1 0 0 1 407.4713 281.3242 cm
q 1 0 0 1 26.3926 280.8242 cm
q 1 0 0 1 26.3926 39.6195 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
-0.026 Tw 0 -1.196 TD
EMC
-0.015 Tw T*
EMC
-0.037 Tw T*
0.002 Tw T*
EMC
-0.026 Tw T*
EMC
-0.015 Tw T*
EMC
-0.004 Tw T*
EMC
-0.026 Tw T*
-0.004 Tw 0 -1.196 TD
EMC
0.002 Tw 0 -1.196 TD
EMC
-0.004 Tw 0 -1.196 TD
0.024 Tc -0.024 Tw 0 -1.196 TD
Purpose of WANs
LANs and WANs
A WAN is a telecommunications network that spans over a relatively large geographical
area and is required to connect beyond the boundary of the LAN.
LANs provide networking services
within a small geographic area.
WANs provide networking services
over large geographical areas.
LANs are used to interconnect local
computers, peripherals, and other
devices.
WANs are used to interconnect
remote users, networks, and sites.
A LAN is owned and managed by
an organization or home user.
WANs are owned and managed by
internet service, telephone, cable,
and satellite providers.
Other than the network
infrastructure costs, there is no fee
to use a LAN.
WAN services are provided for a
fee.
LANs provide high bandwidth
speeds using wired Ethernet and
Fi services.
WANs providers offer low to high
bandwidth speeds, over long
distances.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Purpose of WANs
Private and Public WANs
A private WAN is a connection that is dedicated to a single customer.
Private WANs provide the following:
Guaranteed service level
Consistent bandwidth
Security
A public WAN connection is typically provided by an ISP or telecommunications service
provider using the internet. In this case, the service levels and bandwidth may vary, and
the shared connections do not guarantee security.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
Hub
and
EMC
Dual
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
Purpose of WANs
WAN Topologies
WANs are implemented using the following logical topology designs:
Point
Point Topology
Spoke Topology
homed Topology
Fully Meshed Topology
Partially Meshed Topology
Note
: Large networks usually deploy a combination of these topologies
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
EMC
/TT0 1 Tf
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
Purpose of WANs
Point
Point Topology
Employs a point
point circuit between two endpoints.
Involves a Layer 2 transport service through the service provider network.
The point
point connection is transparent to the customer network.
Note
: It can become expensive if many point
point connections are required.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
0 Tc 0 Tw (-
EMC
/TT0 1 Tf
EMC
0.015 Tw 0 -1.203 TD
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
Purpose of WANs
Hub
and
Spoke Topology
Enables a single interface on the hub router to be shared by all spoke circuits.
Spoke routers can be interconnected through the hub router using virtual circuits and
routed subinterfaces.
Spoke routers can only communicate with each other through the hub router.
Note:
The hub router represents a
single point of failure. If it fails, inter
spoke communication also fails.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
Purpose of WANs
Dual
homed Topology
Offers enhanced network redundancy, load balancing, distributed computing and
processing, and the ability to implement backup service provider connections.
More expensive to implement than single
homed topologies. This is because they
require additional networking hardware, such as additional routers and switches.
More difficult to implement because they require additional, and more complex,
configurations.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
/GS0 gs
/Im0 Do
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
Purpose of WANs
Fully Meshed Topology
Uses multiple virtual circuits to connect all
sites
The most fault
tolerant topology
Partially Meshed Topology
Connects many but not all sites
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
0.008 Tw 0 -2.782 TD
-0.007 Tw 0 -1.203 TD
Purpose of WANs
Carrier Connections
Another aspect of WAN design is how an organization connects to the internet. An
SLA outlines the expected services relating to the reliability and availability of the
connection.
The service provider may or may not be the actual carrier. A carrier owns and maintains
the physical connection and equipment between the provider and the customer. Typically,
an organization will choose either a single
carrier or dual
carrier WAN connection.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw 0 -2.782 TD
Purpose of WANs
A single
carrier connection is when an
organization connects to only one
service provider. An SLA is negotiated
between the organization and the
service provider.
A dual
carrier connection provides
redundancy and increases network
availability. The organization negotiates
separate SLAs with two different service
providers.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
EMC
-0.007 Tw T*
EMC
Purpose of WANs
Evolving Networks
Network requirements of a company can change dramatically as the company grows
over time.
A network must meet the day
day operational needs of business, and it must be
able to adapt and grow as a company changes.
Network designers and administrators meet these challenges by carefully
choosing network technologies, protocols, and service providers.
Networks can be optimized by using a variety of network design techniques and
architectures.
To illustrate differences between network size, we will use a fictitious company called
SPAN Engineering as it grows from a small, local, business into a global enterprise.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
-0.007 Tw 0 -1.391 TD
0 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
EMC
EMC
0 Tw 0 -1.203 TD
-0.007 Tw T*
0 Tw 0 -1.203 TD
EMC
Purpose of WANs
Small Network
SPAN, a small fictitious company,
started with a few employees in a
small office.
Uses a single LAN connected to
a wireless router for sharing
data and peripherals.
Connection to the internet is
through a common broadband
service called Digital Subscriber
IT support is contracted from the
DSL provider.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0 Tc 0.015 Tw 0 -1.391 TD
0.008 Tw 0 -1.203 TD
EMC
0 Tw 0 -1.203 TD
EMC
-0.007 Tw T*
EMC
Purpose of WANs
Campus Network
Within a few years SPAN grew and
required several floors of a building.
The company now required a
A firewall secures internet
access to corporate users.
house IT staff to support and
maintain the network.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
EMC
0 Tw T*
EMC
Purpose of WANs
Branch Network
A few years later, the company
expanded and added a branch site
in the city, and remote and regional
sites in other cities.
The company now required a
to interconnect sites within the city.
To connect to the central office,
branch offices in nearby cities used
private dedicated lines through
their local service provider.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0 Tw 0 -1.203 TD
EMC
Purpose of WANs
Distributed Network
SPAN Engineering has now
been in business for 20 years
and has grown to thousands of
employees distributed in offices
worldwide.
Site
site and remote access
enable the company to use the
internet to connect easily and
securely with employees and
facilities around the world.
7.2 WAN Operation
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.005 Tw 0 -1.2 TD
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
WAN Operations
WAN Standards
Modern WAN standards are defined and managed by a number of
recognized authorities including the following:
TIA/EIA
Telecommunications Industry Association and Electronic Industries
Alliance
ISO
International Organization for Standardization
IEEE
Institute of Electrical and Electronics Engineers
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
-0.002 Tc 0.002 Tw 0 -1.391 TD
EMC
/TT0 1 Tf
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
EMC
EMC
EMC
EMC
EMC
WAN Operations
WANs in the OSI Model
Most WAN standards focus on the physical
layer and the data link layer.
Layer 1 Protocols
Layer 2 Protocols
Wireless
Point
High
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw T*
EMC
q 1 0 0 1 168.5272 249.676 cm
q 1 0 0 1 33.5135 228.7752 cm
q 1 0 0 1 33.5135 195.1744 cm
q 1 0 0 1 33.5135 161.1823 cm
q 1 0 0 1 33.5135 127.1902 cm
q 1 0 0 1 33.5135 93.198 cm
q 1 0 0 1 34.0135 249.676 cm
q 1 0 0 1 401.1434 249.676 cm
q 1 0 0 1 33.5135 249.176 cm
q 1 0 0 1 33.5135 46.3972 cm
EMC
/TT1 1 Tf
EMC
EMC
-0.015 Tw 0 -1.196 TD
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
-0.015 Tw T*
EMC
/TT0 1 Tf
0.002 Tw T*
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
-0.026 Tw T*
EMC
/TT1 1 Tf
WAN Operations
Common WAN Terminology
There are specific terms used to describe WAN
connections between the subscriber (i.e., the
WAN Term
Description
Data Terminal
Connects the subscriber LANs to the WAN
communication device
Data Communications
Device used to communicate with the
provider
Customer Premises
This is the DTE and DCE devices located on
the enterprise edge
Point
Presence
The point where the subscriber connects to
the service provider network
Demarcation Point
The physical location in a building or
complex that officially separates the CPE
from service provider equipment.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
q 1 0 0 1 154.265 307.6455 cm
q 1 0 0 1 23.6154 286.7447 cm
q 1 0 0 1 23.6154 253.1439 cm
q 1 0 0 1 23.6154 206.3431 cm
q 1 0 0 1 23.6154 146.3424 cm
q 1 0 0 1 23.6154 112.3502 cm
q 1 0 0 1 24.1154 307.6455 cm
q 1 0 0 1 386.8812 307.6455 cm
q 1 0 0 1 23.6154 307.1455 cm
q 1 0 0 1 23.6154 65.5494 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
-0.015 Tw 0 -1.196 TD
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0.002 Tw 0 -1.196 TD
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
-0.015 Tw T*
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0 Tc 0 Tw (-
WAN Operations
WAN Term
Description
The copper or fiber cable that connects the
CPE to the CO of the service provider
The local service provider facility or building
that connects the CPE to the provider
network
Toll network
Includes backhaul, long
haul, all
digital,
fiber
optic communications lines, switches,
routers, and other equipment inside the
WAN provider network
Backhaul network
Connects multiple access nodes of the
service provider network
Backbone network
Large, high
capacity networks used to
interconnect service provider networks and
to create a redundant network.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
q 1 0 0 1 141.2103 314.4594 cm
q 1 0 0 1 33.5135 293.5586 cm
q 1 0 0 1 33.5135 259.9578 cm
q 1 0 0 1 33.5135 213.157 cm
q 1 0 0 1 33.5135 179.1649 cm
q 1 0 0 1 33.5135 145.1728 cm
q 1 0 0 1 33.5135 111.1806 cm
q 1 0 0 1 34.0135 314.4594 cm
q 1 0 0 1 401.9249 314.4594 cm
q 1 0 0 1 33.5135 313.9594 cm
q 1 0 0 1 33.5135 77.1885 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
EMC
/TT1 1 Tf
-0.004 Tw T*
EMC
/TT0 1 Tf
-0.005 Tc 0.005 Tw T*
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
0.039 Tw T*
EMC
/TT0 1 Tf
0.002 Tw T*
EMC
/TT1 1 Tf
-0.002 Tc 0.002 Tw T*
EMC
/TT0 1 Tf
0 Tc 0 Tw (-
WAN Operations
WAN Devices
There are many types of devices that are specific to WAN environments.
WAN Device
Description
Voiceband
Modem
Dial
up modem
uses telephone lines
Legacy device
DSL Modem /
Cable Modem
Collectively known as broadband modems, these
high
speed digital modems connect to the DTE
router using Ethernet.
CSU/DSU
Digital
leased lines require a CSU and a DSU. It
connects a digital device to a digital line.
Optical Converter
Connect fiber
optic media to copper media and
convert optical signals to electronic pulses.
Wireless Router /
Access Point
Devices are used to wirelessly connect to a WAN
provider.
WAN Core
devices
WAN backbone consists of multiple high
speed
routers and Layer 3 switches.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
0 Tw T*
-0.007 Tw 0 -1.203 TD
EMC
WAN Operations
Serial Communication
Almost all network communications
occur using a serial communication
delivery. Serial communication transmits
bits sequentially over a single channel.
In contrast, parallel communications
simultaneously transmit several bits
using multiple wires.
As the cable length increases, the
synchronization timing between multiple
channels becomes more sensitive to
distance. For this reason, parallel
communication is limited to very short
distances
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
-0.007 Tw T*
EMC
EMC
WAN Operations
Circuit
Switched Communication
A circuit
switched network establishes a
endpoints before the users can communicate.
Establishes a dedicated virtual connection
through the service provider network
before communication can start.
All communication uses the same path.
The two most common types of circuit
switched WAN technologies are the public
the legacy Integrated Services Digital
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.008 Tw T*
EMC
-0.007 Tw T*
EMC
EMC
EMC
EMC
EMC
WAN Operations
Packet
Switched Communication
Network communication is most commonly
implemented using packet
switched
communication.
Segments traffic data into packets that are
routed over a shared network.
Much less expensive and more flexible
than circuit switching.
Common types of packet
switched WAN
technologies are:
Frame Relay
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.008 Tw 0 -2.782 TD
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
(data
WAN Operations
SDH, SONET, and DWDM
Service provider networks use fiber
optic infrastructures to transport user data between
destinations. Fiber
optic cable is far superior to copper cable for long distance transmissions due
to its much lower attenuation and interference.
There are two optical fiber OSI layer 1 standards available to service providers:
SDH
fiber
optic cable.
SONET
provides the same services as SDH.
SDH/SONET
define how to transfer multiple data, voice, and video communications over optical
fiber using lasers or light
is a newer technology that increases the
carrying capacity of SDH and SONET by simultaneously sending multiple streams of data
7.3 Traditional WAN
Connectivity
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.008 Tw T*
EMC
0 Tw 0 -1.203 TD
EMC
Traditional WAN Connectivity
Traditional WAN Connectivity Options
To understand the WANs of today, it helps
to know where they started.
When LANs appeared in the 1980s,
organizations began to see the need to
interconnect with other locations.
To do so, they needed their networks to
connect to the local loop of a service
provider.
This was accomplished by using
dedicated lines, or by using switched
services from a service provider.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw T*
EMC
0.003 Tc -0.003 Tw T*
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Traditional WAN Connectivity
Common WAN Terminology
Point
service provider to use the line.
Leased lines are available in different fixed capacities and are generally priced
based on the bandwidth required and the distance between the two connected
points.
There are two systems used to define the digital capacity of a copper media serial
link:
carrier
Used in North America, T
carrier provides T1 links supporting bandwidth up to
1.544 Mbps and T3 links supporting bandwidth up to 43.7 Mbps.
carrier
Used in Europe, E
carrier provides E1 links supporting bandwidth up to 2.048
Mbps and E3 links supporting bandwidth up to 34.368 Mbps.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
q 1 0 0 1 132.6899 283.5021 cm
q 1 0 0 1 49.3198 282.0021 cm
q 1 0 0 1 49.3198 253.4746 cm
q 1 0 0 1 49.3198 219.4825 cm
q 1 0 0 1 49.8198 302.9029 cm
q 1 0 0 1 624.2451 302.9029 cm
q 1 0 0 1 49.3198 302.4029 cm
q 1 0 0 1 49.3198 172.6817 cm
EMC
/TT1 1 Tf
EMC
0.005 Tc -0.005 Tw 0 -1.848 TD
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
q 1 0 0 1 132.6899 140.0912 cm
q 1 0 0 1 49.3198 138.5912 cm
q 1 0 0 1 49.3198 91.7904 cm
q 1 0 0 1 49.8198 159.492 cm
q 1 0 0 1 624.2451 159.492 cm
q 1 0 0 1 49.3198 158.992 cm
q 1 0 0 1 49.3198 57.7983 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
Traditional WAN Connectivity
The table summarizes the advantages and disadvantages of leased lines.
Advantages
Simplicity
Point
point communication links require minimal expertise to install and maintain.
Quality
Point
point communication links usually offer high quality service, if they have adequate
bandwidth.
Availability
Constant availability is essential for some applications, such as e
commerce. Point
point
communication links provide permanent, dedicated capacity which is required for VoIP or Video
over IP.
Disadvantages
Cost
Point
point links are generally the most expensive type of WAN access. The cost of leased line
solutions can become significant when they are used to connect many sites over increasing
distances.
Limited
flexibility
WAN traffic is often variable, and leased lines have a fixed capacity, so that the bandwidth of the
line seldom matches the need exactly.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
-0.02 Tw T*
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
Traditional WAN Connectivity
Circuit
Switch Options
Circuit
switched connections are provided by Public Service Telephone Network
There are two traditional circuit
switched options:
Dialup WAN access uses the PSTN as its WAN connection. Traditional local loops can
transport binary computer data through the voice telephone network using a voiceband modem.
The physical characteristics of the local loop and its connection to the PSTN limit the rate of the
signal to less than 56 kbps.
ISDN is a circuit
switching technology that enables the PSTN local loop to carry digital signals.
This provided higher capacity switched connections than dialup access. ISDN provides for data
rates from 45 Kbps to 2.048 Mbps.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
0.008 Tw 0 -1.391 TD
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0.008 Tw 0 -1.203 TD
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
Traditional WAN Connectivity
Packet
Switch Options
Packet switching segments data into packets that are routed over a shared network. It allows
many pairs of nodes to communicate over the same channel.
switched options:
Frame Relay
Frame Relay is a simple Layer 2 non
broadcast multi
is used to interconnect enterprise LANs.
Frame Relay creates PVCs which are uniquely identified by a data
link connection identifier
data through private and public networks.
ATM is built on a cell
based architecture rather than on a frame
based architecture. ATM
cells are always a fixed length of 53 bytes.
Note
: Frame relay and ATM networks have been largely replaced by faster Metro Ethernet and internet
based solutions.
7.4 Modern WAN
Connectivity
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
EMC
EMC
Modern WAN Connectivity
Modern WANs
Modern WANS have more connectivity
options than traditional WANs.
Enterprises now require faster and more
flexible WAN connectivity options.
Traditional WAN connectivity options
have rapidly declined in use because
they are either no longer available, too
expensive, or have limited bandwidth.
The figure displays the local loop connections most
likely encountered today.
p'o'o&n%n%n$m$l$l!k/lvK22MLgZI~^ll`ZI~bll]ZDuillZTLkliZP
a.k0Nu2MhgZ9axcz{fZ9bxi{{`Z.Oaw{{[N=ezy{u[P
d].k%{NY?1gZ9axcz{fZ9bxi{{`Z.Oaw{{[N=ezy{u[P
c.u3y2x1w0v/u/u.u-t,s+r+r"i^].k@L2iwM2fZ9axcz{fZ9bxi{{`Z.Oaw{{[N=ezy{u[P
c.t5{6{5z4y3y2x1w0v0v/u.u&m`^].kL021MiheY8awby{fZ9bxi{{`Z.Oaw{{[N=ezy{u[P
`^].k@;:9~8}8}7}6|5{5z5z4y3y2x2x1w0v/u/u.u-t,s,s+r*q"h]hLZhiZwhhcWb|~~bXn~~dZm[Wxu[P
`^].kG?>=<;:9~9~8}7}6|5{6{5z4y3y2x2x1w0v/u/u.u-t(mYy^@22211&|%{bVVVWWWWXXXYYYZZZZZZZZZZZP
`^].kWBA
`^].kjFEDCCBA
`^]-j}IHHGFFEDCBA
`^]-jNMLKJIIHGFEDCBA
`^]-jRQPONMLKJIHHGFEDCBA
`^]-jYUTSRQPONMLKJIHHGFEDCBA
`^]-jcZYXWUTSRQPONMLKJIHHGFEDC8~
'a~XyHb=S%{iK,)Hx%#ux%#ux&#u]O8cz~
`^]-jjWWWWWWVUUTSRQPPONMMLKKJIBh
b`^][}a%{Mi%{Q}Zz]}
#kIVx&JYnUbx[LEOUVQNFRWWQPFXYYQOKYYYSJ4{Mj[NuVh
x%#ux%#ux&LN$ux&#u`-#ux& pv.uK&m8~YZL0ZpXoqZM1[qaqqVO(J
@|LZwwx%#uN!tw%#ux%#ux&LN$ux&#uW(
)=Q4"tx&#uv.uK&m8~YZK/YpWopYL1[q`qqUN(J[nrrPF7`uqtmRH3zWYZZZZZZZZZUh
`^]-jZZI}aii]ZCtiiiZTKiifZNNiidZD
u[MJWN[{p[ZZZN
Ox8'tm
(es*Yx%#ux%#uNfI#tx&#u4FN"tx&#u`T<YI.XoVmnWK/Yp^opSL'J[mpqOD5_sorlPG3zI/N`wyv[NBi~y{qVh
`^]-jZZ8`vj{{_Z-M^{{{ZN>ez{{uZCtEj{{oZD
?1M`O[{;~h1%{@l6
$Hx%#ux%#uM>YE #ux&#uB>V$ux&#u`T<XH.WnXnoVJ/YpeppSK'IZoqqNC~8auqskOG2yH.N`vyuZNBi~y{qVh
`^]-jZZ8`vj{{_Z-M^{{{ZN>ez{{uZCtEj{{oZD
h?%{]/sO[{c?{2wu>`T<WHJy~WIVXJ_MGpuOF2xG.N`twsXMAi}y{qVh
`^]-jYZ8`vj{{_Z-M^{{{ZN>ez{{uZCtEj{{oZD
%{i7w0lP[{DuA12`T<VGHHHHHHHHIIIJJJJKKKLLLLME1xE-M_svsWL
`^]-jXY7`ui{{_Z-M^{{{ZN>ez{{uZCtEj{{oZD
?1JWP[{rZ2ju`T<UGGGGHHHHHHHHIIIJJJJKKKKLD1xE2Sfz}}VJHq
`^]-jWX<g|waZ3UgZNHo
`^]-jVWb}~~aYm~~ZWyuZNuZD
`^]-jVVVVWWWXXXYYYYZZZZZZZZZZZD
16v0mP[{Du>Nt`T<SD+UlSijSF,Vm[klNG$GXilmI?y2[qkmgJB/vKMNNOPQRSTUQ
v1IWP[{qXNt`T<SC*TkRhiRE,VlZkkMF$GXhklI?y2[qkmfIA/vB1[qdedPHAoikeQ
`^]-jTT<kdppZV5^sqqqWNDprroYH}JvttkZD>ZZZZZZZZZZZJ
3_mRv""vv""vRmvL^P[{BjwL`T<RB*TkQ
%TI%
%TI%
%Tv"@kp,"K=K_*?vv"@kp,"v5t%fP[{Dt<ROzQpzb/|3c0v.uK&m8~YQA
`^]-jQQ2[qduuXS)J[uvvTJ;bwwxqV@qCi}yymXB>NAh|xxpZCtRxxjJ
Vv""vK
'qK"vK
`^]-jPP2[qcttWR)J[uuuSI:bwvwqU?pBh|xxlWB>NBh}{{qZCtS{{kJ
Zv"Kv""v=
Z^*"vv""v=
Z=f=fKKK"vf=v"==ff
Zv"qK"vf==1v"q]cbZ{v
vq@QPa1b@bPq@A$C~v.uK&m8~YP??@@@@A
*>R4"vv""vv""vv""vKKKKK"vf@-=v"Kv""vK"vK"vv""v^6y{
cZ{N{
eHB~2~
"C~1@v.uK&m8~YO>(RjMabM@)SjTccHA
`^]-jNNciijVPdjjjRRkklfSZmmmhU@
Zv"Kv""v=f1]="vv""v=f=f=fKKK"vfK1==qv""vK"vfFv""v5t%fZ
8k
?8}/x*u6}@JUbt&m8~YN>'RiNdeM?(RjWffGA
`^]-jMMNNNOOOOPPPQQQQRRRSSSTTT@
FK"vv""v@'ql"kP'fK"vKKK"vf

.I7,w	
"vv""v?
%TI%
3jKKK"vf=?
3jv""v{0
88G}$l8~Y_6{2x/u-t*q9<&QhMcdK='RiUeeF? CUaffA
`^]-jKL/Yn`qqRM'HYqqqOE~7_tsslP<n?eztuhR?=]fffcZ_fff_J
`^]-jJJ.Xn^ooPL&GXopqMC~6_sqqkO;l>eyssfP><TQab`ZTXbb_J
`^]-jII-Wm^nnOK%GXoppLB}6_sqqjN:l=exrreO=<K@g{yzqZCtS{{kJ
`^]-jHH-VlaqqRJ%FXrssKA|8`sttmM9l
g)nXNJHDA
beeUQMJGD@=:7}6|8}$OfI~_`G9~$OgQaaA:
"[wNw{-x-y.z.z/{0|1~1~23355677888986Q420~/}F9)w'u%s$r"p!oml
gH~z/{/{0|0}1~223556677
[}Ct:o2|j1}1~22345667788997
_^][}[|YzXxWwUuTsMkc=nAg{uxkYDuVz{h7~6{"MeI~]^D

MxSe(m33566778889ChAfn(v%s$r"p!oHAt
`^]-jCC*TjZiiJE"DUjkkF=w2[plleH6h;aumm_H96|F
[}Ol!YwBrBrBrBrBr+a|SxeSq*q6677
iG[}[{YyWxVvUtSrRqQoPmNlE_=T`9k
fG|eSqUt)q88997
`^]-jA
`^]-jA
`^]-j@@@A
`^]-j??@@@@A
`^]-j>>-^xS^^E@(Rh_``A
`^]-j==&PgUeeD
`^]-jX9~6|4y1w.u-t;;%PfTccC
`^]-j
DA
eSqUtXy[}^
`^]-jJGDA
f-d4u[}6h$_}4zTrUtXy[}^
So;g}BrBrBrBrBrBrNlNCqUtXy[}^
YzXyWwVvTtSrRpQnPmU
Q}
Yz@n/Zrb%_|Xy[}^
`[|YzXyWwVvTtSrRpQnPmjPDl,`|
b`][}YyVvTsQoOlMiKgIdGaE_E]yE Uq*TiVXH
b`][}YyVvTsQoOlMiKg!SlC
b`][}YyVvTsQoOl1e|B
_^][}[|YzXyWwVvTtSrRpQnPmHz
-bZM>} d!a)o)p(p&n$h(k.t/t.u&n&n&n&n'o'o'o'o'o'o(p(p(p(p(p(p)q)q)q)q)q*r*r*r*q(o
`^]-j@A
_^][}[|YzXyWwVvTt!ZxHz
`^]=;zDOPKGA}OWYM0v0v
_^][}[|YzXyWw@cphQr.XnB[}Gqc;{Nj(TjOPA!jPm3c}TU<|%l$l$l%m%m$m$m$m$m%n%n%n%n%n%n&o&n&n&n&n'o'o'o'o'o&n
_^][}[|Z{%%%,Gx iB~[}2l*r;{
e2x:ubbdN9~F}hijH,s-t
gg/u0v1w2x4y5z5{7}8}9~;:+r+rG^H|VV2w,s:LWWW-t(f
gN-t%_|6kMN?4y&XrD~RT?+r+rG^H|UU2w,s9LVVW-t'e
c"gF%%*
d/q<%%3<<<
eB~0%%<_!
k[*%%Jv''fZ
n%%%_-
Fk=xI|%n
$l.qEFG8{*r={KLM5y'o'o'o(p(p(p(p(p(p)q)q)q)q)q*r*r*r*q*q*q+r+r+r+r+r&oi"j#k#k$l$l%m$m%n%n&n&n$n
1q1fTTT666#k$l$m%n&n'o(p)q*q+r,s-t&n'o'o'o'o'o(p(p(p(p(p(p)q)q)q)q)q*r*r*r*q*q*q+r+r%oi!i"j"j#k#k$l$l$m%n%n&o$m
V999QQQ"j"j#k&m&n%n&n'o*r,s-s+s&n&n&n&n'o'o'o'o'o'o(p(p(p(p(p)q)q)q)q)q)q*r*r*q*q%n
"vK
-KjRR^v   {{{ iOl1a{OP6y%nD[AwST3x%n&o&o&n&n&n&n'o'o'o'o'o'o(p(p(p(p(p)q)q)q)q)q)q*r%o
KhNk0a{NO5w$lD[?vQS3x%n%n%n%n%n&o&n&n&n&n'o'o'o'o'o'o(p(p(p(p(p(p)q)q)q%n
%TK
K8"vV=z_
_^]_%%%ov"fF
Z6]]1xxx"""
_^Q%%(}@"v=@V
_p@%%0k"ZZ1K@"qv#k=
K555WWW
6%%7@
@f-   
b=y,%%Fk_."v=
V_!?
d-o}(%%WZ
Ff-{('qKP{"j"j"j#k#k#k#k#k#k$l$l$l$l$l$l%m%m$m$m$m$m%n%n%n%n#l
e"hg%%%g_%
=PPsss&&&"j"j"j"j"j"j#k#k#k#k#k#k$l$l$l$l$l$l%m%m$m$m$m$m%n#l
fW%%(}i&:v#=4
JD:NNN;;;PPQQQQQQQRRRRRRSSSSSSSSSSA
gF%%,28F
=000]]]

0%%F_3 *Ik@vS3
=
}(%%QZ
82Zv#kv(!TQ:9~9~8}7}6|5{5z5z4y3y2x2x1w0v/u/u.u-t-t,s+r*q*r&mQn%%%gP.GRRG.1K
@k1..
ZFPfff***e?=<;::9~8}7}6|5{6{5z4y3x3y2x1w0v0v/u.u-t-t*p[}PW%%&vGfv#k4:k{vIII@@@|CA
`YyPK%%,@
K2ZI!Ck"v000dddGEDCBA
@?>=<<;:9~8}7|7}6|5{5z4y4y3y2x e[|YyP<%%3_Z=.f>
KKIHGFEDCBA
=fX
TLKJIHHGFEDCBA
@??>=<;:9~9~8}+r_][}Z{Q*%%QV
=.f>!>RRR>!,{~

b_][}Z{Qv&%%_E:kL
=f1q#1~{|~

fff***kTSRQPONMLKJIHHGFEDCCBA
VLPzwy{|~


CCCFFFzZXWVUSRQPONMLKJIHHGFEEDC>!h
Z"vV
1_"?tuwy{|~

,,,ddd[ZZZYXWVUTSRQPNMLKJIIIHGD%n
b`^][}RBA
aYy@u@%%3D?TK''vl#P{(
=b#@prtuwy{|~

^ZZZZZZZZZZZZZZZZZZZZZZZZH
EDDCBA
@?>=<<;:9~8}7}7}6|5{5z4y4y3y2x"g[|Yz@u6%%@Q
%T9Knprtuwy{|~
}|{|
^ZZZZZZZZZZZZZZZZZZZZZZZZH
JHHGFEDCBA
ZL
-JS3*3_
mnprtuwy
}|{yw{^ZZZZZZZZZZZZZZZZZZZZZZZZH
SLKJIHHGFEDCBA
@?>>=<;:9~8}8}.t^][}Z{Avv&%%_{(8k;!Zv#
PPD{kmnprtuw}|{ywvu___...^ZZZZZZZZZZZZZZZZZZZZZZZZH
_PONMLKJIHHGFEDCBA
b_][}Z{Avg%%%oQ
PvvL
=ikmnprt}|{ywvus
CCCKKK^ZZZZZZZZZZZZZZZZZZZZZZZZH
_3 *Iv#khikmnpr}|{ywvusq}(((ppp^ZQ[__[ZN___ZWN___ZWR__^ZH
b`^][}Aw6%%<_jfhikmnwvusqpn
b`^]AxW%%(}abdfhrqpnmk$$$uuu[W[fYd[Nu[Tz[H
b`_]4pA(p'o&n&o%n$m%m$l#k#k"j8vK%%0mabdfhrpnmki|ZVVWWWXXXXYYYZZZZZZZZZZZZH
_^(o+r*q)q)q(p'o&n&o%n$m%me3n<%%<`abdfrpnmkihgYUUVVVWWWXXXXYYYZZZZZZZZZHi>HGFECBA
_(o.u-t-t,s+r*q)q)q(p'o'o"i]3n3%%F_abdfqnmkihge
~~~
XTDz[ffZVArfhhWRCthjhYTNjkfZH7}RSRRRRQQQQPE
(o2x1w0v/u.u-t-t,s+r*q*r&n^]3n%%%Wc_abdfomkihgecwSSS777WS5^ucvv]U+M^sxxXL
d`^]3n_%%(}ZOQSUVXZ[]_abdihgecbad$$$zzzUQ4]sauu[S*L]qvvWJ/OauxsWL
`^]3nJ%%0gJLNOQSUVXZ[]_abxigecba_]4?&0
`^]3n<%%7XGHJLNOQSUVXZ[]_abrecba_][zXOOMKIHJXiSP8cznww[Q0SeuxxTH>cvxzxUJS{z{rWF;M?g|y{s[DuQ~z{mN
`^]3n3%%F[DEGHJLNOQSUVXZ[]_kcba_][[]UUSQOOMKIHGECBALRO[vwwZPfxxxSJrzzzUQtz{qVE;M?g|y{s[DuQ~z{mN
`^]3n
*%%QABDEGHJLNOQSUVcba_][[YWUUSQOOMKIHGECBA?=<`QNNNOOOOPPPQQQQRRRSSSSTTTD;M?g|y{s[DuQ~z{mN
`^]3no%%%gN?ABDEGHJLNOa_][[YWUUSQOOMKIHGECBA?=<:9QMMMNNNOOOOPPPQQQQRRRSSSSC;MW
`^]3oW%%(}<=?ABDEGHJ_][[YWUUSQOOMKIHGECBA?=<:97KPL7g[kkUN1[qhlmQG5_tlnjRI
`^]3oL%%,:<=?ABDEG~][[YWUUSQOZyxkHGECBA?=<:975
5x%#u@0hKw%#uNKOK/Yp]ppTM'J[kqqPD~,L_prnQF=eystiSB:XZZZZZZZZZZM
`^]3o0%%@68:<=?ANV<:975
>MI/Yp[nnSK&IZjppNC~+L^oqmOD<dxqrgQA8J>fzwzs[DuQ~z{mN
`^]3o~(%%Q568:<=?eG975
JN=SFn&7{*$kI_LH.XoZmnRJ&HZjooMB}+K]nqlNC~;dwpqgP@
`^]3ov"*IT*
*IKKg%%%g7
568:<={_75
431/.u@ex%ZN!phfx%#ux% ph>@3
n
JC1dLI>l
`^]3ov"KEK_"a@'{KKW%%&vA3568:<6
431/.-}*2
 HKHRUVUKHPVVVJGWWXXKOYYYVM?6}G;dxtwoXCsP}z{mN
`^]3oF
=q""qv"Kv"kK
VKKv""vv""vv""vKKv#"vF%%,a13568:5
31/.-0h>=>4>ut1>x%#ux%#uhGNKiG{0eU=KGGGHHHHHHHIIIIJJJJKKKLLL>6}F:bxsunVArO}xzmN
`^]3oF
(es*Y1Vn&jV3|I@JF?|INNHH?yNNNHE?yOOOJGDPQOK=5|E~czUExwrN
`^]3oF
"qv"Kv""vvS3
%TKKv""v_*?vv""v?
0pI%
0p@
`^]3oa(|v"Kq'{P
KKKv""vkKK=v""v@'qq'fv"@@1v""al"kK
'qK"vK
`^]3ov'"66'vv"Kv"kRR
v""vKKv""vf==1v""v=ff
Zv""vq1v""vv"K=f=fKKK"vf==1KKv#"vv#"vv#K>ff
Zf%N-./1351.-+)~(}GD+UlWijNE#FWfkkH>x(I[jlhI?y8avlmaJ<4zGFXYWPKO]^ZI
`^]3ov'"qZ'vv"KE
Z@fKBv""vK"vv""vv"Kv"KK"vv""vv"Kv""vKKKKK"vK"vKKv#"vv#"vv#Kv#KI,./13t~/-+)~(}JGC*TkViiMD#FWejjH=w(H[ilgH>x8`ulmaI;3z@{6_tmphO<mJwsugI
`^]3oq"fZ"qv"
3_v? *IK"vv""vfFv""v=qv""vq1v""vv"K=f=fKKK"vfFKKv#"vv#"vv#K>q+~,./130-+)~(}&|v.uK&m8~YGB*TkWklNC#EWhllG<w+OakmjG>x8aumndI:3y?y5^slogN;mIvrteH
`^]3ov""vk'fq'Zv""v@@K1v"
1|@1v""vv"KP'fK"vKKK"vk'fq'ZKBv#"vv#"vv#KA@K1U*~,./1.+)~(}&|v.uK&m8~YFA
`^]3ov""v_*
%IK"vv#"vv#"vv#K@
3j*}*~,./>/+)~(}&|Iv.uK&m8~YE@A
`^]3ov""vx)}*~,./W+)~(}&|%{RS;D?@@@@A
`^]3ov""v/)}*~,./,)~(}&|%{`o`Q```@@b1/ObA ?p`T<C
`^]3o(|)}*~,.p,)~(}&|%{O``!?0a_``QN~_ Ob?Q`B~@ P~@B1?Pn``3>p^P1~`T<C
`^]3o'|)}*~,.-)~(}&|%{j2!^` r@AR1!1Ob_0C~R`sb/32`T<B='QiR
`^]3o&{'|)}*~,Uw#KnSSna*~(}&|%{4
01a/10212a.a2a.3."`T<:~5{3x1w.u+s;<&QhQcdF=BT_ee@7r$EXce`A
`^]3oT
eQ&{'|)}*~,}w#Kw#KL#va*~(}&|%{!{YaR
`^]3o,q!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!j!jdRqN{&{'|)}*~,w#Kw#Kv
0o@
%SLJ|*~(}&|%{#z &0!/
//c?c
`T<F@=:7}5z2x/v::KfggF<Vhhh><zbiii?={ijj_A
ZL#va*~(}&|%{)}_021/1!o2b_2O2!^c
21~`T<]LIFC@<9~6|2y8}9~9~9~9~:::::;;;;<<<<====>>>3{+t3pEp
`^]3oM)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q)q'mZzTsRqQpPnN{r%{'|)}*~,w#Kw#"vw#Kw#Kw#KLKw$#uw$Kw$JL#va*~(}&|%{5
`^]3o0v,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s'kYxUtTsRqQpPnN{i%{'|)}*~,w#Kw#"vw#Kw#K> qLKw$#uw$K> qL#vH)~(}&|%{CP A/@a_!OA`PA_1/B.a`P_NR`b_^a
B_1BMv.uK&m8~YsSOLIFDB@>;77}7}#NfN``A9~
Q
Q-)~(}&|%{`@?>@NP~A?>`P~@.^ao`po_@/>OaoQ__~a]v.uK&m8~YYWYZZZZZZZZW7}6|#OfM__A8}
`^]3o6z3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x3x1v dYyWxVvUtTsRqQpPnN{S%{'|)}*~Tw#Kw#"vw#KU"u@
J,)~(}&|%{v.uK&m8~YVTVXZZZZZZZW6|6|"NfM^_@7}
`Z{YyWxVvUtTsRqQpPnN{Z%{'|)}*~9,)~(}&|%{v.uK&m8~YTByPmoeZAparr_6|5{"MeL^^?6|
^[}Z{YyWxVvUtTsRqQpPnN{e%{'|)}*~,W+)~(}&|%{v.uKyoh_Zepy&m8~YR;mO|tvfX9axcz{b6{5z1bzmttE
}&|@v.uKrB%n#n$o&p'q(s)t*u*u+v,x-y.z/{/{0|1~223Cl&m8~YP9mMzrucU7`vcz{b5z5z@DDD9}5{>~DD
)VmB
`^]3oVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV;
889MW,z)w(v&t%s#q!o n;EBCEFHIJLMOO2x1w
hAC?B
Xv'|)}*~,./-+)~(})s'q(s)t*u+v,w-y.z.z/{0|1~1~X_989CwV+y)w'u&t$r"p!oml
c~A-a|BqehUE,VmVlnW1w0v
`^][}[|=*_z>nbdQ@*TkR
]~6
*~,./1/-+)~(}e-u234566778899K6I{E't%s#q"pr|
_^][}[|YzXxWwUuTsSrQoD]8|1gkrsV;5e}uxyO.u-t
`^]3o.#y#y0#y#y#y#y#yuL#y#y#y#y#yL#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y s

*~,./1M/-+)~(}eUu/y6677888986{6%s$r"p!oml
jqj5k
`^]3o.#y#yL#y#y#y#y#yu#y#y#y#y#yZ#y#y#y#y#y0#y#y#y#y#y#y#y#y#y s
`_]7q
*},./13/-+)~(}eSqXy1{7
`_MbbbHa,./135q/-+)~(}eSqUtXy)q7
`l;;;GMP5./135O1.-+)~8eSqUtXy[}
b e
vvv./13560.-+)~{eSqUtXy[}^
d*l{-
.GRR>!,{
W/13568M/.-+)~eSqUtXy[}^
e:xk:Pk
d013568:2/.-+;eSqUtXy[}^
fQ='{{(Fk-
PPPP11113568:<51/.-+eSqUtXy[}^
`^]3o.#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y#y sqK'vZ
Pv#K---UUU~3568:<=P31/.->eSqUtXy[}^
`^]3ov^R^vv(KQ
P
a68:<=?AfE5
431/.heSqUtXy[}^
`^]3oE'vP.GG3,{F
'vqqq
l8:<=?ABDm975
431/FeSqUtXy[}^
`^]3oKfv'"qKZK'vEEE:::{:<=?ABDE^c<:975
4312eSqUtXy[}^
`^]3ov('vK
Kq(
d%%%aaa<=?ABDEGHaJHGECBA?=<:975
436sSqUtXy[}^
`^]3ov(8B"vB?ABDEGHJLNYKIHGECBA?=<:975
4=TrUtXy[}^
_^R7z
`^]3oT%
:K'v=kfABDEGHJLNOQS`[MKIHGECBA?=<:975
M-b}UtXy[}^
`^]3o2
:[[[$$$HDEGHJLNOQSUVXOMKIHGECBA?=<:9I
`^]3oZ
Fv(g666DDD{EGHJLNOQSUVXZPOMKIHGECBA?=<X]{[}^
`^]3ok-E{-
'v-'v
sssHJLNOQSUVXZ[hOOMKIHGEHQ[f6p^
b`][}YyVvTsQoOlMiKgIdGaG`#k
c3wUt(_}BC6y%n
`^]3ojRRRj2FK
I
XNOQSUVXZ[qROOMKI,l
b`][}YyVvTsQoOlMiKgIdJrSMMMMMMMMNOM
b`][}YyVvTsQoOlMiEv'n"j"j"j"j#k#k#k#k#k#k$l$l$l$l$l$l%m%m$m$m$m$m%n%n#l
WuM|&m!i"j"j"j"j"j"j#k#k#k#k#k#k$l$l$l$l$l$l$l%m%m$m$m"k
!k
h@0tMi'ZtK
fPv('qq(1
Z[]_abyWUUSQOg0t#e>}>}>}-r
v(K_!!_ooo
i[]_abd{YWUUSQ]0t
c='vEEE:::a]_abdff[YWUUSX1v
dgK'v'''```]_abdfh
^[[YWUUV+q"j"j"j"j#k#k#k#k#k#k$l$l$l$l$l$l%m%m$m$m$m$m%n%n#l
eQE
Kq#K_abdfhit_][[YWUZ*p!i"j"j"j"j"j"j#k#k#k#k#k#k$l$l$l$l$l$l%m%m%m$m$m#k
g?}E%Pv"KR
h2vP.Pv"=K'fvK'vF
'vK'v1@xk6fikmnprtuwy{|~
~sqpnmkihgecba_iq"vq"K?  ?vuuupmnprtuwy{|~
}|{ywvusqpnmkihgecba1j^vv""vv'KDDD555nprtuwy{|~

}|{ywvusqpnmkihgeh1/vS3
1fF
:$$$[[[ttuwy{|~

}|{ywvusqpnmkih}L~Ag!*
3S{yy{|~

}|{ywvusqpnm1B	pk,
'vv"K~
^Yy;qT!:Z
q88avkq1@`CA
@?>>=<;:9~8}8}7}6|5{5z5z4y3y2x2x1w0v+r]YyPFEDCBA
@@?>=<;::9~8}7}6|5{6{5z4y3x0wc[|Yz;rZ@PKZ
=xxxmp^p1wGEDCBA
a[|YzPIHHGFEDCBBA
@?>=<;;:9~8}7}6|6|5{#g][}Z{;rK"vq"__**TJJJ555?!KHHGFEDCBA
@?>=<<;:9~8})n_][}Z{;rk,
%yKf1"v((([[[e`PLKJIHHGFEDCCBA
'f@'vk
VA]ouUPONMLKJIHHGFFEDCBA
_][}Z{Q`UTSRQPONMLKJIHHGFEDCBA
b`^][}>uf1q=555DDD1H{sXWWWWVUUTSRRQPPONMMLKKJIC j
b`^][}RaZZZZZZZZZZZZZZZZZZZZZZZZO
_][}=tkfv"Fvvv}6~xQp^ZZZZZZZZZZZZZZZZZZZZZZZZH
aZZZZZZZZZZZZZZZZZZZZZZZZO
aZZZZZZZZZZZZZZZZZZZZZZZZO
KzzzA:n^ZZZZZZZZZZZZZZZZZZZZZZZZH
bZZZZZZZZZZZZZZZZZZZZZZZZO
b`^]>v_3
%IJJJ555A#^ZZZZZZZZZZZZZZZZZZZZZZZZH
bZZZZZZZZZZZZZZZZZZZZZZZZO
b`_],l0u(p'o'o&n%n%n$m$l$l#k i3p((([[[`P|k^ZZZZZZZZZZZZZZZZZZZZZZZZH
F{aZ8`vd{{eZ8`vj{{_Z-M^{{{ZN>ez{{uZO
`^]/l
`^]/lUUU111A1+ZVVWWWWXXXYYYZZZZZZZZZZZZH
`^]/l111UUUAa~kYUUVVVVWWWXXXYYYYZZZZZZZZHi@
`^]/l1^XT=l
`^]/l

yWS4^tcvv]U+M^rxxXL
`^]/lrrr
`^]/lDDD:::go|/!UQ4]sauu[S*L]qvvVJ/OauxsWL
`^]/lxnASO8czs]Q<au}THIp
`^]/l[[[(((NAywQNNNNOOOPPPPQQQRRRRSSSTTTD;M?g|y{s[DuQ~z{mN
`^]/lzzzzPL0Zp]qqVM(J[mqrQE,M_qsnRF=ezsujSC:YqrrlZ`rrrfN
`^]/lK
`^]/lK
PP
PKKv""vOOO555@ZP"|?)t,w.z0}257883Gr78=EMU_iuoN5v%k
_Z{TsOkJfF`AYMI.Xo[nnSK&IZjppNB}+L^oqmOD;dwqrgQA8J=fzwzs[DuQ~z{mN
`^]/lZ
-f1j3
%T,,,[[[@>AV&o(s+v2|9:5|/t0t/p.r.{,z'u#ql{/x(q'p)r/x8DNXcnz[?}*n
`^]/lv""v@
Fl"-K'ff'Zv""v@'qq'f@q5a%p(s*u2yBGGA:3y,m%aWtPl!im
eC+t!j
ApQLH>l
`^]/lKK
CKKKF
Zv""v=ff
V>0y"k
e`Z{SrMjjPlJeIdPmOl+`{KHRUUUKHUVVVJGWWXXKNYYYVM?6}G;dxtvoWBsP|y{mN
`^]/lv""vv?
KK"vv"Kv""vv"Kkkk$$$N2}k+u,w.z-i8sCILLA6|(n cWwNkD^Qp^[|Ww^pUI:+t
[|7kHxOlKgIdKgOlOlOlJGGGHHHHIHHHIIIIJJJKKKKLL>5|F=eywyrVArR}~oN
`^]/lZ
-V
8fKKKF
Zv""v=q???DDDdQ.z0|2.e9sCJIF<0v"h]SqIdFa[}XxTsLi8awnbUH9(q
c)r9HUbnzrQ2s h&h{VuPmLiIdIdPnOlOlOlJF?|LSSIG?yRTTHE@zSTSIGFUVSK=5|E~s
`^]/lK
Pv6'vZ
`^]/lj3
%Tv""v?
3j
m~ q77861s8u<{<}7{3x*j
`^]/l@#g53/}*x&t#o#m#id^[|WwSrSsVwSrNjIeE^@Xc
f'p4}A;9JXf
]~VvSrPmLiIdIdPnOlOlOlOl[GC+UlWiiNE#FWekkH>x(I[jlhI?y8`ulmaI<4zF
`^]/lUUU111@@Ut
]~WxTsQnNjJfIdOmOlOlOlOlOlGC*TkViiMD#EWejjG=w(H[ikgH>x8`ulmaJ;3z@{6_tmphO<mJwsugI
`^]/l111UUUA"#TsZ{a
!k3}
]~XyUuRpOlKgIdNkOlOlOlOlOlAqGB*TkYggLC)L_cggG<w+N`fifG=w;e{ij`I:2y?y5^slogN;mHvqseH
`^]/ln8j
f^VvOlHcB[NjXx_4wN^Z{VvSrPmLiIeKgOlOlOlOlOlOlFA
`^]/l
a!O>QYz_
`^]/luuu   yWw]
e_Z{SrNkIeE_@XE^IdIdIdVf`]Z{VvSrPnMiIePnOlOlOlOlOlOlC
`^]/l$$$iiiUs[|
f`[|UtOlJfF_AZD]IdV g
^[|XxTtQoNjJfOmOlOlOlOlOlOl+`{C
`^]/lPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPOzTrYz`i0zAO[hthD,o
[}VvPnKgJfHb%Tkh
`^]/lF i iJ
 i i i i i i i i i i i i i i i i i i i igVuN{DuXy_
f-w>LXernJ/qgc^YySqLhGbC[$PgT
d`]Z{VvSrPnMiMjOlOlOlOlOlOlOluj5z1w/u,s+r<<'RiR
`^]/l&m#khL#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k?~#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#k#kfSsPnN{aaa(((^Xw^
d]XxRpMiHcD]?VVj
^[}XxTtQoNjJfOlOlOlOlOlOlOl5g:~5{4y1w.u,t;<&QhQccF=BT^ee@6q$EXce`A
`^]/l@%n@i%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n%n3w%n%n%n%n%n%n%n%n%n%n%n%n%n%mbSrQpPnN{:::JJJyWw]
e^YySrMjIdD]@XxB"
2^oTNKNKNKUo0z
|||Uu[}
e`Z{TsNkJeE_AYz9=h*Ox&LNKNKN$u'sl
d`]Z{WwSrPnMiPnOlOlOlOlOlOlOlFA
UtZ{
$SNKNKNKKJb->t'tm
JN='t n
`^]/l;~3y3y3y3y3y1x#gYyWxVvUtTsRqQpPnN{OOO5558lIdIdIdId
)v"pl
d`]Z{WwSrPnQpOlOlOlOlOlOlOlOlkTPLIFC?<9~5|8}8}$OfN`aB9~
`^]/l]6|6|6|6|6|6|3x
Z{YyWxVvUtTsRqQpPnN{,,,[[[|)[uIdIdIdIdId)mIUbnyR5v"i
d^XyRqMiHcD]?Wx9"txB
Jx&Lx&JNKNKNKN$uN!t*w#qm
b^[}XxTtQpRpOlOlOlOlOlOlOlOlwXUSPNKIFDB>
_[}Z{YyWxVvUtTsRqQpPnN{u VqIdIdIdIdIdQo!f7GT`myX9y%k
e_YzSrNjIeE^@XoTjNK[9iKx&L@!pNKNKNKN$uiG*w$r n
(et+Y,y&t"pl
]Z{WwSrSqOlOlOlOlOlOlOlOluVTVWYZZZZZZW6|6|"NfM^_@7}
[}UuPmKgF`BZHsW-
"tB
$H-z'u#qm
b]XyTrOmJeC[-Xn.{(v$r!o
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.013 Tw 0 -1.198 TD
0.002 Tw T*
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
-0.029 Tw 0 -1.197 TD
0.001 Tw T*
EMC
0.001 Tw T*
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
Modern WAN Connectivity
Modern WAN Connectivity Options
New technologies are continually emerging. The
figure summarizes the modern WAN connectivity
options.
Dedicated broadband
Fiber can be installed independently by an
organization to connect remote locations directly
together.
Dark fiber can be leased or purchased from a
supplier.
Packet
switched
Metro Ethernet
Replacing many traditional WAN
options.
MPLS
Enables sites to connect to the provider
regardless of its access technologies.
Internet
based broadband
Organizations are now commonly using the global
internet infrastructure for WAN connectivity.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
EMC
0.008 Tw T*
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Modern WAN Connectivity
Ethernet WAN
Service providers now offer Ethernet WAN service
using fiber
optic cabling.
The Ethernet WAN service can go by many
names, including the following:
There are several benefits to an Ethernet WAN:
Reduced expenses and administration
Easy integration with existing networks
Enhanced business productivity
Note
: Ethernet WANs have gained in popularity and are now commonly being used to replace the
traditional serial point
point, Frame Relay and ATM WAN links.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
EMC
EMC
-0.029 Tw T*
EMC
Modern WAN Connectivity
MPLS
is a high
performance service provider WAN routing
technology to interconnect clients without regard to access method or payload.
MPLS can encapsulate all types of protocols including IPv4 and IPv6 traffic.
used by other MPLS routers to forward traffic.
MPLS also provides services for QoS support, traffic engineering, redundancy, and VPNs.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
7.5 Internet
Based
Connectivity
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.001 Tw 0 -1.41 TD
EMC
/TT1 1 Tf
-0.004 Tc -0.009 Tw T*
EMC
/TT0 1 Tf
-0.02 Tw 0 -1.197 TD
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
-0.02 Tw T*
-0.029 Tw T*
EMC
Internet
Based Connectivity
Internet
Based Connectivity Options
Internet
based broadband connectivity is an alternative to using
dedicated WAN options.
Internet
based connectivity can be divided into wired and
wireless options.
Wired Options
to provide consistent bandwidth, and reduce error rates and
latency. Examples: DSL, cable connections, and optical
fiber networks.
Wireless Options
Wireless options are less expensive to implement compared
to other WAN connectivity options because they use radio
waves instead of wired media to transmit data. Examples:
cellular 3G/4G/5G or satellite internet services.
Wireless signals can be negatively affected by factors such
as distance from radio towers, interference from other
sources and weather.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw 0 -2.782 TD
EMC
-0.02 Tw 0 -1.197 TD
EMC
Internet
Based Connectivity
DSL Technology
speed,
always
on, connection technology that uses
existing twisted
pair telephone lines to provide
IP services to users.
DSL are categorized as either Asymmetric
ADSL and ADSL2+ provide higher downstream
bandwidth to the user than upload bandwidth.
SDSL provides the same capacity in both
directions.
DSL transfer rates are dependent on the
actual length of the local loop, and the type
and condition of the cabling.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
0 Tw T*
0.008 Tw 0 -1.203 TD
EMC
-0.007 Tw 0 -1.203 TD
EMC
Internet
Based Connectivity
DSL Connections
Service providers deploy DSL connections in the local loop. The connection is set up
The DSL modem converts the Ethernet signals from the teleworker device to a
provider location.
connections from multiple DSL subscribers.
DSL is not a shared medium. Each user has a separate direct connection to the
DSLAM. Adding users does not impede performance.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
Internet
Based Connectivity
DSL and PPP
ISPs use PPP as the Layer 2 protocol for broadband DSL connections.
PPP can be used to authenticate the subscriber.
PPP can assign a public IPv4 address to the subscriber.
PPP provides link
quality management features.
Host with PPoE Client
The PPPoE client software communicates with the DSL modem
using PPPoE and the modem communicates with the ISP using PPP.
Router PPPoE Client
The router is the PPPoE client and obtains its configuration from
the provider.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
EMC
EMC
EMC
Internet
Based Connectivity
Cable Technology
Cable technology is a high
speed always
on connection technology that uses a coaxial cable
from the cable company to provide IP services to users.
adding high
bandwidth data to an existing cable system.
The optical node converts RF signals to light pulses over fiber
optic cable.
The fiber media enables the signals to travel over long distances to the provider headend where a Cable
The headend contains the databases needed to provide internet access while the CMTS is responsible
for communicating with the cable modems.
Note
: All the local subscribers share the same cable bandwidth. As more users join the service, available bandwidth may drop
below the expected rate.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
0.008 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
/TT0 1 Tf
Internet
Based Connectivity
Optical Fiber
Many municipalities, cities, and providers install fiber
optic cable to the user
the following:
Fiber reaches the boundary of the residence.
Fiber reaches the boundary of the building with the
final connection to the individual living space being made via alternative means.
Optical cabling reaches an optical
node that converts optical signals to a format acceptable for twisted pair or coaxial
cable to the premise.
Note
: FTTx can deliver the highest bandwidth of all broadband options
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
Cellu)2 (lar)]TJ
/TT0 1 Tf
EMC
/TT0 1 Tf
-0.007 Tw 0 -1.203 TD
-0.015 Tw 0 -1.203 TD
EMC
/TT0 1 Tf
Internet
Based Connectivity
Wireless Internet
Based Broadband
Wireless technology uses the unlicensed radio spectrum to send and receive data.
Municipal Wi
Municipal wireless networks are available in many cities providing
high
speed internet access for free, or for substantially less than the price of other
broadband services.
Cellular
Increasingly used to connect devices to the internet using radio waves to
communicate through a nearby mobile phone tower. 3G/4G/5G and Long
Term
Satellite Internet
Typically used by rural users or in remote locations where cable
and DSL are not available. A router connects to a satellite dish which is pointed to a
service provider satellite in Geosynchronous orbit. Trees and heavy rains can impact
the satellite signal.
WiMAX
IEEE standard 802.16 Provides high
speed broadband service with wireless access
and provides broad coverage like a cell phone network rather than through small Wi
hotspots.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.012 Tw 0 -1.197 TD
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
Internet
Based Connectivity
VPN Technology
VPNs can be used to address security concerns incurred when a remote office worker uses broadband services
to access the corporate WAN over the internet.
A VPN is an encrypted connection between private networks over a public network. VPN tunnels are routed
through the internet from the private network of the company to the remote site or employee host.
There are several benefits to using VPN:
Cost savings
Eliminates expensive, dedicated WAN links and modem banks.
Security
Advanced encryption and authentication protocols protect data from unauthorized access.
Scalability
Corporations can add large amounts of capacity without adding significant infrastructure.
Compatibility with broadband technology
Supported by broadband service providers such as DSL and
cable.
VPNs are commonly implemented as the following:
Site
site VPN
VPN settings are configured on routers. Clients are unaware that their data is being
encrypted.
Remote Access
The user is aware and initiates remote access connection. For example, using HTTPS in
a browser to connect to your bank. Alternatively, the user can run VPN client software on their host to
connect to and authenticate with the destination device.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.012 Tw 0 -1.197 TD
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
-0.02 Tw T*
0.001 Tw T*
EMC
/TT0 1 Tf
0 Tc 0 Tw (-
EMC
/TT0 1 Tf
Internet
Based Connectivity
ISP Connectivity Options
There are different ways an organization can connect to an ISP. The
choice depends on the needs and budget of the organization.
Single
homed
Single connection to the ISP using one link.
Provides no redundancy and is the least expensive solution.
Dual
homed
Connects to the same ISP using two links.
Provides both redundancy and load balancing. However, the
organization loses internet connectivity if the ISP experiences an
outage.
Multihomed
The client connects to two different ISPs. This
design provides increased redundancy and enables load
balancing, but it can be expensive.
Dual
multihomed
Dual
multihomed is the most resilient
topology of the four shown. The client connects with redundant
links to multiple ISPs. This topology provides the most redundancy
possible. It is the most expensive option of the four.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.015 Tw 0 -1.203 TD
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
the
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
EMC
/TT0 1 Tf
Internet
Based Connectivity
Broadband Solution Comparison
Each broadband solution has advantages and disadvantages. If there are multiple broadband
solutions available, a cost
versus
benefit analysis should be performed to determine the best
solution.
Some factors to consider include the following:
Cable
Bandwidth is shared by many users. Therefore, upstream data rates are often slow
during high
usage hours in areas with over
subscription.
DSL
Upload rate is proportionally lower compared to download rate.
Fiber
Home
This option requires fiber installation directly to the home.
Cellular/Mobile
With this option, coverage is often an issue, even within a small office or
home office where bandwidth is relatively limited.
Municipal Wi
Most municipalities do not have a mesh Wi
Fi network deployed. If is
available and in range, then it is a viable option.
Satellite
This option is expensive and provides limited capacity per subscriber. Typically
used when no other option is available.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(Lab
EMC
EMC
EMC
Internet
Based Connectivity
Research Broadband Internet Access Options
In this lab, you will complete the following objectives:
Investigate Broadband Distribution
Research Broadband Access Options for Specific Scenarios
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
0 Tw 0 -1.081 TD
(Quiz
7.6 Module Practice and
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
Module Practice and Quiz
Packet Tracer
WAN Concepts
In this lab, you will do the following:
Describe different WAN connectivity options
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
and
EMC
EMC
EMC
0 Tw T*
EMC
0 Tw T*
EMC
Module Practice and Quiz
What did I learn in this module?
A private WAN is a connection that is dedicated to a single customer.
A public WAN connection is typically provided by an ISP or telecommunications service
provider using the internet.
WANs are implemented using the following logical topologies: Point
Point, Hub
Spoke, Dual
homed, Fully Meshed, and Partially Meshed.
A dual
carrier connection provides redundancy and increases network availability. The
organization negotiates separate SLAs with two different service providers.
Site
the internet to securely connect with employees and facilities around the world.
Modern WAN standards are defined and managed by a number of recognized authorities:
TIA/EIA, ISO, and IEEE.
Layer 1 optical fiber protocol standards include SDH, SONET, and DWDM. Layer 2 protocols
define how data will be encapsulated into a frame.
Layer 2 protocols include broadband, wireless, Ethernet WAN, MPLS, PPP, HDLC.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
0 Tw T*
EMC
-0.007 Tw T*
Module Practice and Quiz
What did I learn in this module?
Serial communication transmits bits sequentially over a single channel. In contrast, parallel
communications simultaneously transmit several bits using multiple wires.
The two most common types of circuit
switched WAN technologies are PSTN and ISDN.
Common types of packet
switched WAN technologies are Ethernet WAN and MPLS. There
are two optical fiber OSI layer 1 standards.
SDH/SONET define how to transfer multiple data, voice, and video communications over
optical fiber using lasers or LEDs over great distances.
Circuit
switched connections were provided by PSTN carriers.
ISDN is a circuit
switching technology that enables the PSTN local loop to carry digital
signals.
Packet switching segments data into packets that are routed over a shared network.
Frame Relay is a simple Layer 2 NBMA WAN technology used to interconnect enterprise
LANs.
ATM technology is capable of transferring voice, video, and data through private and public
networks. It is built on a cell
based architecture rather than on a frame
based architecture.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
0 Tw T*
EMC
Inter)2.2 (net)]TJ
EMC
-0.007 Tw T*
EMC
EMC
EMC
Module Practice and Quiz
What did I learn in this module?
Modern WAN connectivity options include dedicated broadband, Ethernet WAN and MPLS
(packet
based
broadband.
MPLS is a high
performance service provider WAN routing technology to interconnect clients.
MPLS can encapsulate all types of protocols including IPv4 or IPv6 traffic.
Internet
based broadband connectivity is an alternative to using dedicated WAN options.
connections, and optical fiber networks.
Examples of wireless broadband include cellular 3G/4G/5G or satellite internet services.
DSL is a high
speed, always
on, connection technology that uses existing twisted
pair
telephone lines to provide IP services to users.
Cable technology is a high
speed always
on connection technology that uses a cable
company coaxial cable to provide IP services to users.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.015 Tw 0 -1.203 TD
EMC
Module Practice and Quiz
What did I learn in this module?
Newer developments in wireless technology include Municipal Wi
Fi, Cellular, Satellite
internet, and WiMAX.
VPN tunnels are routed through the internet from the private network of the company to the
remote site or employee host.
ISP connectivity options include single
homed, dual
homed, multihomed, and dual
multihomed.
Module 9: QoS Concepts
Enterprise Networking, Security,
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT2 1 Tf
Module Objectives
Module Title:
QoS Concepts
Module Objective
: Explain how networking devices implement QoS
Topic Title
Topic Objective
Network Transmission Quality
Explain how network transmission characteristics impact
quality.
Traffic Characteristics
Describe minimum network requirements for voice, video,
and data traffic.
Queuing Algorithms
Describe the queuing algorithms used by networking
devices.
QoS Models
Describe the different QoS models.
QoS Implementation
Techniques
Explain how QoS uses mechanisms to ensure
transmission quality.
9.1 Network Transmission
Quality
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
Network Transmission Quality
Video
The Purpose of QoS
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.034 Tw 0 -1.2 TD
-0.018 Tw T*
-0.01 Tw T*
-0.026 Tw T*
EMC
Q)6 (ueui)2 (ng )-8 (packet)2 (s causes del)2 (ay)16 ( )]TJ
[(because new)14 ( )-32 (packet)2 (s cannot)2 ( be )]TJ
-0.01 Tw T*
[(been pr)1 (ocessed.)]TJ
EMC
-0.026 Tw T*
-0.01 Tw T*
EMC
Network Transmission Quality
Prioritizing Traffic
When traffic volume is greater than
what can be transported across the
packets in memory until resources
become available to transmit them.
Queuing packets causes delay
because new packets cannot be
transmitted until previous packets have
been processed.
If the number of packets to be queued
continues to increase, the memory
within the device fills up and packets
are dropped.
One QoS technique that can help with
this problem is to classify data into
multiple queues, as shown in the figure.
Note
: A device implements QoS only when it is
experiencing some type of congestion.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.001 Tw T*
EMC
Network Transmission Quality
Bandwidth, Congestion, Delay, and Jitter
Network bandwidth is measured in the number of bits that can be transmitted in a single
Network congestion causes delay. An interface experiences congestion when it is presented
with more traffic than it can handle. Network congestion points are ideal candidates for QoS
mechanisms.
The typical congestion points are aggregation, speed mismatch, and LAN to WAN.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
-0.029 Tw 0 -1.197 TD
EMC
-0.012 Tw T*
EMC
EMC
q 1 0 0 1 167.7224 208.9212 cm
q 1 0 0 1 33.5 186.8205 cm
q 1 0 0 1 33.5 150.8197 cm
q 1 0 0 1 33.5 129.2189 cm
q 1 0 0 1 33.5 107.6182 cm
q 1 0 0 1 33.5 86.0174 cm
q 1 0 0 1 33.5 64.4166 cm
q 1 0 0 1 34 208.9214 cm
q 1 0 0 1 686 208.9214 cm
q 1 0 0 1 33.5 208.4214 cm
q 1 0 0 1 33.5 28.4159 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
-0.032 Tw 0 -1.2 TD
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Network Transmission Quality
Delay or latency refers to the time it takes for a packet to travel from the source to the
destination.
Fixed delay is the amount of time a specific process takes, such as how long it takes to place a
bit on the transmission media.
Variable delay takes an unspecified amount of time and is affected by factors such as how
much traffic is being processed.
Jitter is the variation of delay of received packets.
Delay
Description
Code delay
The fixed amount of time it takes to compress data at the source before transmitting to the first
internetworking device, usually a switch.
Packetization delay
The fixed time it takes to encapsulate a packet with all the necessary header information.
Queuing delay
The variable amount of time a frame or packet waits to be transmitted on the link.
Serialization delay
The fixed amount of time it takes to transmit a frame onto the wire.
Propagation delay
The variable amount of time it takes for the frame to travel between the source and destination.
jitter delay
The fixed amount of time it takes to buffer a flow of packets and then send them out in evenly
spaced intervals.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.008 Tw T*
EMC
Network Transmission Quality
Packet Loss
Without QoS mechanisms, time
sensitive
packets, such as real
time video and voice,
are dropped with the same frequency as
data that is not time
sensitive.
When a router receives a Real
Time
the jitter that is encountered using a
playout delay buffer.
The playout delay buffer buffers these
packets and then plays them out in a
steady stream.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
-0.015 Tw T*
0 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
0.008 Tw T*
EMC
Network Transmission Quality
If the jitter is so large that it causes packets
to be received out of the range of the play
out buffer, the out
range packets are
discarded and dropouts are heard in the
audio.
For losses as small as one packet, the
interpolates what it thinks the audio
should be and no problem is audible to
the user.
When jitter exceeds what the DSP can
do to make up for the missing packets,
audio problems are heard.
Note
: In a properly designed network, packet loss
should be near zero.
9.2 Traffic Characteristics
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
Traffic Characteristics
Video
Traffic Characteristics
This video will explain the characteristics of voice, video, and data traffic.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
-0.007 Tw T*
EMC
EMC
EMC
Traffic Characteristics
Network Traffic Trends
In the early 2000s, the predominant types of IP traffic were voice and data.
Voice traffic has a predictable bandwidth need and known packet arrival times.
Data traffic is not real
time and has unpredictable bandwidth need.
Data traffic can temporarily burst, as when a large file is being downloaded. This
bursting can consume the entire bandwidth of a link.
More recently, video traffic has become the increasingly important to business
communications and operations.
70% of all traffic in 2017.
By 2022, video will represent 82% of all traffic.
Mobile video traffic will reach 60.9 exabytes per month by 2022.
The type of demands that voice, video, and data traffic place on the network are very
different.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
EMC
EMC
0 Tw T*
EMC
EMC
EMC
EMC
q 1 0 0 1 257.0249 143.5527 cm
q 1 0 0 1 134.2079 107.0519 cm
q 1 0 0 1 134.7079 143.5527 cm
q 1 0 0 1 556.4304 143.5527 cm
q 1 0 0 1 134.2079 143.0527 cm
q 1 0 0 1 134.2079 23.7763 cm
EMC
/TT1 1 Tf
-0.004 Tw 0 -1.2 TD
EMC
EMC
/TT0 1 Tf
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Traffic Characteristics
Voice
Voice traffic is predictable and smooth and very sensitive to delays and dropped
packets.
Voice packets must receive a higher priority than other types of traffic.
Cisco products use the RTP port range 16384 to 32767 to prioritize voice traffic.
Voice can tolerate a certain amount of latency, jitter, and loss without any noticeable
effects
Jitter should be no more than 30 ms, and packet loss no more than 1%.
Voice traffic requires at least 30 Kbps of bandwidth.
Voice Traffic
Characteristics
One
Way Requirements
Smooth
Benign
Drop sensitive
Delay sensitive
UPD priority
Latency
Jitter
Loss
1% Bandwidth (30
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
EMC
EMC
0.008 Tw T*
EMC
q 1 0 0 1 271.4556 138.8158 cm
q 1 0 0 1 148.6387 102.315 cm
q 1 0 0 1 149.1387 138.8158 cm
q 1 0 0 1 570.8611 138.8158 cm
q 1 0 0 1 148.6387 138.3158 cm
q 1 0 0 1 148.6387 19.0394 cm
EMC
/TT1 1 Tf
0.004 Tc -0.004 Tw 0 -1.2 TD
EMC
EMC
/TT0 1 Tf
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Traffic Characteristics
Video
Video traffic tends to be unpredictable, inconsistent, and bursty. Compared to voice,
video is less resilient to loss and has a higher volume of data per packet.
The number and size of video packets varies every 33 ms based on the content of
the video.
UDP ports such as 554, are used for the Real
and should be given priority over other, less delay
sensitive, network traffic.
than 50 ms, and video packet loss should be no more than 1%. Video traffic
requires at least 384 Kbps of bandwidth.
Video Traffic
Characteristics
One
Way Requirements
Bursty
Greedy
Drop sensitive
Delay sensitive
UPD priority
Latency
Jitter
Loss
Bandwidth (384 Kbps
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
EMC
EMC
EMC
q 1 0 0 1 229.5486 126.1887 cm
q 1 0 0 1 230.0486 148.2895 cm
q 1 0 0 1 461.0899 148.2895 cm
q 1 0 0 1 229.5486 147.7895 cm
q 1 0 0 1 229.5486 42.9131 cm
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
0 Tc 0 Tw 0 -1.8 TD
EMC
EMC
EMC
EMC
Traffic Characteristics
Data
Data applications that have no tolerance for data loss, such as email and web pages,
use TCP to ensure that if packets are lost in transit, they will be resent.
Data traffic can be smooth or bursty.
Network control traffic is usually smooth and predictable.
Some TCP applications can consume a large portion of network capacity. FTP will
consume as much bandwidth as it can get when you download a large file, such as a
movie or game.
Data Traffic Characteristics
Smooth/bursty
Benign/greedy
Drop insensitive
Delay insensitive
TCP Retransmits
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
Traffic Characteristics
Data traffic is relatively insensitive to drops and delays compared to voice and video.
Quality of Experience or QoE is important to consider with data traffic.
Does the data come from an interactive application?
Is the data mission critical?
Factor
Mission Critical
Not Mission  Critical
Interactive
Prioritize for the lowest delay of all data traffic
and strive for a 1 to 2 second response time.
Applications could benefit from lower delay.
Not interactive
Delay can vary greatly as long as the
necessary minimum bandwidth is supplied.
Gets any leftover bandwidth after all voice,
video, and other data application needs are
met.
9.3 Queuing Algorithms
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Queuing Algorithms
Video
QoS Algorithms
This video will cover the following:
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
EMC
EMC
EMC
EMC
Queuing Algorithms
Queuing Overview
The QoS policy implemented by the network administrator becomes active when
congestion occurs on the link. Queuing is a congestion management tool that can
buffer, prioritize, and, if required, reorder packets before being transmitted to the
destination.
A number of queuing algorithms are available:
First
In, First
Class
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.002 Tc 0.002 Tw 0 -1.203 TD
EMC
-0.015 Tw T*
EMC
EMC
Queuing Algorithms
First in First Out
arrival.
FIFO has no concept of priority or classes of traffic and consequently, makes no
decision about packet priority.
There is only one queue, and all packets are treated equally.
Packets are sent out an interface in the order in which they arrive.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
-0.015 Tw T*
EMC
0 Tw T*
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
0 Tw T*
0.008 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
EMC
Queuing Algorithms
scheduling method that provides fair bandwidth
allocation to all network traffic.
WFQ applies priority, or weights, to identified
traffic, classifies it into conversations or flows,
and then determines how much bandwidth
each flow is allowed relative to other flows.
WFQ classifies traffic into different flows based
on source and destination IP addresses, MAC
addresses, port numbers, protocol, and Type of
WFQ is not supported with tunneling and
encryption because these features modify the
packet content information required by WFQ
for classification.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw 0 -1.143 TD
EMC
EMC
0.008 Tw T*
EMC
-0.007 Tw 0 -1.203 TD
EMC
Queuing Algorithms
Class
Class
functionality to provide support for user
defined traffic classes.
Traffic classes are defined based on match criteria including protocols, access
Packets satisfying the match criteria for a class constitute the traffic for that class.
A FIFO queue is reserved for each class, and traffic belonging to a class is
directed to the queue for that class.
A class can be assigned characteristics, such as bandwidth, weight, and maximum
packet limit. The bandwidth assigned to a class is the guaranteed bandwidth
delivered during congestion.
Packets belonging to a class are subject to the bandwidth and queue limits, which
is the maximum number of packets allowed to accumulate in the queue, that
characterize the class.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
0 Tw 0 -1.203 TD
EMC
Queuing Algorithms
Class
After a queue has reached its configured queue limit, adding more packets to the
class causes tail drop or packet drop to take effect, depending on how class policy is
configured.
Tail drop discards any packet that arrives at the tail end of a queue that has
completely used up its packet
holding resources.
This is the default queuing response to congestion. Tail drop treats all traffic
equally and does not differentiate between classes of service.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
0.015 Tw T*
EMC
-0.007 Tw T*
0 Tw 0 -1.203 TD
EMC
0 Tw T*
(queue.
Queuing Algorithms
CBWFQ.
Strict PQ allows delay
sensitive
packets such as voice to be sent
before packets in other queues.
LLQ allows delay
sensitive packets
such as voice to be sent first (before
delay
sensitive packets preferential
treatment over other traffic.
Cisco recommends that only voice
traffic be directed to the priority
9.4 QoS Models
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
QoS Models
Video
QoS Models
This video will cover the following:
Best
effort model
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
EMC
EMC
0 Tc 0 Tw (-
EMC
q 1 0 0 1 159.8237 190.1478 cm
q 1 0 0 1 41.4163 168.047 cm
q 1 0 0 1 41.4163 132.0462 cm
q 1 0 0 1 41.4163 67.2454 cm
q 1 0 0 1 41.9163 190.1478 cm
q 1 0 0 1 678.0836 190.1478 cm
q 1 0 0 1 41.4162 189.6478 cm
q 1 0 0 1 41.4162 16.8447 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
EMC
EMC
-0.003 Tc 0.003 Tw 0 -1.2 TD
EMC
EMC
EMC
EMC
-0.003 Tc 0.005 Tw T*
EMC
EMC
QoS Models
Selecting an Appropriate QoS Policy Model
There are three models for implementing QoS. QoS is implemented in a network
using either IntServ or DiffServ.
IntServ provides the highest guarantee of QoS, it is very resource
intensive, and therefore,
not easily scalable.
DiffServ is less resource
intensive and more scalable.
IntServ and DiffServ are sometimes co
deployed in network QoS implementations.
Model
Description
Best
effort model
Not an implementation as QoS is not explicitly configured.
Use when QoS is not required.
Integrated services
Provides very high QoS to IP packets with guaranteed delivery.
Defines a signaling process for applications to signal to the network that they require special
QoS for a period and that bandwidth should be reserved.
IntServ can severely limit the scalability of a network.
Differentiated
Provides high scalability and flexibility in implementing QoS.
Network devices recognize traffic classes and provide different levels of QoS to different
traffic classes.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
QoS Models
Best Effort
The basic design of the internet is best
effort packet delivery and provides no
guarantees.
The best
effort model treats all network packets in the same way, so an
emergency voice message is treated the same way that a digital photograph
attached to an email is treated.
Benefits and drawbacks of the best effort model:
Benefits
Drawbacks
The model is the most scalable.
There are no guarantees of delivery.
Scalability is only limited by available bandwidth, in
which case all traffic is equally affected.
Packets will arrive whenever they can and in any order
possible, if they arrive at all.
No special QoS mechanisms are required.
No packets have preferential treatment.
It is the easiest and quickest model to deploy.
Critical data is treated the same as casual email is treated.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw 0 -1.203 TD
-0.007 Tw 0 -1.203 TD
EMC
-0.015 Tw 0 -1.203 TD
EMC
0.008 Tw T*
EMC
QoS Models
Integrated Services
IntServ delivers the end
end QoS that real
time applications require.
Explicitly manages network resources to
provide QoS to individual flows or streams,
sometimes called microflows.
Uses resource reservation and admission
control mechanisms as building blocks to
establish and maintain QoS.
Uses a connection
oriented approach. Each
individual communication must explicitly
specify its traffic descriptor and requested
resources to the network.
The edge router performs admission control
to ensure that available resources are
sufficient in the network.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.018 Tw 0 -1.2 TD
EMC
EMC
-0.026 Tw T*
0 Tc 0 Tw (-
EMC
I)2 (f)2 ( )8 (net)2 (w)14 (or)1 (k dev)16 (i)2 (ces al)2 (ong t)2 (he )8 (pat)2 (h can )8.1 (r)0.9 (eser)1 (v)16 (e t)2 (he )8 (necessar)1 (y)16 ( bandw)14 (i)2 (dt)2 (h,)2 ( )8 (t)2 (he or)1 (i)2 (gi)2 (nat)2 (i)2 (ng )]TJ
-0.018 Tw T*
EMC
q 1 0 0 1 323.9998 148.2703 cm
q 1 0 0 1 33.5135 126.1695 cm
q 1 0 0 1 34.0135 148.2703 cm
q 1 0 0 1 670.1809 148.2703 cm
q 1 0 0 1 33.5135 147.7703 cm
q 1 0 0 1 33.5135 53.6793 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
EMC
EMC
EMC
QoS Models
In the IntServ model, the application requests a specific kind of service from the network before
sending data.
The application informs the network of its traffic profile and requests a particular kind of service
that can encompass its bandwidth and delay requirements.
end path through the network.
If network devices along the path can reserve the necessary bandwidth, the originating
application can begin transmitting. If the requested reservation fails along the path, the
originating application does not send any data.
Benefits
Drawbacks
Explicit end
end resource admission control
Per
request policy admission control
Signaling of dynamic port numbers
Resource intensive due to the stateful architecture
requirement for continuous signaling.
Flow
based approach not scalable to large implementations
such as the internet.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
0.015 Tw 0 -1.203 TD
EMC
Is)-3.8 ( not an )7.7 (end)]TJ
EMC
0.008 Tw T*
0 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
EMC
(hop
QoS Models
Differentiated Services
model specifies a simple and scalable
mechanism for classifying and managing
network traffic.
Is not an end
end QoS strategy because
it cannot enforce end
end guarantees.
Hosts forward traffic to a router which
and provides the appropriate QoS policy for
the classes.
Enforces and applies QoS mechanisms on a
hop basis, uniformly applying global
meaning to each traffic class to provide both
flexibility and scalability.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
0 Tw T*
EMC
EMC
q 1 0 0 1 352.0982 161.9468 cm
q 1 0 0 1 33.5135 139.846 cm
q 1 0 0 1 34.0135 161.9468 cm
q 1 0 0 1 670.1809 161.9468 cm
q 1 0 0 1 33.5135 161.4468 cm
q 1 0 0 1 33.5135 67.3558 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
EMC
EMC
EMC
QoS Models
DiffServ divides network traffic into classes based on business requirements. Each
of the classes can then be assigned a different level of service.
As the packets traverse a network, each of the network devices identifies the
packet class and services the packet according to that class.
It is possible to choose many levels of service with DiffServ.
Benefits
Drawbacks
Highly scalable
Provides many different levels of quality
No absolute guarantee of service quality
Requires a set of complex mechanisms to work in
concert throughout the network
9.5 QoS Implementation
Techniques
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.012 Tw 0 -1.2 TD
EMC
QoS Implementation Techniques
Video
QoS Implementation Techniques
This video will cover the following:
Implementation tools (classification and marking, congestion avoidance,
Traffic marking
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
EMC
0 Tw 0 -2.782 TD
EMC
EMC
0.015 Tw 0 -1.143 TD
0 Tw 0 -1.143 TD
EMC
QoS Implementation Techniques
Avoiding Packet Loss
Packet loss is usually the result of congestion on an interface. Most applications that
use TCP experience slowdown because TCP automatically adjusts to network
congestion. Dropped TCP segments cause TCP sessions to reduce their window
The following approaches can prevent drops in sensitive applications:
Increase link capacity to ease or prevent congestion.
Guarantee enough bandwidth and increase buffer space to accommodate bursts
of traffic from fragile flows. WFQ, CBWFQ, and LLQ can guarantee bandwidth
and provide prioritized forwarding to drop
sensitive applications.
Drop lower
priority packets before congestion occurs. Cisco IOS QoS provides
start dropping lower
priority packets before congestion occurs.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
q 1 0 0 1 230.2411 310.6805 cm
q 1 0 0 1 41.4163 286.1797 cm
q 1 0 0 1 41.4163 228.5789 cm
q 1 0 0 1 41.4163 103.7781 cm
q 1 0 0 1 41.9163 310.6805 cm
q 1 0 0 1 678.0836 310.6805 cm
q 1 0 0 1 41.4162 310.1805 cm
q 1 0 0 1 41.4162 29.3773 cm
EMC
/TT1 1 Tf
EMC
EMC
/TT0 1 Tf
0.001 Tw 0 -1.197 TD
EMC
-0.02 Tw T*
EMC
EMC
EMC
-0.02 Tw 0 -1.197 TD
EMC
-0.02 Tw 0 -1.197 TD
EMC
-0.02 Tw T*
0 Tc 0 Tw (-
-0.029 Tw T*
EMC
0.001 Tw T*
EMC
EMC
QoS Implementation Techniques
QoS Tools
There are three categories of QoS tool, as described in the table.
QoS Tools
Description
Classification and marking
tools
Sessions, or flows, are analyzed to determine what traffic class they
belong to.
When the traffic class is determined, the packets are marked.
Congestion avoidance tools
Traffic classes are allotted portions of network resources, as
defined by the QoS policy.
The QoS policy also identifies how some traffic may be selectively
dropped, delayed, or re
marked to avoid congestion.
The primary congestion avoidance tool is WRED and is used to
regulate TCP data traffic in a bandwidth
efficient manner before tail
drops caused by queue overflows occur.
Congestion management
tools
When traffic exceeds available network resources, traffic is queued
to await availability of resources.
Common Cisco IOS
based congestion management tools include
CBWFQ and LLQ algorithms.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
QoS Implementation Techniques
The figure shows the sequence of QoS tools used when applied to packet flows.
Ingress packets are classified and their respective IP header is marked.
To avoid congestion, packets are then allocated resources based on defined
policies.
Packets are then queued and forwarded out the egress interface based on their
defined QoS shaping and policing policy.
Note
: Classification and marking can be done on ingress or egress, whereas
other QoS actions such queuing and shaping are usually done on egress.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.008 Tw 0 -1.391 TD
EMC
EMC
0 Tw 0 -1.143 TD
EMC
QoS Implementation Techniques
Classification and Marking
Before a packet can have a QoS policy applied to it, the packet has to be classified.
Classification determines the class of traffic to which packets or frames belong. Only
after traffic is marked can policies be applied to it.
How a packet is classified depends on the QoS implementation.
Methods of classifying traffic flows at Layer 2 and 3 include using interfaces,
ACLs, and class maps.
Traffic can also be classified at Layers 4 to 7 using Network Based Application
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
EMC
EMC
EMC
end.
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
QoS Implementation Techniques
How traffic is marked usually depends on the technology. The decision of whether to
consideration of the following points:
Layer 2 marking of frames can be performed for non
IP traffic.
Layer 2 marking of frames is the only QoS option available for switches that are
Layer 3 marking will carry the QoS information end
QoS Tools
Layer
Marking Field
Width in Bits
MPLS
IPv4 and IPv6
IPv4 and IPv6
QoS Implementation Techniques
Marking at Layer 2
802.1Q is the IEEE standard that supports VLAN tagging at Layer 2 on Ethernet
networks. When 802.1Q is implemented, two fields are inserted into the Ethernet
frame following the source MAC address field.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw T*
EMC
0 Tw T*
EMC
q 1 0 0 1 251.4722 211.1957 cm
q 1 0 0 1 393.2301 211.1957 cm
q 1 0 0 1 33.5135 189.0949 cm
q 1 0 0 1 33.5135 167.4941 cm
q 1 0 0 1 33.5135 145.8933 cm
q 1 0 0 1 33.5135 124.2925 cm
q 1 0 0 1 33.5135 102.6917 cm
q 1 0 0 1 33.5135 81.0909 cm
q 1 0 0 1 33.5135 59.4901 cm
q 1 0 0 1 33.5135 37.8893 cm
q 1 0 0 1 34.0135 211.1956 cm
q 1 0 0 1 674.11 211.1956 cm
q 1 0 0 1 33.5135 210.6955 cm
q 1 0 0 1 33.5135 16.2884 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
EMC
EMC
EMC
EMC
EMC
EMC
QoS Implementation Techniques
The 802.1Q standard also includes the QoS prioritization scheme known as IEEE 802.1p. The
Three bits means that a Layer 2 Ethernet frame can be marked with one of eight levels of
priority (values 0
CoS Value
CoS Binary Value
Description
Best
Effort Data
Medium
Priority Data
High
Priority Data
Call Signaling
Videoconferencing
Reserved
Reserved
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw 0 -2.782 TD
QoS Implementation Techniques
Marking at Layer 3
IPv4 and IPv6 specify an 8
bit field in
their packet headers to mark packets.
Both IPv4 and IPv6 support an 8
bit field
field for IPv4 and the Traffic Class field
for IPv6.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
0 Tw 0 -1.203 TD
-0.015 Tw 0 -1.203 TD
EMC
0 Tw 0 -1.203 TD
QoS Implementation Techniques
Type of Service and Traffic Class Field
the QoS classification tools.
RFC 791 specified the 3
bit IP Precedence
RFC 2474 supersedes RFC 791 and redefines
the ToS field by renaming and extending the
IPP field to 6 bits.
Called the Differentiated Services Code Point
64 possible classes of service.
The remaining two IP Extended Congestion
aware routers to mark packets instead of
dropping them.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
Best
/TT0 1 Tf
(per
EMC
/TT0 1 Tf
/TT1 1 Tf
-0.007 Tw 0 -1.203 TD
EMC
/TT0 1 Tf
QoS Implementation Techniques
DSCP Values
The 64 DSCP values are organized into three categories:
This is the default for all IP packets. The DSCP value is 0. The
hop behavior is normal routing. When a router experiences congestion, these
packets will be dropped. No QoS plan is implemented.
RFC 3246 defines EF as the DSCP decimal value
46 (binary
used for voice traffic. At Layer 3, Cisco recommends that EF only be used to mark
voice packets.
RFC 2597 defines AF to use the 5 most significant
DSCP bits to indicate queues and drop preference.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw 0 -1.391 TD
/TT1 1 Tf
/TT0 1 Tf
EMC
0 Tw 0 -1.203 TD
0.015 Tw 0 -1.203 TD
EMC
0 Tw 0 -1.203 TD
EMC
QoS Implementation Techniques
Assured Forwarding values are shown in
the figure.
The
AFxy
formula is specified as follows:
The first 3 most significant bits are
used to designate the class. Class 4 is
the best queue and Class 1 is the
worst queue.
The 4th and 5th most significant bits
are used to designate the drop
preference.
The 6th most significant bit is set to
zero.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
QoS Implementation Techniques
Class Selector Bits
The first 3 most significant bits
of the DSCP field and indicate
the class.
Map directly to the 3 bits of the
CoS field and the IPP field to
maintain compatibility with
802.1p and RFC 791.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
-0.003 Tw 0 -1.197 TD
EMC
EMC
QoS Implementation Techniques
Trust Boundaries
Traffic should be classified and marked as close to its source as technically and
administratively feasible. This defines the trust boundary.
Trusted endpoints have the capabilities and intelligence to mark application traffic to the
appropriate Layer 2 CoS and/or Layer 3 DSCP values.
Secure endpoints can have traffic marked at the Layer 2 switch.
Traffic can also be marked at Layer 3 switches / routers.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
-0.029 Tw 0 -1.197 TD
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
-0.029 Tw 0 -1.197 TD
EMC
QoS Implementation Techniques
Congestion Avoidance
Congestion avoidance tools monitor network traffic loads in an effort to anticipate and
avoid congestion at common network and internetwork bottlenecks before congestion
becomes a problem.
They monitor network traffic loads in an effort to anticipate and avoid congestion at common
network and internetwork bottlenecks before congestion becomes a problem.
They monitor the average depth of the queue. When the queue is below the minimum threshold,
there are no drops. As the queue fills up to the maximum threshold, a small percentage of packets
are dropped. When the maximum threshold is passed, all packets are dropped.
Some congestion avoidance techniques provide preferential treatment for which packets
get dropped.
by providing buffer management and allowing TCP traffic to decrease, or throttle back, before
buffers are exhausted.
WRED helps avoid tail drops and maximizes network use and TCP
based application
performance.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.008 Tw T*
0 Tw 0 -1.203 TD
EMC
QoS Implementation Techniques
Shaping and Policing
Traffic shaping and traffic policing are two mechanisms provided by Cisco IOS QoS
software to prevent congestion.
Traffic shaping retains excess packets in a queue and then schedules the excess for
later transmission over increments of time. Traffic shaping results in a smoothed
packet output rate.
Shaping is an outbound concept; packets going out an interface get queued and can
be shaped. In contrast, policing is applied to inbound traffic on an interface.
QoS Implementation Techniques
Policing is applied to inbound traffic on an interface. Policing is commonly implemented
network is not currently experiencing congestion.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
EMC
EMC
QoS Implementation Techniques
QoS Policy Guidelines
QoS policies must consider the full path from source to destination.
A few guidelines that help ensure the best experience for end users includes the
following:
Enable queuing at every device in the path between source and destination.
Classify and mark traffic as close the source as possible.
Shape and police traffic flows as close to their sources as possible.
9.6 Module Practice and Quiz
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Module Practice and Quiz
What did I learn in this module?
Voice and live video transmissions create higher expectations for quality delivery among
Without any QoS mechanisms in place, packets are processed in the order in which they are
received. When congestion occurs, network devices such as routers and switches can drop
packets.
Without any QoS time
sensitive packets, such as real
time video and voice, will be dropped
with the same frequency as data that is not time
sensitive, such as email and web browsing.
Queuing packets causes delay because new packets cannot be transmitted until previous
packets have been processed.
Two types of delays are fixed and variable.
Sources of delay are code delay, packetization delay, queuing delay, serialization delay,
propagation delay, and de
jitter delay.
Jitter is the variation in the delay of received packets.
Voice and video traffic are two of the main reasons for QoS.
Voice traffic is smooth and benign, but it is sensitive to drops and delays.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
0.008 Tw T*
EMC
EMC
0.008 Tw T*
EMC
0.008 Tw T*
EMC
Module Practice and Quiz
Voice can tolerate a certain amount of latency, jitter, and loss without any noticeable effects.
Video traffic is more demanding than voice traffic because of the size of the packets it sends
across the network.
Video traffic is bursty, greedy, drop sensitive, and delay sensitive.
Data traffic is not as demanding as voice and video traffic. Data packets often use TCP
applications which can retransmit data and, therefore, are not sensitive to drops and delays.
The QoS policy implemented by the network administrator becomes active when congestion
occurs on the link.
Queuing is a congestion management tool that can buffer, prioritize, and, if required, reorder
packets before being transmitted to the destination.
FIFO queuing buffers and forwards packets in the order of their arrival. FIFO has no concept
of priority or classes of traffic and consequently, makes no decision about packet priority.
WFQ is an automated scheduling method that provides fair bandwidth allocation to all
network traffic. WFQ applies priority, or weights, to identified traffic and classifies it into
conversations or flows.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.015 Tw 0 -1.203 TD
-0.002 Tc 0.01 Tw 0 -1.203 TD
EMC
EMC
EMC
0.008 Tw T*
effor)2.2 (t and )]TJ
EMC
0 Tw T*
EMC
Module Practice and Quiz
CBWFQ extends the standard WFQ functionality to provide support for user
defined traffic
classes. With CBWFQ, you define traffic classes based on match criteria including protocols,
There are three models for implementing QoS: Best
effort model, Integrated services
IntServ architecture model was developed to meet the needs of real
time applications, such
as remote video, multimedia conferencing, data visualization applications, and virtual reality.
DiffServ QoS model specifies a simple and scalable mechanism for classifying and managing
network traffic. The DiffServ design overcomes the limitations of both the best
effort and
IntServ models.
There are three categories of QoS tools: classification and marking tools, congestion
avoidance tools, and congestion management tools.
Classification determines the class of traffic to which packets or frames belong.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
EMC
0 Tw T*
EMC
0 Tw 0 -1.203 TD
EMC
Module Practice and Quiz
Methods of classifying traffic flows at Layer 2 and 3 include using interfaces, ACLs, and class
maps. Traffic can also be classified at Layers 4 to 7 using Network Based Application
Congestion management includes queuing and scheduling methods where excess traffic is
interface.
Congestion avoidance tools help to monitor network traffic loads in an effort to anticipate and
avoid congestion at common network and internetwork bottlenecks before congestion
becomes a problem.
avoidance solution.
Enterprise Networking, Security, and Automation v7.0
Module 10: Network
Management
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
q 1 0 0 1 272.0519 274.609 cm
q 1 0 0 1 34.1641 249.809 cm
q 1 0 0 1 34.1641 225.509 cm
q 1 0 0 1 34.1641 201.209 cm
q 1 0 0 1 34.1641 176.909 cm
q 1 0 0 1 34.1641 152.609 cm
q 1 0 0 1 34.1641 128.309 cm
q 1 0 0 1 34.1641 87.209 cm
q 1 0 0 1 34.6641 274.609 cm
q 1 0 0 1 656.4613 274.609 cm
q 1 0 0 1 34.1641 274.109 cm
q 1 0 0 1 34.1641 62.909 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
(NTP
Module Objectives
Module Title:
Network Management
Module Objective
Implement protocols to manage the network.
Topic Title
Topic Objective
Device Discovery with CDP
Use CDP to map a network topology.
Device Discovery with LLDP
Use LLDP to map a network topology.
Implement NTP between an NTP client and NTP server.
SNMP
Explain how SNMP operates.
Syslog
Explain syslog operation.
Router and Switch File
Maintenance
Use commands to back up and restore an IOS configuration
file.
IOS Image Management
Implement protocols to manage the network.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
0.001 Tc -0.001 Tw 0 -1.081 TD
(CDP
10.1 Device Discovery with
Device Discovery with CDP
CDP Overview
CDP is a Cisco proprietary Layer 2 protocol that is used to
gather information about Cisco
devices
which share the
same data link
. CDP is media and protocol independent and runs
on all Cisco devices, such as routers, switches, and access servers.
The device sends periodic CDP advertisements to connected devices. These
advertisements share information about the type of device that is discovered, the name of
the devices, and the number and type of the interfaces.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
0.008 Tw (, enter
/TT0 1 Tf
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
/TT1 1 Tf
EMC
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
Device Discovery with CDP
Configure and Verify CDP
For Cisco devices, CDP is enabled by default. To verify the status of CDP and display
information about CDP, enter the
show cdp
command.
To disable
CDP on a specific interface
no cdp enable
in the interface
configuration mode. CDP is still enabled on the device; however, no more CDP
advertisements will be sent out that interface. To enable CDP on the specific interface
again, enter
cdp enable.
To enable
CDP globally
for all the supported interfaces on the device, enter
cdp
run
in the global configuration mode. CDP can be disabled for all the interfaces on the
device with the
no cdp run
command in the global configuration mode.
Use the
show cdp interface
command to display the interfaces that are CDP
enabled on a device. The status of each interface is also displayed.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
0 Tw 0 -1.203 TD
EMC
EMC
/TT2 1 Tf
EMC
/TT2 1 Tf
EMC
Phone,
(Relay
Device ID
Local I)8.2 (ntrf)8.3 (ce )]TJ
EMC
0 Tc 0 Tw (-
Fas 0/5
Device Discovery with CDP
Discover Devices by Using CDP
With CDP enabled on the network, the
show cdp neighbors
command can be used
to determine the network layout, as shown in the output.
The output shows that there is another Cisco device, S1, connected to the G0/0/1
interface on R1. Furthermore, S1 is connected through its F0/5
show cdp neighbors
Capability Codes: R
Router, T
Trans Bridge, B
Source Route Bridge
Switch, H
Host, I
IGMP, r
Repeater, P
Remote, C
CVTA, M
Two
port Mac
Local Intrfce
Holdtme
Capability
Platform
Port ID
Gig 0/0/1
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
EMC
/TT2 1 Tf
EMC
-0.008 Tw 0 -1.197 TD
(Device ID: S1
EMC
EMC
0 Tc 0 Tw (-
Device Discovery with CDP
The network administrator uses
show cdp neighbors detail
to discover the IP address
for S1. As displayed in the output, the address for S1 is 192.168.1.2.
show cdp neighbors detail
IP address: 192.168.1.2
Platform: cisco WS
24TS, Capabilities: Switch IGMP
Holdtime : 136 sec
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
Device Discovery with CDP
Packet Tracer
Use CDP to Map a Network
A senior network administrator requires you to map the Remote Branch Office network
and discover the name of a recently installed switch that still needs an IPv4 address to be
configured. Your task is to create a map of the branch office network. To map the
discover information about neighboring network devices, like routers and switches.
10.2 Device Discovery with
LLDP
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
Device Discovery with LLDP
LLDP Overview
neutral neighbor discovery protocol
similar to CDP. LLDP works with network devices, such as routers, switches, and wireless
LAN access points. This protocol advertises its identity and capabilities to other devices
and receives the information from a physically
connected Layer 2 device.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.015 Tw 0 -1.203 TD
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
EMC
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
(end
Device Discovery with LLDP
Configure and Verify LLDP
LLDP may be enabled by default. To enable LLDP globally on a Cisco network device,
enter the
lldp run
command in the global config mode. To disable LLDP, enter the
lldp run
command in the global config mode.
LLDP can be configured on specific interfaces. However, LLDP must be configured
separately to transmit and receive LLDP packets.
To verify LLDP is enabled, enter the
show lldp
command in privileged EXEC mode.
Switch#
conf t
Enter configuration commands, one per line. End with CNTL/Z.
lldp run
interface gigabitethernet 0/1
Switch(config
lldp transmit
Switch(config
lldp receive
Switch(config
Switch#
show lldp
Global LLDP Information:
Status: ACTIVE
LLDP advertisements are sent every 30 seconds
LLDP hold time advertised is 120 seconds
LLDP interface reinitialisation delay is 2 seconds
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
EMC
EMC
EMC
EMC
Device Discovery with LLDP
Discover Devices by Using LLDP
With LLDP enabled, device neighbors can be discovered by using the
show lldp
neighbors
command.
show lldp neighbors
Capability codes:
Device ID
Local Intf
Hold
time
Capability
Port
Total entries displayed: 2
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
EMC
/TT2 1 Tf
EMC
0 Tw 0 -1.196 TD
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
0 Tc 0 Tw (-
EMC
EMC
EMC
EMC
Device Discovery with LLDP
When more details about the neighbors are needed, the
show lldp neighbors
detail
command can provide information, such as the neighbor IOS version, IP address,
and device capability.
show lldp neighbors detail
Chassis id: 848a.8d44.49b0
Port id: Gi0/0/1
Port Description: GigabitEthernet0/0/1
System Name: R1
System Description: Cisco IOS Software [Fuji], ISR Software (X86_64_LINUX_.....,
Technical Support: http://www.cisco.com/techsupport
2019 by Cisco Systems, Inc.
Compiled Thu 22
Aug
19 18:09 by mcpre
Time remaining: 111 seconds
System Capabilities: B,R
Enabled Capabilities: R
Management Addresses
not advertised
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
Device Discovery with LLDP
Packet Tracer
Use LLDP to Map a Network
In this Packet Tracer activity, you will complete the following objectives:
Build the Network and Configure Basic Device Settings
Network Discovery with CDP
Network Discovery with LLDP
10.3 NTP
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
EMC
0.008 Tw T*
EMC
EMC
/TT1 1 Tf
EMC
/TT1 1 Tf
NTP
Time and Calendar Services
The software clock on a router or switch starts when the system boots. It is the
primary source of time for the system. It is important to synchronize the time across all
devices on the network. When the time is not synchronized between devices, it will be
impossible to determine the order of the events and the cause of an event.
Typically, the date and time settings on a router or switch can be set by using one of
two methods You can manually configure the date and time, as shown in the example,
clock set 20:36:00 nov 15 2019
*Nov 15 20:36:00.000: %SYS
CLOCKUPDATE: System clock has been
updated from 21:32:31 UTC Fri Nov 15 2019 to 20:36:00 UTC Fri Nov 15
2019, configured from console by console.
NTP
As a network grows, it becomes difficult to ensure that all infrastructure devices are
operating with synchronized time using the manual method.
A better solution is to configure the NTP on the network. This protocol allows routers on
the network to synchronize their time settings with an NTP server, which provides more
consistent time settings. NTP can be set up to synchronize to a private master clock, or it
can synchronize to a publicly available NTP server on the internet. NTP uses UDP port
123 and is documented in RFC 1305.
NTP
NTP Operation
NTP networks use a hierarchical
system of time sources. Each level
in this hierarchical system is called a
stratum. The stratum level is defined
as the number of hop counts from
the authoritative source. The
synchronized time is distributed
across the network by using NTP.
The max hop count is 15. Stratum
16, the lowest stratum level,
indicates that a device is
unsynchronized.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
EMC
NTP
Stratum 0:
These authoritative time sources are high
precision timekeeping devices
assumed to be accurate and with little or no delay associated with them.
Stratum 1:
Devices that are directly connected to the authoritative time sources. They
act as the primary network time standard.
Stratum 2 and Lower:
Stratum 2 servers are connected to stratum 1 devices through
network connections. Stratum 2 devices, such as NTP clients, synchronize their time
by using the NTP packets from stratum 1 servers. They could also act as servers for
stratum 3 devices.
Time servers on the same stratum level can be configured to act as a peer with other time
servers on the same stratum level for backup or verification of time.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
0 Tw 0 -1.203 TD
(the
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT2 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT3 1 Tf
sho)8.3 (w cl)8.3 (ock)8.2 ( detail)]TJ
EMC
/TT3 1 Tf
EMC
0 Tw 0 -1.197 TD
[(Time so)8.2 (urce)8.3 ( is)8.3 ( user c)8.2 (onfi)8.3 (gur)8.3 (ation)]TJ
EMC
-0.008 Tw T*
EMC
0.002 Tw T*
/TT4 1 Tf
EMC
/TT3 1 Tf
/TT4 1 Tf
EMC
/TT3 1 Tf
NTP
Configure and Verify NTP
Before NTP is configured on the network, the
show clock
command displays the
current time on the software clock. With the
detail
option, notice that the time source
is user configuration. That means the time was manually configured with
clock
command.
The
ntp server
address
command is issued in global configuration mode to
configure 209.165.200.225 as the NTP server for R1. To verify the time source is set
to NTP, use the
show clock detail
command. Notice that now the time source is
NTP.
show clock detail
20:55:10.207 UTC Fri Nov 15 2019
Time source is user configuration
R1# config t
ntp server 209.165.200.225
end
show clock detail
21:01:34.563 UTC Fri Nov 15 2019
Time source is NTP
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
(and
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
sho)8.3 (w nt)8.3 (p a)8.2 (ssociat)8.3 (ions)]TJ
EMC
/TT2 1 Tf
when p)8.2 (oll )8.3 (eac)8.3 (h delay)8.3 ( off)8.3 (set)8.3 ( )]TJ
(disp
EMC
NTP
The
show ntp associations
show ntp status
commands are used to verify that R1 is
synchronized with the NTP server at 209.165.200.225. Notice that R1 is synchronized with a
stratum 1 NTP server at 209.165.200.225, which is synchronized with a GPS clock. The
show
ntp status
command displays that R1 is now a stratum 2 device that is synchronized with the
NTP server at 209.165.220.225.
show ntp associations
address
ref clock
when poll each delay offset
*~209.165.200.225   .GPS.
sys.peer, # selected, + candidate,
outlyer, x falseticker, ~ configured
show ntp status
Clock is synchronized,
stratum 2
, reference is 209.165.200.225
nominal freq is 250.0000 Hz, actual freq is 249.9995 Hz, precision is 2**19
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
-0.007 Tw 0 -1.203 TD
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
EMC
/TT2 1 Tf
EMC
/TT0 1 Tf
NTP
The clock on S1 is configured to synchronize to R1 with the
ntp server
command and
the configuration is verified with the
show ntp associations
command.
Output from the
show ntp associations
command verifies that the clock on S1 is
now synchronized with R1 at 192.168.1.1 via NTP. R1 is a stratum 2 device, making
S1 is a stratum 3 device that can provide NTP service to other devices in the network.
ntp server 192.168.1.1
end
show ntp associations
address
ref clock
st when poll reach delay offset disp
sys.peer, # selected, + candidate,
outlyer, x falseticker, ~ configured
show ntp status
Clock is synchronized,
stratum 3
, reference is 192.168.1.1
nominal freq is 119.2092 Hz, actual freq is 119.2088 Hz, precision is 2**17
(output omitted
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
NTP
Packet Tracer
Configure and Verify NTP
In this Packet Tracer, you will configure NTP on R1 and R2 to allow time
synchronization.
10.4 SNMP
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.015 Tw 0 -1.203 TD
EMC
0 Tw 0 -2.782 TD
0.008 Tw 0 -1.203 TD
EMC
EMC
EMC
SNMP
Introduction to SNMP
SNMP was developed to allow administrators to manage nodes on an IP network. It
enables network administrators to monitor and manage network performance, find and
solve network problems, and plan for network growth.
SNMP is an application layer protocol that provides a message format for communication
between managers and agents. The SNMP system consists of three elements:
SNMP manager
SNMP defines how management information is exchanged between network
management applications and management agents. The SNMP manager polls the agents
and queries the MIB for SNMP agents on UDP port 161. SNMP agents send any SNMP
traps to the SNMP manager on UDP port 162.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.015 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
0.008 Tw T*
0.015 Tw 0 -1.203 TD
EMC
SNMP
The SNMP manager is part of a network
manager can collect information from an
can change configurations on an agent by
forward information directly to a network
The SNMP agent and MIB reside on SNMP
client devices. MIBs store data about the
device and operational statistics and are
meant to be available to authenticated
remote users. The SNMP agent is
responsible for providing access to the
local MIB.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
0 Tw 0 -1.203 TD
EMC
q 1 0 0 1 181.5346 231.932 cm
q 1 0 0 1 51.5464 209.532 cm
q 1 0 0 1 51.5464 187.632 cm
q 1 0 0 1 51.5464 136.932 cm
q 1 0 0 1 51.5464 100.632 cm
q 1 0 0 1 51.5464 78.732 cm
q 1 0 0 1 52.0464 231.932 cm
q 1 0 0 1 667.9539 231.932 cm
q 1 0 0 1 51.5464 231.432 cm
q 1 0 0 1 51.5464 56.832 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
-0.032 Tw 0 -1.2 TD
-0.022 Tw T*
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
-0.022 Tw T*
EMC
/TT1 1 Tf
EMC
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
(and
set
/TT0 1 Tf
EMC
/TT1 1 Tf
(set
SNMP
SNMP Operation
SNMP agents that reside on managed devices collect and store information about the
device and its operation locally in the MIB. The SNMP manager then uses the SNMP
agent to access information within the MIB.
There are two primary SNMP manager requests, get and set. In addition to
configuration, a set can cause an action to occur, like restarting a router.
Operation
Description
get
request
Retrieves a value from a specific variable.
get
next
request
Retrieves a value from a variable within a table; the SNMP manager does not need to
know the exact variable name. A sequential search is performed to find the needed
variable from within a table.
get
bulk
request
Retrieves large blocks of data, such as multiple rows in a table, that would otherwise
get
response
Replies to a
get
request, get
next
request,
request
sent by an NMS.
request
Stores a value in a specific variable.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT0 1 Tf
EMC
/TT0 1 Tf
SNMP
The SNMP agent responds to SNMP manager requests as follows:
Get an MIB variable
The SNMP agent performs this function in response to a
GetRequest
PDU from the network manager. The agent retrieves the value of the
requested MIB variable and responds to the network manager with that value.
Set an MIB variable
The SNMP agent performs this function in response to a
SetRequest
PDU from the network manager. The SNMP agent changes the value of
the MIB variable to the value specified by the network manager. An SNMP agent reply
to a set request includes the new settings in the device.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
SNMP
SNMP Agent Traps
Traps are unsolicited messages alerting the SNMP manager to a condition or event
on the network. Trap
directed notifications reduce network and agent resources by
eliminating the need for some of SNMP polling requests.
The figure illustrates the use of an SNMP trap to alert the network administrator that
interface G0/0/0 has failed. The NMS software can send the network administrator a
text message, pop up a window on the NMS software, or turn the router icon red in
the NMS GUI.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0.023 Tw 0 -1.203 TD
EMC
SNMP
SNMP Versions
SNMPv1
Legacy standard defined in RFC 1157. Uses a simple community
string
based authentication method. Should not be used due to security risks.
SNMPv2c
Defined in RFCs 1901
1908. Uses a simple community
string based
authentication method. Provides for bulk retrieval options, as well as more detailed
error messages.
SNMPv3
Defined in RFCs 3410
3415. Uses username authentication, provides data
protection using HMAC
MD5 or HMAC
SHA and encryption using DES, 3DES, or
AES encryption.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
EMC
EMC
/TT0 1 Tf
-0.012 Tw 0 -1.137 TD
0 Tc 0 Tw (-
EMC
/TT0 1 Tf
SNMP
Community Strings
SNMPv1 and SNMPv2c use community strings that control access to the MIB.
Community strings are plaintext passwords. SNMP community strings authenticate
access to MIB objects.
There are two types of community strings:
Read
This type provides access to the MIB variables, but does not allow these
variables to be changed, only read. Because security is minimal in version 2c, many organizations
use SNMPv2c in read
only mode.
Read
This type provides read and write access to all objects in the MIB.
To view or set MIB variables, the user must specify the appropriate community string for
read or write access.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
0 Tw T*
EMC
SNMP
MIB Object ID
The MIB organizes variables hierarchically. Formally, the MIB defines each variable as an
based on RFC standards into a hierarchy of OIDs, usually shown as a tree.
The MIB tree for any given device includes some branches with variables common to
many networking devices and some branches with variables specific to that device or
vendor.
RFCs define some common public variables. Most devices implement these MIB
variables. In addition, networking equipment vendors, like Cisco, can define their own
private branches of the tree to accommodate new variables specific to their devices.
SNMP
The figure shows portions of the MIB
structure defined by Cisco. Note how
the OID can be described in words or
numbers to help locate a particular
variable in the tree.
OIDs belonging to Cisco, are
Therefore, the OID is 1.3.6.1.4.1.9.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
EMC
SNMP
SNMP Polling Scenario
SNMP can be used is to observe CPU utilization over a period of time by polling
devices. CPU statistics can then be compiled on the NMS and graphed. This creates
a baseline for the network administrator.
The data is retrieved via the snmpget utility, issued on the NMS. Using the snmpget
utility, you can manually retrieve real
time data, or have the NMS run a report. This
report would give you a period of time that you could use the data to get the average.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
0.008 Tw T*
0 Tw 0 -1.203 TD
EMC
0 Tw 0 -1.203 TD
(the
SNMP
SNMP Object Navigator
The snmpget utility gives some insight into
the basic mechanics of how SNMP works.
However, working with long MIB variable
names like 1.3.6.1.4.1.9.2.1.58.0 can be
problematic for the average user. More
commonly, the network operations staff
uses a network management product with
an easy
use GUI, which makes the
entire MIB data variable naming
transparent to the user.
The Cisco SNMP Navigator on
http://www.cisco.com
website allows a
network administrator to research details
about a particular OID.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(Lab
EMC
EMC
EMC
EMC
SNMP
Research Network Monitoring Software
In this lab, you will complete the following objectives:
Part 1: Survey Your Understanding of Network Monitoring
Part 2: Research Network Monitoring Tools
Part 3: Select a Network Monitoring Tool
10.5 Syslog
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Syslog
Introduction to Syslog
Syslog uses UDP port 514 to send event notification messages across IP networks to
event message collectors, as shown in the figure.
The syslog logging service provides three primary functions, as follows:
The ability to gather logging information for monitoring and troubleshooting
The ability to select the type of logging information that is captured
The ability to specify the destinations of captured syslog messages
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
0.008 Tw 0 -1.203 TD
EMC
0 Tw 0 -1.203 TD
EMC
EMC
EMC
EMC
Syslog
Syslog Operation
The syslog protocol starts by sending system messages and
debug
output to a local
logging process. Syslog configuration may send these messages across the network to an
external syslog server, where they can be retrieved without needing to access the actual
device.
Alternatively, syslog messages may be sent to an internal buffer. Messages sent to the
internal buffer are only viewable through the CLI of the device.
The network administrator may specify that only certain types of system messages be sent
to various destinations. Popular destinations for syslog messages include the following:
Console line
Terminal line
Syslog server
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
0 Tw 0 -1.203 TD
-0.015 Tw 0 -1.203 TD
0 Tw T*
EMC
-0.015 Tw 0 -2.406 TD
0.008 Tw 0 -1.203 TD
0 Tw T*
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
q 1 0 0 1 406.7136 299.6341 cm
q 1 0 0 1 515.5502 299.6341 cm
q 1 0 0 1 295.0148 272.4294 cm
q 1 0 0 1 295.0148 248.1294 cm
q 1 0 0 1 295.0148 223.8294 cm
q 1 0 0 1 295.0148 199.5294 cm
q 1 0 0 1 295.0148 175.2294 cm
q 1 0 0 1 295.0148 150.9294 cm
q 1 0 0 1 295.0148 109.8294 cm
q 1 0 0 1 295.0148 85.5294 cm
q 1 0 0 1 295.5148 299.6341 cm
q 1 0 0 1 706.0463 299.6341 cm
q 1 0 0 1 295.0148 299.1341 cm
q 1 0 0 1 295.0148 61.2294 cm
EMC
/TT1 1 Tf
EMC
EMC
EMC
/TT0 1 Tf
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
EMC
(Error
Syslog
Syslog Message Format
Cisco devices produce syslog
messages as a result of network
events. Every syslog message
contains a severity level and a
facility.
The smaller numerical levels are
the more critical syslog alarms.
The severity level of the messages
can be set to control where each
type of message is displayed (i.e.
on the console or the other
syslog levels is shown in the table.
Severity Name
Severity Level
Explanation
Emergency
Level 0
System Unusable
Alert
Level 1
Immediate Action Needed
Critical
Level 2
Critical Condition
Level 3
Error Condition
Warning
Level 4
Warning Condition
Notification
Level 5
Normal, but Significant
Condition
Informational
Level 6
Informational Message
Debugging
Level 7
Debugging Message
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
EMC
0 Tw 0 -2.782 TD
EMC
EMC
EMC
EMC
Syslog
Syslog Facilities
In addition to specifying the severity, syslog messages also contain information on the
facility. Syslog facilities are service identifiers that identify and categorize system state
data for error and event message reporting. The logging facility options that are available
are specific to the networking device.
Some common syslog message facilities reported on Cisco IOS routers include:
OSPF protocol
SYS operating system
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
0 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
Syslog
By default, the format of syslog messages on the Cisco IOS Software is as follows:
%facility
severity
MNEMONIC: description
For example, sample output on a Cisco switch for an EtherChannel link changing state to
up is:
UPDOWN: Interface Port
channel1, changed state to up
Here the facility is LINK and the severity level is 3, with a MNEMONIC of UPDOWN.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.015 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
0 Tw T*
/TT3 1 Tf
EMC
/TT2 1 Tf
EMC
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
0 Tw T*
/TT3 1 Tf
EMC
/TT2 1 Tf
0 Tw T*
/TT3 1 Tf
EMC
/TT2 1 Tf
EMC
EMC
EMC
Syslog
Configure Syslog Timestamp
By default, log messages are not timestamped. Log messages should be timestamped so
that when they are sent to another destination, such as a Syslog server, there is record of
when the message was generated. Use the command
service timestamps log
datetime
to force logged events to display the date and time.
configure terminal
interface g0/0/0
R1(config
shutdown
%LINK
CHANGED: Interface GigabitEthernet0/0/0, changed state to administratively down
%LINEPROTO
UPDOWN: Line protocol on Interface GigabitEthernet0/0/0, changed state to down
R1(config
exit
service timestamps log datetime
interface g0/0/0
R1(config
no shutdown
*Mar 1 11:52:42:
%LINK
UPDOWN: Interface GigabitEthernet0/0/0, changed state to down
*Mar 1 11:52:45:
%LINK
UPDOWN: Interface GigabitEthernet0/0/0, changed state to up
*Mar 1 11:52:46:
%LINEPROTO
UPDOWN: Line protocol on Interface GigabitEthernet0/0/0,
changed state to up
R1(config
10.6 Router and Switch File
Maintenance
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
EMC
0 Tw 0 -2.782 TD
0.008 Tw 0 -1.203 TD
(of the
Router and Switch File Maintenance
Router File Systems
allows the administrator to
navigate to different directories
and list the files in a directory. The
administrator can also create
subdirectories in flash memory or
on a disk. The directories available
depend on the device.
The example displays the output
show file
systems
command, which lists all
of the available file systems on a
Cisco 4221 router.
The asterisk indicates the current default file system. The
assigned to the flash file system by default
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0 Tw 0 -1.203 TD
(the
Router and Switch File Maintenance
Because flash is the
default file system,
dir
command lists the
contents of flash. Of
specific interest is the last
listing. This is the name
of the current Cisco IOS
file image that is running
in RAM.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
/TT1 1 Tf
EMC
0.008 Tw 0 -2.782 TD
/TT1 1 Tf
/TT0 1 Tf
0 Tw T*
(the
/TT0 1 Tf
-0.007 Tw 0 -1.203 TD
0.008 Tw T*
Router and Switch File Maintenance
To view the contents of NVRAM, you
must change the current default file
system by using the
(change
example.
The present working directory
command is
pwd
. This command
verifies that we are viewing the
NVRAM directory. Finally,
dir
command lists the contents
of NVRAM. Although there are
several configuration files listed, of
specific interest is the startup
configuration file.
Router and Switch File Maintenance
Switch File Systems
With the Cisco 2960 switch
flash file system, you can copy
configuration files, and archive
images.
The command to view the file
systems on a Catalyst switch is
the same as on a Cisco
router:
show file systems.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
(Log
/TT0 1 Tf
/TT1 1 Tf
0 Tc -0.013 Tw 0 -1.197 TD
/TT0 1 Tf
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
/TT1 1 Tf
Router and Switch File Maintenance
Use a Text File to Back Up a Configuration
Configuration files can be saved to
a text file by using Tera Term:
Step 1
. On the File menu, click
Step 2
. Choose the location to save the
file. Tera Term will begin capturing text.
Step 3
. After capture has been started,
execute the
show running
config
show startup
config
command at the privileged
EXEC prompt. Text displayed in the
terminal window will be directed to the
chosen file.
Step 4
. When the capture is complete,
select
Close
in the Tera Term: Log
window.
Step 5
. View the file to verify that it was
not corrupted.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
0.008 Tw 0 -1.203 TD
/TT1 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
(and
/TT0 1 Tf
0 Tw 0 -1.203 TD
0.008 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (.
Router and Switch File Maintenance
Use a Text File to Restore a Configuration
A configuration can be copied from a file and then directly pasted to a device. The file will
require editing to ensure that encrypted passwords are in plaintext, and that non
command
text such as
More
and IOS messages are removed.
In addition, you may want to add
enable
configure terminal
to the beginning of the file
or enter global configuration mode before pasting the configuration. Instead of copying and
pasting, a configuration can be restored from a text file by using Tera Term. When using
Tera Term, the steps are as follows:
Step 1
. On the File menu, click
Send
file.
Step 2
. Locate the file to be copied into the device and click
Open
Step 3
. Tera Term will paste the file into the device.
The text in the file will be applied as commands in the CLI and become the running
configuration on the device.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
Jan
EMC
Router and Switch File Maintenance
Using TFTP to Back Up and Restore a Configuration
Follow these steps to back up the running configuration to a TFTP server:
Step 1
. Enter the
copy running
config tftp
command.
Step 2
. Enter the IP address of the host where the configuration file will be stored.
Step 3
. Enter the name to assign to the configuration file.
Step 4
. Press Enter to confirm each choice.
Use the following steps to restore the running configuration from a TFTP server:
Step 1
. Enter the
copy tftp running
config
command.
Step 2
. Enter the IP address of the host where the configuration file is stored.
Step 3
. Enter the name to assign to the configuration file.
Step 4
. Press
Enter
to confirm each choice.
copy running
config tftp
Remote host []?
Name of the configuration file to write[R1
config]?
Jan
Write file R1
2019 to 192.168.10.254? [confirm]
Writing R1
Jan
Router and Switch File Maintenance
USB Ports on a Cisco Router
to support USB flash drives. The USB flash feature provides an optional secondary
storage capability and an additional boot device. The USB ports of a Cisco 4321 Router
are shown in the figure.
Use the
dir
command to view the contents of the USB flash drive.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT2 1 Tf
0 Tc 0 Tw (/
-0.007 Tw 0 -1.203 TD
EMC
EMC
EMC
/TT3 1 Tf
conf)8.3 (ig u)8.3 (sbf)8.3 (lash0: )]TJ
EMC
/TT3 1 Tf
0 Tc 0 Tw (-
0 Tc 0 Tw (-
Config
EMC
EMC
EMC
0.002 Tw 0 -1.197 TD
Router and Switch File Maintenance
Using USB to Back Up and Restore a Configuration
Issue the
show file systems
command to verify that the USB drive is there and
confirm its name. For this example, the USB file system is named
usbflash0:
Use the
copy run usbflash0:
command to copy the configuration file to the USB flash
drive. Be sure to use the name of the flash drive, as indicated in the file system. The
slash is optional but indicates the root directory of the USB flash drive.
The IOS will prompt for the filename. If the file already exists on the USB flash drive,
the router will prompt to overwrite.
copy running
config usbflash0:
Destination filename [running
config]? R1
%Warning:There is a file already existing with this name
Do you want to over write? [confirm]
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
0 Tw 0 -1.203 TD
(the
/TT0 1 Tf
EMC
-0.007 Tw 0 -1.203 TD
/TT1 1 Tf
/TT0 1 Tf
0 Tc 0 Tw (,
/TT1 1 Tf
/TT2 1 Tf
Router and Switch File Maintenance
Use the
dir
command to see the file on
the USB drive and use
more
command to see the contents.
To Restore Configurations with a USB
Flash Drive, it will be necessary to edit
the USB R1
Config file with a text editor.
Assuming the file name is
Config
use the command
copy usbflash0:/R1
Config
running
config
to restore a
running configuration.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
/TT1 1 Tf
-0.002 Tc 0.01 Tw T*
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
Router and Switch File Maintenance
Password Recovery Procedures
Passwords on devices are used to prevent unauthorized access. For encrypted
passwords, such as the enable secret passwords, the passwords must be replaced after
recovery. Depending on the device, the detailed procedure for password recovery varies.
However, all the password recovery procedures follow the same principle:
Step 1
. Enter the ROMMON mode.
Step 2
. Change the configuration register.
Step 3
. Copy the startup
config to the running
config.
Step 4
. Change the password.
Step 5
. Save the running
config as the new startup
config.
Step 6
. Reload the device.
Router and Switch File Maintenance
Password Recovery Example
Step 1. Enter the ROMMON mode.
With console access, a user can access the
ROMMON mode by using a break sequence during the boot up process or removing the
external flash memory when the device is powered off.
When successful, the
rommon 1 >
prompt displays, as shown in the example.
Readonly ROMMON initialized
monitor: command "boot" aborted due to user interrupt
rommon 1 >
Router and Switch File Maintenance
Step 2. Change the configuration register.
The
confreg 0x2142
command allows the
user to set the configuration register to 0x2142, which causes the device to ignore the
startup config file during startup.
After setting the configuration register to 0x2142, type
reset
at the prompt to restart the
device. Enter the break sequence while the device is rebooting and decompressing the
IOS. The example displays the terminal output of a 1941 router in the ROMMON mode
after using a break sequence during the boot up process.
rommon 1 >
confreg 0x2142
rommon 2 >
reset
Technical Support: http://www.cisco.com/techsupport
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
0 Tc 0 Tw (-
/TT0 1 Tf
/TT1 1 Tf
0 Tc 0 Tw (-
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
con)-8 (fig run)-8 (ning)]TJ
config
Destina)-8 (tion )-8 (filenam)-8 (e [ru)-8 (nning)]TJ
EMC
EMC
-0.001 Tw 0 -1.203 TD
Router and Switch File Maintenance
Step 3. Copy the startup
config to the running
config.
After the device has finished
reloading, issue the
copy startup
config running
config
command.
CAUTION: Do not enter
copy running
config startup
config
. This command erases
your original startup configuration.
Router#
copy startup
config running
Destination filename [running
config]?
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
-0.002 Tc 0.002 Tw 0 -2.782 TD
/TT0 1 Tf
/TT1 1 Tf
(cisco
EMC
EMC
/TT2 1 Tf
Router and Switch File Maintenance
Step 4. Change the password.
Because you are in privileged EXEC mode, you can now
configure all the necessary passwords.
Note:
The password
is not a strong password and is used here only as an example
configure terminal
Enter configuration commands, one per line. End with CNTL/Z.
enable secret cisco
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
0 Tc 0 Tw (-
0 Tc 0 Tw (-
/TT0 1 Tf
/TT1 1 Tf
0 Tc 0 Tw (-
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
(config
regis)-8 (ter 0x2)-8 (102)]TJ
EMC
/TT2 1 Tf
/TT3 1 Tf
(end
co)-8 (nfig startup)]TJ
EMC
/TT2 1 Tf
EMC
-0.001 Tw 0 -1.203 TD
Router and Switch File Maintenance
Step 5. Save the running
config as the new startup
config.
After the new passwords
are configured, change the configuration register back to 0x2102 by using the
config
register 0x2102
command in the global configuration mode. Save the running
config to
startup
config.
register 0x2102
copy running
config startup
config
Destination filename [startup
config]?
Building configuration... [OK]
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
Router and Switch File Maintenance
Packet Tracer
Backup Configuration Files
In this activity, you will complete the following objectives:
Part 1: Establish Connectivity to TFTP Server
Part 2: Transfer the Configuration File from TFTP Server
Part 3: Backup Configuration and IOS to TFTP Server
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(Lab
EMC
EMC
EMC
-0.002 Tc 0.002 Tw 0 -1.2 TD
EMC
Router and Switch File Maintenance
Use Tera Term to Manage Router Configuration Files
In this lab, you will complete the following objectives:
Part 1: Configure Basic Device Settings
Part 2: Use Terminal Emulation Software to Create a Backup Configuration
File
Part 3: Use a Backup Configuration File to Restore a Router
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(Lab
EMC
-0.007 Tw 0 -1.203 TD
EMC
EMC
EMC
EMC
EMC
Router and Switch File Maintenance
Packet Tracer
Use TFTP, Flash, and USB to Manage
Configuration Files
Physical Mode
Use TFTP, Flash, and USB to Manage Configuration
Files
In this Packet Tracer Physical Mode activity and in the Lab, you will complete the
following objectives:
Part 1: Cable the Network and Configure Basic Device Settings
Part 2: Use TFTP to Back Up and Restore the Switch Running Configuration
Part 3: Use TFTP to Back Up and Restore the Router Running Configuration
Part 4: Back Up and Restore Running Configurations Using Router Flash Memory
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(Lab
EMC
EMC
EMC
Router and Switch File Maintenance
Packet Tracer
Research Password Recovery Procedures
Physical Mode
Research Password Recovery Procedures
In this Packet Tracer Physical Mode activity and in the Lab, you will complete
the following objectives:
Part 1: Research the Configuration Register
Part 2: Document the Password Recovery Procedure for a Specific Cisco
Router
10.7 IOS Image
Management
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
IOS Image Management
Video
Managing Cisco IOS Images
This video will demonstrate the process of upgrading the IOS on a Cisco router.
IOS Image Management
TFTP Servers as a Backup Location
As a network grows, Cisco IOS Software images and configuration files can be stored on
a central TFTP server. This helps to control the number of IOS images and the revisions
to those IOS images, as well as the configuration files that must be maintained.
Production internetworks usually span wide areas and contain multiple routers. For any
network, it is good practice to keep a backup copy of the Cisco IOS Software image in
case the system image on the router becomes corrupted or accidentally erased.
Widely distributed routers need a source or backup location for Cisco IOS Software
images. Using a network TFTP server allows image and configuration uploads and
downloads over the network. The network TFTP server can be another router, a
workstation, or a host system.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.007 Tw 0 -1.203 TD
0 Tw 0 -1.203 TD
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
-0.002 Tc 0.01 Tw 0 -1.519 TD
/TT0 1 Tf
/TT1 1 Tf
/TT2 1 Tf
IOS Image Management
Backup IOS Image to TFTP Server Example
To maintain network operations with minimum down time, it is necessary to have
procedures in place for backing up Cisco IOS images. This allows the network
administrator to quickly copy an image back to a router in case of a corrupted or erased
image. Use the following steps:
Step 1. Ping the TFTP server.
Ping the TFTP server to test connectivity.
Step 2. Verify image size in flash.
Verify that the TFTP server has sufficient disk space
to accommodate the Cisco IOS Software image. Use the
show flash0:
command on the
router to determine the size of the Cisco IOS image file.
Step 3. Copy the image to the TFTP server.
Copy the image to the TFTP server by
using the
copy
source
url destination
url
command. After issuing the command by using
the specified source and destination URLs, the user is prompted for the source file name,
IP address of the remote host, and destination file name. The transfer will then begin.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
0.01 Tw 0 -1.2 TD
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
EMC
EMC
IOS Image Management
Copy an IOS Image to a Device Example
Step 1. Ping the TFTP server.
Ping the TFTP server to test connectivity.
Step 2. Verify the amount of free flash.
Ensure that there is sufficient flash space on the
device being upgraded by using the
show flash:
command. Compare the free flash space
with the new image file size.
Step 3.
Copy the IOS image file from the TFTP server to the router by using the
copy
flash:
command. After issuing this command, the user will be prompted for the IP address of
the remote host, source file name, and destination file name.
copy tftp: flash:
Address or name of remote host []?
2001:DB8:CAFE:100::99
Source filename []?
isr4200
universalk9_ias.16.09.04.SPA.bin
Destination filename [isr4200
universalk9_ias.16.09.04.SPA.bin]?
Accessing tftp://2001:DB8:CAFE:100::99/ isr4200
universalk9_ias.16.09.04.SPA.bin...
Loading isr4200
universalk9_ias.16.09.04.SPA.bin from 2001:DB8:CAFE:100::99 (via
517153193 bytes]
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
/TT1 1 Tf
(boot
/TT0 1 Tf
/TT1 1 Tf
/TT0 1 Tf
EMC
/TT1 1 Tf
/TT0 1 Tf
EMC
0.008 Tw T*
/TT1 1 Tf
/TT0 1 Tf
EMC
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
EMC
/TT2 1 Tf
/TT3 1 Tf
0.01 Tc -0.01 Tw [(ex)10 (it)]TJ
EMC
/TT2 1 Tf
0 Tc 0 Tw T*
/TT3 1 Tf
IOS Image Management
The boot system Command
During startup, the bootstrap code parses the startup configuration file in NVRAM for the
system
commands that specify the name and location of the Cisco IOS Software image to
load. Several
boot system
commands can be entered in sequence to provide a fault
tolerant
boot plan.
If there are no
boot system
commands in the configuration, the router defaults to loading the
first valid Cisco IOS image in flash memory and runs it.
To upgrade to the copied IOS image after that image is saved on the flash memory of the
router, configure the router to load the new image by using the
boot system
command. Save
the configuration. Reload the router to boot the router with new image.
configure terminal
boot system flash0:isr4200
universalk9_ias.16.09.04.SPA.bin
exit
copy running
config startup
config
reload
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
IOS Image Management
Packet Tracer
Use a TFTP Server to Upgrade a Cisco IOS
Image
In this Packet Tracer, you will complete the following objectives:
Part 1: Upgrade an IOS Image on a Cisco Device
Part 2: Backup an IOS Image on a TFTP Server
10.8 Module Practice and Quiz
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
EMC
EMC
EMC
Module Practice and Quiz
Packet Tracer
Configure CDP, LLDP, and NTP
In this Packet Tracer activity, you will complete the following objectives:
Build the Network and Configure Basic Device Settings
Network Discovery with CDP
Network Discovery with LLDP
Configure and Verify NTP
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
(Lab
EMC
EMC
EMC
EMC
EMC
Module Practice and Quiz
Configure CDP, LLDP, and NTP
In this lab, you will complete the following objectives:
Build the Network and Configure Basic Device Settings
Network Discovery with CDP
Network Discovery with LLDP
Configure and Verify NTP
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.018 Tw 0 -1.2 TD
EMC
-0.01 Tw T*
-0.018 Tw T*
EMC
-0.034 Tw T*
[(cdp enabl)2 (e)]TJ
EMC
EMC
EMC
Module Practice and Quiz
What Did I Learn In This Module?
information about Cisco devices which share the same data link.
CDP can be used as a network discovery tool to determine the information about the neighboring
devices. This information gathered from CDP can help build a logical topology of a network when
documentation is missing or lacking in detail.
On Cisco devices, CDP is enabled by default. To enable CDP globally for all the supported
interfaces on the device, enter
cdp run
in the global configuration mode. To enable CDP on the
specific interface, enter the
cdp enable
command.
To verify the status of CDP and display a list of neighbors, use the
show cdp neighbors
command
in the privileged EXEC mode.
neutral
neighbor discovery protocol similar to CDP.
To enable LLDP globally on a Cisco network device, enter the
lldp run
command in the global
configuration mode.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
EMC
[(t)2 (he )8 (ev)16 (ent)2 (s and t)2 (he cause )16 (of)2 ( an ev)16 (ent)2 (.)2 ( )]TJ
EMC
EMC
-0.018 Tw T*
0 Tc 0 Tw (-
-0.026 Tw T*
EMC
Module Practice and Quiz
With LLDP enabled, device neighbors can be discovered by using the
show lldp
neighbors
command. When more details about the neighbors are needed, the
show lldp neighbors
detail
command can provide information, such as the neighbor IOS version, IP address, and device
capability.
When the time is not synchronized between devices, it will be impossible to determine the order of
the events and the cause of an event.
You can manually configure the date and time, or you can configure the NTP, which allows devices
on the network to synchronize their time settings with an NTP server.
NTP networks use a hierarchical system of time sources and each level in this system is called a
stratum. Authoritative time sources, also referred to as stratum 0 devices, are high
precision
timekeeping devices. Stratum 1 devices are directly connected to the authoritative time sources.
Stratum 2 devices, such as NTP clients, synchronize their time by using the NTP packets from
stratum 1 servers.
The
ntp server
address
command is issued in global configuration mode to configure a device as
the NTP server.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
(and
EMC
-0.018 Tw 0 -1.2 TD
EMC
EMC
-0.01 Tw T*
EMC
EMC
EMC
Module Practice and Quiz
To verify the time source is set to NTP, use the
show clock detail
command. The
show ntp
associations
show ntp status
commands are used to verify that a device is synchronized with
the NTP server.
SNMP is an application layer protocol that provides a message format for communication between
managers and agents.
The SNMP system consists of three elements: SNMP manager, SNMP agents, and the MIB.
SNMPv1, SNMPv2c, and SNMPv3 are all versions of SNMP. SNMPv1 is a legacy solution. Both
SNMPv1 and SNMPv2c use a community
based form of security. SNMPv3 provides for both
security models and security levels.
The MIB organizes variables hierarchically. OIDs uniquely identify managed objects in the MIB
hierarchy. The Cisco SNMP Navigator on the
http://www.cisco.com
website allows a network
administrator to research details about a particular OID.
The syslog protocol uses UDP port 514 to allow networking devices to send their system messages
across the network to syslog servers.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.01 Tw T*
EMC
EMC
-0.026 Tw T*
EMC
EMC
U)6 (se t)2 (he com)5 (m)5 (and)]TJ
EMC
EMC
Module Practice and Quiz
The syslog logging service provides three primary functions: gather logging information for
monitoring and troubleshooting, select the type of logging information that is captured, and specify
the destinations of captured syslog messages.
console line, terminal line, and syslog server.
Syslog facilities identify and categorize system state data for error and event message reporting.
Common syslog message facilities reported on Cisco IOS routers include: IP, OSPF protocol, SYS
operating system, IPsec, and IF.
The default format of syslog messages on Cisco IOS software is: %facility
severity
MNEMONIC:
description.
Use the command
service timestamps log datetime
to force logged events to display the date and
time.
The Cisco IFS lets the administrator navigate to different directories and list the files in a directory,
and to create subdirectories in flash memory or on a disk.
Use the
show file systems
command to view the file systems on a Catalyst switch or a Cisco router.
q 1 0 0 1 58.2024 22.9237 cm
q 1 0 0 1 45.9806 22.9237 cm
q 1 0 0 1 64.3399 21.9383 cm
q 1 0 0 1 53.2273 23.2052 cm
q 1 0 0 1 41.1772 29.3169 cm
q 1 0 0 1 44.3795 30.9213 cm
q 1 0 0 1 47.5816 33.1648 cm
q 1 0 0 1 50.7839 30.9213 cm
q 1 0 0 1 53.9861 29.3169 cm
q 1 0 0 1 57.1884 30.9213 cm
q 1 0 0 1 60.3905 33.1648 cm
q 1 0 0 1 63.5928 30.9213 cm
q 1 0 0 1 66.795 29.3169 cm
EMC
EMC
EMC
-0.018 Tw 0 -1.2 TD
EMC
EMC
0 Tc 0 Tw (-
0 Tc 0 Tw (-
EMC
-0.018 Tw T*
EMC
-0.018 Tw T*
EMC
Module Practice and Quiz
Configuration files can be saved to a text file by using Tera Term. A configuration can be copied
from a file and then directly pasted to a device.
Configuration files can be stored on a TFTP server, or a USB drive.
To save the running configuration or the startup configuration to a TFTP server, use either the
copy
running
config tftp
copy startup
config tftp
command.
Cisco IOS Software images and configuration files can be stored on a central TFTP server to
control the number of IOS images and the revisions to those IOS images, as well as the
configuration files that must be maintained.
Select a Cisco IOS image file that meets the requirements in terms of platform, features, and
software. Download the file from cisco.com and transfer it to the TFTP server.
To upgrade to the copied IOS image after that image is saved on the router's flash memory,
configure the router to load the new image during bootup by using the
boot system
command.